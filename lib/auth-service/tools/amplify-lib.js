var Pne=Object.create;var Xl=Object.defineProperty;var Ine=Object.getOwnPropertyDescriptor;var Nne=Object.getOwnPropertyNames;var Rne=Object.getPrototypeOf,One=Object.prototype.hasOwnProperty;var Yl=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var la=(e,n)=>()=>(e&&(n=e(e=0)),n);var C=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),zt=(e,n)=>{for(var r in n)Xl(e,r,{get:n[r],enumerable:!0})},Wl=(e,n,r,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Nne(n))!One.call(e,i)&&i!==r&&Xl(e,i,{get:()=>n[i],enumerable:!(t=Ine(n,i))||t.enumerable});return e},Ue=(e,n,r)=>(Wl(e,n,"default"),r&&Wl(r,n,"default")),W=(e,n,r)=>(r=e!=null?Pne(Rne(e)):{},Wl(n||!e||!e.__esModule?Xl(r,"default",{value:e,enumerable:!0}):r,e)),On=e=>Wl(Xl({},"__esModule",{value:!0}),e);var py={};zt(py,{__assign:()=>fy,__asyncDelegator:()=>cre,__asyncGenerator:()=>sre,__asyncValues:()=>dre,__await:()=>Qc,__awaiter:()=>nre,__classPrivateFieldGet:()=>mre,__classPrivateFieldSet:()=>pre,__createBinding:()=>tre,__decorate:()=>Qne,__exportStar:()=>are,__extends:()=>Xne,__generator:()=>rre,__importDefault:()=>fre,__importStar:()=>ure,__makeTemplateObject:()=>lre,__metadata:()=>ere,__param:()=>Zne,__read:()=>bx,__rest:()=>Yne,__spread:()=>ire,__spreadArrays:()=>ore,__values:()=>my});function Xne(e,n){uy(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function Yne(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function Qne(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function Zne(e,n){return function(r,t){n(r,t,e)}}function ere(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function nre(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function rre(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function tre(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function are(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function my(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function bx(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function ire(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(bx(arguments[n]));return e}function ore(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function Qc(e){return this instanceof Qc?(this.v=e,this):new Qc(e)}function sre(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof Qc?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function cre(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:Qc(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function dre(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof my=="function"?my(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function lre(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function ure(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function fre(e){return e&&e.__esModule?e:{default:e}}function mre(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function pre(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var uy,fy,vy=la(()=>{uy=function(e,n){return uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},uy(e,n)};fy=function(){return fy=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},fy.apply(this,arguments)}});var hy=C(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.BLOCK_SIZE=64;Ii.DIGEST_LENGTH=32;Ii.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Ii.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Ii.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var Ex=C(yy=>{"use strict";Object.defineProperty(yy,"__esModule",{value:!0});var Yr=hy(),vre=function(){function e(){this.state=Int32Array.from(Yr.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,t=n.byteLength;if(this.bytesHashed+=t,this.bytesHashed*8>Yr.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;t>0;)this.buffer[this.bufferLength++]=n[r++],t--,this.bufferLength===Yr.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),t=this.bufferLength;if(r.setUint8(this.bufferLength++,128),t%Yr.BLOCK_SIZE>=Yr.BLOCK_SIZE-8){for(var i=this.bufferLength;i<Yr.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Yr.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(Yr.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),r.setUint32(Yr.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(Yr.DIGEST_LENGTH),i=0;i<8;i++)a[i*4]=this.state[i]>>>24&255,a[i*4+1]=this.state[i]>>>16&255,a[i*4+2]=this.state[i]>>>8&255,a[i*4+3]=this.state[i]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var n=this,r=n.buffer,t=n.state,i=t[0],a=t[1],s=t[2],c=t[3],d=t[4],o=t[5],l=t[6],f=t[7],m=0;m<Yr.BLOCK_SIZE;m++){if(m<16)this.temp[m]=(r[m*4]&255)<<24|(r[m*4+1]&255)<<16|(r[m*4+2]&255)<<8|r[m*4+3]&255;else{var p=this.temp[m-2],v=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[m-15];var h=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[m]=(v+this.temp[m-7]|0)+(h+this.temp[m-16]|0)}var y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&o^~d&l)|0)+(f+(Yr.KEY[m]+this.temp[m]|0)|0)|0,g=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&a^i&s^a&s)|0;f=l,l=o,o=d,d=c+y|0,c=s,s=a,a=i,i=y+g|0}t[0]+=i,t[1]+=a,t[2]+=s,t[3]+=c,t[4]+=d,t[5]+=o,t[6]+=l,t[7]+=f},e}();yy.RawSha256=vre});var _x=C(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.toUtf8=Fo.fromUtf8=void 0;var hre=e=>{let n=[];for(let r=0,t=e.length;r<t;r++){let i=e.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let a=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);n.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else n.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(n)};Fo.fromUtf8=hre;var yre=e=>{let n="";for(let r=0,t=e.length;r<t;r++){let i=e[r];if(i<128)n+=String.fromCharCode(i);else if(192<=i&&i<224){let a=e[++r];n+=String.fromCharCode((i&31)<<6|a&63)}else if(240<=i&&i<365){let s="%"+[i,e[++r],e[++r],e[++r]].map(c=>c.toString(16)).join("%");n+=decodeURIComponent(s)}else n+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return n};Fo.toUtf8=yre});var Sx=C(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.toUtf8=jo.fromUtf8=void 0;function gre(e){return new TextEncoder().encode(e)}jo.fromUtf8=gre;function wre(e){return new TextDecoder("utf-8").decode(e)}jo.toUtf8=wre});var Ax=C(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.toUtf8=qo.fromUtf8=void 0;var xx=_x(),Cx=Sx(),bre=e=>typeof TextEncoder=="function"?Cx.fromUtf8(e):xx.fromUtf8(e);qo.fromUtf8=bre;var Ere=e=>typeof TextDecoder=="function"?Cx.toUtf8(e):xx.toUtf8(e);qo.toUtf8=Ere});var Ix=C(wy=>{"use strict";Object.defineProperty(wy,"__esModule",{value:!0});var Tx=(vy(),On(py)),nu=hy(),gy=Ex(),_re=Ax(),Sre=function(){function e(n){if(this.hash=new gy.RawSha256,n){this.outer=new gy.RawSha256;var r=xre(n),t=new Uint8Array(nu.BLOCK_SIZE);t.set(r);for(var i=0;i<nu.BLOCK_SIZE;i++)r[i]^=54,t[i]^=92;this.hash.update(r),this.outer.update(t);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(n){if(!(Cre(n)||this.error))try{this.hash.update(Px(n))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Tx.__awaiter(this,void 0,void 0,function(){return Tx.__generator(this,function(n){return[2,this.digestSync()]})})},e}();wy.Sha256=Sre;function xre(e){var n=Px(e);if(n.byteLength>nu.BLOCK_SIZE){var r=new gy.RawSha256;r.update(n),n=r.digest()}var t=new Uint8Array(nu.BLOCK_SIZE);return t.set(n),t}function Cre(e){return typeof e=="string"?e.length===0:e.byteLength===0}function Px(e){return typeof e=="string"?_re.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}});var Nx=C(by=>{"use strict";Object.defineProperty(by,"__esModule",{value:!0});var Are=(vy(),On(py));Are.__exportStar(Ix(),by)});var Mx=C((Go,Vo)=>{(function(e){var n=typeof Go=="object"&&Go&&!Go.nodeType&&Go,r=typeof Vo=="object"&&Vo&&!Vo.nodeType&&Vo,t=typeof window=="object"&&window;(t.global===t||t.window===t||t.self===t)&&(e=t);var i,a=2147483647,s=36,c=1,d=26,o=38,l=700,f=72,m=128,p="-",v=/^xn--/,h=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=s-c,b=Math.floor,E=String.fromCharCode,S;function A(F){throw new RangeError(g[F])}function I(F,U){for(var z=F.length,H=[];z--;)H[z]=U(F[z]);return H}function P(F,U){var z=F.split("@"),H="";z.length>1&&(H=z[0]+"@",F=z[1]),F=F.replace(y,".");var L=F.split("."),Q=I(L,U).join(".");return H+Q}function O(F){for(var U=[],z=0,H=F.length,L,Q;z<H;)L=F.charCodeAt(z++),L>=55296&&L<=56319&&z<H?(Q=F.charCodeAt(z++),(Q&64512)==56320?U.push(((L&1023)<<10)+(Q&1023)+65536):(U.push(L),z--)):U.push(L);return U}function k(F){return I(F,function(U){var z="";return U>65535&&(U-=65536,z+=E(U>>>10&1023|55296),U=56320|U&1023),z+=E(U),z}).join("")}function _(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:s}function x(F,U){return F+22+75*(F<26)-((U!=0)<<5)}function T(F,U,z){var H=0;for(F=z?b(F/l):F>>1,F+=b(F/U);F>w*d>>1;H+=s)F=b(F/w);return b(H+(w+1)*F/(F+o))}function M(F){var U=[],z=F.length,H,L=0,Q=m,Y=f,le,re,De,sn,Ae,Be,Ve,pe,vn;for(le=F.lastIndexOf(p),le<0&&(le=0),re=0;re<le;++re)F.charCodeAt(re)>=128&&A("not-basic"),U.push(F.charCodeAt(re));for(De=le>0?le+1:0;De<z;){for(sn=L,Ae=1,Be=s;De>=z&&A("invalid-input"),Ve=_(F.charCodeAt(De++)),(Ve>=s||Ve>b((a-L)/Ae))&&A("overflow"),L+=Ve*Ae,pe=Be<=Y?c:Be>=Y+d?d:Be-Y,!(Ve<pe);Be+=s)vn=s-pe,Ae>b(a/vn)&&A("overflow"),Ae*=vn;H=U.length+1,Y=T(L-sn,H,sn==0),b(L/H)>a-Q&&A("overflow"),Q+=b(L/H),L%=H,U.splice(L++,0,Q)}return k(U)}function D(F){var U,z,H,L,Q,Y,le,re,De,sn,Ae,Be=[],Ve,pe,vn,ca;for(F=O(F),Ve=F.length,U=m,z=0,Q=f,Y=0;Y<Ve;++Y)Ae=F[Y],Ae<128&&Be.push(E(Ae));for(H=L=Be.length,L&&Be.push(p);H<Ve;){for(le=a,Y=0;Y<Ve;++Y)Ae=F[Y],Ae>=U&&Ae<le&&(le=Ae);for(pe=H+1,le-U>b((a-z)/pe)&&A("overflow"),z+=(le-U)*pe,U=le,Y=0;Y<Ve;++Y)if(Ae=F[Y],Ae<U&&++z>a&&A("overflow"),Ae==U){for(re=z,De=s;sn=De<=Q?c:De>=Q+d?d:De-Q,!(re<sn);De+=s)ca=re-sn,vn=s-sn,Be.push(E(x(sn+ca%vn,0))),re=b(ca/vn);Be.push(E(x(re,0))),Q=T(z,pe,H==L),z=0,++H}++z,++U}return Be.join("")}function B(F){return P(F,function(U){return v.test(U)?M(U.slice(4).toLowerCase()):U})}function j(F){return P(F,function(U){return h.test(U)?"xn--"+D(U):U})}if(i={version:"1.4.1",ucs2:{decode:O,encode:k},decode:M,encode:D,toASCII:j,toUnicode:B},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(n&&r)if(Vo.exports==n)r.exports=i;else for(S in i)i.hasOwnProperty(S)&&(n[S]=i[S]);else e.punycode=i})(Go)});var kx=C((PNe,Dx)=>{"use strict";Dx.exports=Error});var Lx=C((INe,zx)=>{"use strict";zx.exports=EvalError});var Ux=C((NNe,Bx)=>{"use strict";Bx.exports=RangeError});var jx=C((RNe,Fx)=>{"use strict";Fx.exports=ReferenceError});var _y=C((ONe,qx)=>{"use strict";qx.exports=SyntaxError});var Ko=C((MNe,$x)=>{"use strict";$x.exports=TypeError});var Gx=C((DNe,Hx)=>{"use strict";Hx.exports=URIError});var Kx=C((kNe,Vx)=>{"use strict";Vx.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var n={},r=Symbol("test"),t=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(t)!=="[object Symbol]")return!1;var i=42;n[r]=i;for(r in n)return!1;if(typeof Object.keys=="function"&&Object.keys(n).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(n).length!==0)return!1;var a=Object.getOwnPropertySymbols(n);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(n,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(n,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var Xx=C((zNe,Wx)=>{"use strict";var Jx=typeof Symbol<"u"&&Symbol,Tre=Kx();Wx.exports=function(){return typeof Jx!="function"||typeof Symbol!="function"||typeof Jx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Tre()}});var Qx=C((LNe,Yx)=>{"use strict";var Sy={__proto__:null,foo:{}},Pre=Object;Yx.exports=function(){return{__proto__:Sy}.foo===Sy.foo&&!(Sy instanceof Pre)}});var nC=C((BNe,eC)=>{"use strict";var Ire="Function.prototype.bind called on incompatible ",Nre=Object.prototype.toString,Rre=Math.max,Ore="[object Function]",Zx=function(n,r){for(var t=[],i=0;i<n.length;i+=1)t[i]=n[i];for(var a=0;a<r.length;a+=1)t[a+n.length]=r[a];return t},Mre=function(n,r){for(var t=[],i=r||0,a=0;i<n.length;i+=1,a+=1)t[a]=n[i];return t},Dre=function(e,n){for(var r="",t=0;t<e.length;t+=1)r+=e[t],t+1<e.length&&(r+=n);return r};eC.exports=function(n){var r=this;if(typeof r!="function"||Nre.apply(r)!==Ore)throw new TypeError(Ire+r);for(var t=Mre(arguments,1),i,a=function(){if(this instanceof i){var l=r.apply(this,Zx(t,arguments));return Object(l)===l?l:this}return r.apply(n,Zx(t,arguments))},s=Rre(0,r.length-t.length),c=[],d=0;d<s;d++)c[d]="$"+d;if(i=Function("binder","return function ("+Dre(c,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var o=function(){};o.prototype=r.prototype,i.prototype=new o,o.prototype=null}return i}});var ru=C((UNe,rC)=>{"use strict";var kre=nC();rC.exports=Function.prototype.bind||kre});var aC=C((FNe,tC)=>{"use strict";var zre=Function.prototype.call,Lre=Object.prototype.hasOwnProperty,Bre=ru();tC.exports=Bre.call(zre,Lre)});var Oi=C((jNe,dC)=>{"use strict";var me,Ure=kx(),Fre=Lx(),jre=Ux(),qre=jx(),Yo=_y(),Xo=Ko(),$re=Gx(),cC=Function,xy=function(e){try{return cC('"use strict"; return ('+e+").constructor;")()}catch{}},Ni=Object.getOwnPropertyDescriptor;if(Ni)try{Ni({},"")}catch{Ni=null}var Cy=function(){throw new Xo},Hre=Ni?function(){try{return arguments.callee,Cy}catch{try{return Ni(arguments,"callee").get}catch{return Cy}}}():Cy,Jo=Xx()(),Gre=Qx()(),hn=Object.getPrototypeOf||(Gre?function(e){return e.__proto__}:null),Wo={},Vre=typeof Uint8Array>"u"||!hn?me:hn(Uint8Array),Ri={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?me:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?me:ArrayBuffer,"%ArrayIteratorPrototype%":Jo&&hn?hn([][Symbol.iterator]()):me,"%AsyncFromSyncIteratorPrototype%":me,"%AsyncFunction%":Wo,"%AsyncGenerator%":Wo,"%AsyncGeneratorFunction%":Wo,"%AsyncIteratorPrototype%":Wo,"%Atomics%":typeof Atomics>"u"?me:Atomics,"%BigInt%":typeof BigInt>"u"?me:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?me:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?me:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?me:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ure,"%eval%":eval,"%EvalError%":Fre,"%Float32Array%":typeof Float32Array>"u"?me:Float32Array,"%Float64Array%":typeof Float64Array>"u"?me:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?me:FinalizationRegistry,"%Function%":cC,"%GeneratorFunction%":Wo,"%Int8Array%":typeof Int8Array>"u"?me:Int8Array,"%Int16Array%":typeof Int16Array>"u"?me:Int16Array,"%Int32Array%":typeof Int32Array>"u"?me:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jo&&hn?hn(hn([][Symbol.iterator]())):me,"%JSON%":typeof JSON=="object"?JSON:me,"%Map%":typeof Map>"u"?me:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Jo||!hn?me:hn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?me:Promise,"%Proxy%":typeof Proxy>"u"?me:Proxy,"%RangeError%":jre,"%ReferenceError%":qre,"%Reflect%":typeof Reflect>"u"?me:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?me:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Jo||!hn?me:hn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?me:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jo&&hn?hn(""[Symbol.iterator]()):me,"%Symbol%":Jo?Symbol:me,"%SyntaxError%":Yo,"%ThrowTypeError%":Hre,"%TypedArray%":Vre,"%TypeError%":Xo,"%Uint8Array%":typeof Uint8Array>"u"?me:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?me:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?me:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?me:Uint32Array,"%URIError%":$re,"%WeakMap%":typeof WeakMap>"u"?me:WeakMap,"%WeakRef%":typeof WeakRef>"u"?me:WeakRef,"%WeakSet%":typeof WeakSet>"u"?me:WeakSet};if(hn)try{null.error}catch(e){iC=hn(hn(e)),Ri["%Error.prototype%"]=iC}var iC,Kre=function e(n){var r;if(n==="%AsyncFunction%")r=xy("async function () {}");else if(n==="%GeneratorFunction%")r=xy("function* () {}");else if(n==="%AsyncGeneratorFunction%")r=xy("async function* () {}");else if(n==="%AsyncGenerator%"){var t=e("%AsyncGeneratorFunction%");t&&(r=t.prototype)}else if(n==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&hn&&(r=hn(i.prototype))}return Ri[n]=r,r},oC={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zc=ru(),tu=aC(),Jre=Zc.call(Function.call,Array.prototype.concat),Wre=Zc.call(Function.apply,Array.prototype.splice),sC=Zc.call(Function.call,String.prototype.replace),au=Zc.call(Function.call,String.prototype.slice),Xre=Zc.call(Function.call,RegExp.prototype.exec),Yre=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Qre=/\\(\\)?/g,Zre=function(n){var r=au(n,0,1),t=au(n,-1);if(r==="%"&&t!=="%")throw new Yo("invalid intrinsic syntax, expected closing `%`");if(t==="%"&&r!=="%")throw new Yo("invalid intrinsic syntax, expected opening `%`");var i=[];return sC(n,Yre,function(a,s,c,d){i[i.length]=c?sC(d,Qre,"$1"):s||a}),i},ete=function(n,r){var t=n,i;if(tu(oC,t)&&(i=oC[t],t="%"+i[0]+"%"),tu(Ri,t)){var a=Ri[t];if(a===Wo&&(a=Kre(t)),typeof a>"u"&&!r)throw new Xo("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:i,name:t,value:a}}throw new Yo("intrinsic "+n+" does not exist!")};dC.exports=function(n,r){if(typeof n!="string"||n.length===0)throw new Xo("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xo('"allowMissing" argument must be a boolean');if(Xre(/^%?[^%]*%?$/,n)===null)throw new Yo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var t=Zre(n),i=t.length>0?t[0]:"",a=ete("%"+i+"%",r),s=a.name,c=a.value,d=!1,o=a.alias;o&&(i=o[0],Wre(t,Jre([0,1],o)));for(var l=1,f=!0;l<t.length;l+=1){var m=t[l],p=au(m,0,1),v=au(m,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new Yo("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(d=!0),i+="."+m,s="%"+i+"%",tu(Ri,s))c=Ri[s];else if(c!=null){if(!(m in c)){if(!r)throw new Xo("base intrinsic for "+n+" exists, but the property is not available.");return}if(Ni&&l+1>=t.length){var h=Ni(c,m);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?c=h.get:c=c[m]}else f=tu(c,m),c=c[m];f&&!d&&(Ri[s]=c)}}return c}});var ou=C((qNe,lC)=>{"use strict";var nte=Oi(),iu=nte("%Object.defineProperty%",!0)||!1;if(iu)try{iu({},"a",{value:1})}catch{iu=!1}lC.exports=iu});var Ay=C(($Ne,uC)=>{"use strict";var rte=Oi(),su=rte("%Object.getOwnPropertyDescriptor%",!0);if(su)try{su([],"length")}catch{su=null}uC.exports=su});var vC=C((HNe,pC)=>{"use strict";var fC=ou(),tte=_y(),Qo=Ko(),mC=Ay();pC.exports=function(n,r,t){if(!n||typeof n!="object"&&typeof n!="function")throw new Qo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Qo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Qo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Qo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Qo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Qo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,c=arguments.length>6?arguments[6]:!1,d=!!mC&&mC(n,r);if(fC)fC(n,r,{configurable:s===null&&d?d.configurable:!s,enumerable:i===null&&d?d.enumerable:!i,value:t,writable:a===null&&d?d.writable:!a});else if(c||!i&&!a&&!s)n[r]=t;else throw new tte("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var gC=C((GNe,yC)=>{"use strict";var Ty=ou(),hC=function(){return!!Ty};hC.hasArrayLengthDefineBug=function(){if(!Ty)return null;try{return Ty([],"length",{value:1}).length!==1}catch{return!0}};yC.exports=hC});var SC=C((VNe,_C)=>{"use strict";var ate=Oi(),wC=vC(),ite=gC()(),bC=Ay(),EC=Ko(),ote=ate("%Math.floor%");_C.exports=function(n,r){if(typeof n!="function")throw new EC("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||ote(r)!==r)throw new EC("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in n&&bC){var s=bC(n,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(a=!1)}return(i||a||!t)&&(ite?wC(n,"length",r,!0,!0):wC(n,"length",r)),n}});var IC=C((KNe,cu)=>{"use strict";var Py=ru(),du=Oi(),ste=SC(),cte=Ko(),AC=du("%Function.prototype.apply%"),TC=du("%Function.prototype.call%"),PC=du("%Reflect.apply%",!0)||Py.call(TC,AC),xC=ou(),dte=du("%Math.max%");cu.exports=function(n){if(typeof n!="function")throw new cte("a function is required");var r=PC(Py,TC,arguments);return ste(r,1+dte(0,n.length-(arguments.length-1)),!0)};var CC=function(){return PC(Py,AC,arguments)};xC?xC(cu.exports,"apply",{value:CC}):cu.exports.apply=CC});var MC=C((JNe,OC)=>{"use strict";var NC=Oi(),RC=IC(),lte=RC(NC("String.prototype.indexOf"));OC.exports=function(n,r){var t=NC(n,!!r);return typeof t=="function"&&lte(n,".prototype.")>-1?RC(t):t}});var DC=C(()=>{});var eA=C((YNe,ZC)=>{var By=typeof Map=="function"&&Map.prototype,Iy=Object.getOwnPropertyDescriptor&&By?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,uu=By&&Iy&&typeof Iy.get=="function"?Iy.get:null,kC=By&&Map.prototype.forEach,Uy=typeof Set=="function"&&Set.prototype,Ny=Object.getOwnPropertyDescriptor&&Uy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,fu=Uy&&Ny&&typeof Ny.get=="function"?Ny.get:null,zC=Uy&&Set.prototype.forEach,ute=typeof WeakMap=="function"&&WeakMap.prototype,nd=ute?WeakMap.prototype.has:null,fte=typeof WeakSet=="function"&&WeakSet.prototype,rd=fte?WeakSet.prototype.has:null,mte=typeof WeakRef=="function"&&WeakRef.prototype,LC=mte?WeakRef.prototype.deref:null,pte=Boolean.prototype.valueOf,vte=Object.prototype.toString,hte=Function.prototype.toString,yte=String.prototype.match,Fy=String.prototype.slice,Ha=String.prototype.replace,gte=String.prototype.toUpperCase,BC=String.prototype.toLowerCase,KC=RegExp.prototype.test,UC=Array.prototype.concat,Lt=Array.prototype.join,wte=Array.prototype.slice,FC=Math.floor,My=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ry=Object.getOwnPropertySymbols,Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Zo||!0)?Symbol.toStringTag:null,JC=Object.prototype.propertyIsEnumerable,jC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function qC(e,n){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||KC.call(/e/,n))return n;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var t=e<0?-FC(-e):FC(e);if(t!==e){var i=String(t),a=Fy.call(n,i.length+1);return Ha.call(i,r,"$&_")+"."+Ha.call(Ha.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ha.call(n,r,"$&_")}var ky=DC(),$C=ky.custom,HC=XC($C)?$C:null;ZC.exports=function e(n,r,t,i){var a=r||{};if($a(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($a(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=$a(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($a(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($a(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=a.numericSeparator;if(typeof n>"u")return"undefined";if(n===null)return"null";if(typeof n=="boolean")return n?"true":"false";if(typeof n=="string")return QC(n,a);if(typeof n=="number"){if(n===0)return 1/0/n>0?"0":"-0";var d=String(n);return c?qC(n,d):d}if(typeof n=="bigint"){var o=String(n)+"n";return c?qC(n,o):o}var l=typeof a.depth>"u"?5:a.depth;if(typeof t>"u"&&(t=0),t>=l&&l>0&&typeof n=="object")return zy(n)?"[Array]":"[Object]";var f=Lte(a,t);if(typeof i>"u")i=[];else if(YC(i,n)>=0)return"[Circular]";function m(T,M,D){if(M&&(i=wte.call(i),i.push(M)),D){var B={depth:a.depth};return $a(a,"quoteStyle")&&(B.quoteStyle=a.quoteStyle),e(T,B,t+1,i)}return e(T,a,t+1,i)}if(typeof n=="function"&&!GC(n)){var p=Pte(n),v=lu(n,m);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(v.length>0?" { "+Lt.call(v,", ")+" }":"")}if(XC(n)){var h=Zo?Ha.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):Dy.call(n);return typeof n=="object"&&!Zo?ed(h):h}if(Dte(n)){for(var y="<"+BC.call(String(n.nodeName)),g=n.attributes||[],w=0;w<g.length;w++)y+=" "+g[w].name+"="+WC(bte(g[w].value),"double",a);return y+=">",n.childNodes&&n.childNodes.length&&(y+="..."),y+="</"+BC.call(String(n.nodeName))+">",y}if(zy(n)){if(n.length===0)return"[]";var b=lu(n,m);return f&&!zte(b)?"["+Ly(b,f)+"]":"[ "+Lt.call(b,", ")+" ]"}if(_te(n)){var E=lu(n,m);return!("cause"in Error.prototype)&&"cause"in n&&!JC.call(n,"cause")?"{ ["+String(n)+"] "+Lt.call(UC.call("[cause]: "+m(n.cause),E),", ")+" }":E.length===0?"["+String(n)+"]":"{ ["+String(n)+"] "+Lt.call(E,", ")+" }"}if(typeof n=="object"&&s){if(HC&&typeof n[HC]=="function"&&ky)return ky(n,{depth:l-t});if(s!=="symbol"&&typeof n.inspect=="function")return n.inspect()}if(Ite(n)){var S=[];return kC&&kC.call(n,function(T,M){S.push(m(M,n,!0)+" => "+m(T,n))}),VC("Map",uu.call(n),S,f)}if(Ote(n)){var A=[];return zC&&zC.call(n,function(T){A.push(m(T,n))}),VC("Set",fu.call(n),A,f)}if(Nte(n))return Oy("WeakMap");if(Mte(n))return Oy("WeakSet");if(Rte(n))return Oy("WeakRef");if(xte(n))return ed(m(Number(n)));if(Ate(n))return ed(m(My.call(n)));if(Cte(n))return ed(pte.call(n));if(Ste(n))return ed(m(String(n)));if(typeof window<"u"&&n===window)return"{ [object Window] }";if(typeof globalThis<"u"&&n===globalThis||typeof window<"u"&&n===window)return"{ [object globalThis] }";if(!Ete(n)&&!GC(n)){var I=lu(n,m),P=jC?jC(n)===Object.prototype:n instanceof Object||n.constructor===Object,O=n instanceof Object?"":"null prototype",k=!P&&Mn&&Object(n)===n&&Mn in n?Fy.call(Ga(n),8,-1):O?"Object":"",_=P||typeof n.constructor!="function"?"":n.constructor.name?n.constructor.name+" ":"",x=_+(k||O?"["+Lt.call(UC.call([],k||[],O||[]),": ")+"] ":"");return I.length===0?x+"{}":f?x+"{"+Ly(I,f)+"}":x+"{ "+Lt.call(I,", ")+" }"}return String(n)};function WC(e,n,r){var t=(r.quoteStyle||n)==="double"?'"':"'";return t+e+t}function bte(e){return Ha.call(String(e),/"/g,"&quot;")}function zy(e){return Ga(e)==="[object Array]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function Ete(e){return Ga(e)==="[object Date]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function GC(e){return Ga(e)==="[object RegExp]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function _te(e){return Ga(e)==="[object Error]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function Ste(e){return Ga(e)==="[object String]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function xte(e){return Ga(e)==="[object Number]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function Cte(e){return Ga(e)==="[object Boolean]"&&(!Mn||!(typeof e=="object"&&Mn in e))}function XC(e){if(Zo)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Dy)return!1;try{return Dy.call(e),!0}catch{}return!1}function Ate(e){if(!e||typeof e!="object"||!My)return!1;try{return My.call(e),!0}catch{}return!1}var Tte=Object.prototype.hasOwnProperty||function(e){return e in this};function $a(e,n){return Tte.call(e,n)}function Ga(e){return vte.call(e)}function Pte(e){if(e.name)return e.name;var n=yte.call(hte.call(e),/^function\s*([\w$]+)/);return n?n[1]:null}function YC(e,n){if(e.indexOf)return e.indexOf(n);for(var r=0,t=e.length;r<t;r++)if(e[r]===n)return r;return-1}function Ite(e){if(!uu||!e||typeof e!="object")return!1;try{uu.call(e);try{fu.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Nte(e){if(!nd||!e||typeof e!="object")return!1;try{nd.call(e,nd);try{rd.call(e,rd)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function Rte(e){if(!LC||!e||typeof e!="object")return!1;try{return LC.call(e),!0}catch{}return!1}function Ote(e){if(!fu||!e||typeof e!="object")return!1;try{fu.call(e);try{uu.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Mte(e){if(!rd||!e||typeof e!="object")return!1;try{rd.call(e,rd);try{nd.call(e,nd)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Dte(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function QC(e,n){if(e.length>n.maxStringLength){var r=e.length-n.maxStringLength,t="... "+r+" more character"+(r>1?"s":"");return QC(Fy.call(e,0,n.maxStringLength),n)+t}var i=Ha.call(Ha.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,kte);return WC(i,"single",n)}function kte(e){var n=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[n];return r?"\\"+r:"\\x"+(n<16?"0":"")+gte.call(n.toString(16))}function ed(e){return"Object("+e+")"}function Oy(e){return e+" { ? }"}function VC(e,n,r,t){var i=t?Ly(r,t):Lt.call(r,", ");return e+" ("+n+") {"+i+"}"}function zte(e){for(var n=0;n<e.length;n++)if(YC(e[n],`
`)>=0)return!1;return!0}function Lte(e,n){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=Lt.call(Array(e.indent+1)," ");else return null;return{base:r,prev:Lt.call(Array(n+1),r)}}function Ly(e,n){if(e.length===0)return"";var r=`
`+n.prev+n.base;return r+Lt.call(e,","+r)+`
`+n.prev}function lu(e,n){var r=zy(e),t=[];if(r){t.length=e.length;for(var i=0;i<e.length;i++)t[i]=$a(e,i)?n(e[i],e):""}var a=typeof Ry=="function"?Ry(e):[],s;if(Zo){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=a[c]}for(var d in e)$a(e,d)&&(r&&String(Number(d))===d&&d<e.length||Zo&&s["$"+d]instanceof Symbol||(KC.call(/[^\w$]/,d)?t.push(n(d,e)+": "+n(e[d],e)):t.push(d+": "+n(e[d],e))));if(typeof Ry=="function")for(var o=0;o<a.length;o++)JC.call(e,a[o])&&t.push("["+n(a[o])+"]: "+n(e[a[o]],e));return t}});var tA=C((QNe,rA)=>{"use strict";var nA=Oi(),es=MC(),Bte=eA(),Ute=Ko(),mu=nA("%WeakMap%",!0),pu=nA("%Map%",!0),Fte=es("WeakMap.prototype.get",!0),jte=es("WeakMap.prototype.set",!0),qte=es("WeakMap.prototype.has",!0),$te=es("Map.prototype.get",!0),Hte=es("Map.prototype.set",!0),Gte=es("Map.prototype.has",!0),jy=function(e,n){for(var r=e,t;(t=r.next)!==null;r=t)if(t.key===n)return r.next=t.next,t.next=e.next,e.next=t,t},Vte=function(e,n){var r=jy(e,n);return r&&r.value},Kte=function(e,n,r){var t=jy(e,n);t?t.value=r:e.next={key:n,next:e.next,value:r}},Jte=function(e,n){return!!jy(e,n)};rA.exports=function(){var n,r,t,i={assert:function(a){if(!i.has(a))throw new Ute("Side channel does not contain "+Bte(a))},get:function(a){if(mu&&a&&(typeof a=="object"||typeof a=="function")){if(n)return Fte(n,a)}else if(pu){if(r)return $te(r,a)}else if(t)return Vte(t,a)},has:function(a){if(mu&&a&&(typeof a=="object"||typeof a=="function")){if(n)return qte(n,a)}else if(pu){if(r)return Gte(r,a)}else if(t)return Jte(t,a);return!1},set:function(a,s){mu&&a&&(typeof a=="object"||typeof a=="function")?(n||(n=new mu),jte(n,a,s)):pu?(r||(r=new pu),Hte(r,a,s)):(t||(t={key:{},next:null}),Kte(t,a,s))}};return i}});var vu=C((ZNe,aA)=>{"use strict";var Wte=String.prototype.replace,Xte=/%20/g,qy={RFC1738:"RFC1738",RFC3986:"RFC3986"};aA.exports={default:qy.RFC3986,formatters:{RFC1738:function(e){return Wte.call(e,Xte,"+")},RFC3986:function(e){return String(e)}},RFC1738:qy.RFC1738,RFC3986:qy.RFC3986}});var Gy=C((eRe,oA)=>{"use strict";var Yte=vu(),$y=Object.prototype.hasOwnProperty,Mi=Array.isArray,Bt=function(){for(var e=[],n=0;n<256;++n)e.push("%"+((n<16?"0":"")+n.toString(16)).toUpperCase());return e}(),Qte=function(n){for(;n.length>1;){var r=n.pop(),t=r.obj[r.prop];if(Mi(t)){for(var i=[],a=0;a<t.length;++a)typeof t[a]<"u"&&i.push(t[a]);r.obj[r.prop]=i}}},iA=function(n,r){for(var t=r&&r.plainObjects?Object.create(null):{},i=0;i<n.length;++i)typeof n[i]<"u"&&(t[i]=n[i]);return t},Zte=function e(n,r,t){if(!r)return n;if(typeof r!="object"){if(Mi(n))n.push(r);else if(n&&typeof n=="object")(t&&(t.plainObjects||t.allowPrototypes)||!$y.call(Object.prototype,r))&&(n[r]=!0);else return[n,r];return n}if(!n||typeof n!="object")return[n].concat(r);var i=n;return Mi(n)&&!Mi(r)&&(i=iA(n,t)),Mi(n)&&Mi(r)?(r.forEach(function(a,s){if($y.call(n,s)){var c=n[s];c&&typeof c=="object"&&a&&typeof a=="object"?n[s]=e(c,a,t):n.push(a)}else n[s]=a}),n):Object.keys(r).reduce(function(a,s){var c=r[s];return $y.call(a,s)?a[s]=e(a[s],c,t):a[s]=c,a},i)},eae=function(n,r){return Object.keys(r).reduce(function(t,i){return t[i]=r[i],t},n)},nae=function(e,n,r){var t=e.replace(/\+/g," ");if(r==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},Hy=1024,rae=function(n,r,t,i,a){if(n.length===0)return n;var s=n;if(typeof n=="symbol"?s=Symbol.prototype.toString.call(n):typeof n!="string"&&(s=String(n)),t==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var c="",d=0;d<s.length;d+=Hy){for(var o=s.length>=Hy?s.slice(d,d+Hy):s,l=[],f=0;f<o.length;++f){var m=o.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||a===Yte.RFC1738&&(m===40||m===41)){l[l.length]=o.charAt(f);continue}if(m<128){l[l.length]=Bt[m];continue}if(m<2048){l[l.length]=Bt[192|m>>6]+Bt[128|m&63];continue}if(m<55296||m>=57344){l[l.length]=Bt[224|m>>12]+Bt[128|m>>6&63]+Bt[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|o.charCodeAt(f)&1023),l[l.length]=Bt[240|m>>18]+Bt[128|m>>12&63]+Bt[128|m>>6&63]+Bt[128|m&63]}c+=l.join("")}return c},tae=function(n){for(var r=[{obj:{o:n},prop:"o"}],t=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],c=Object.keys(s),d=0;d<c.length;++d){var o=c[d],l=s[o];typeof l=="object"&&l!==null&&t.indexOf(l)===-1&&(r.push({obj:s,prop:o}),t.push(l))}return Qte(r),n},aae=function(n){return Object.prototype.toString.call(n)==="[object RegExp]"},iae=function(n){return!n||typeof n!="object"?!1:!!(n.constructor&&n.constructor.isBuffer&&n.constructor.isBuffer(n))},oae=function(n,r){return[].concat(n,r)},sae=function(n,r){if(Mi(n)){for(var t=[],i=0;i<n.length;i+=1)t.push(r(n[i]));return t}return r(n)};oA.exports={arrayToObject:iA,assign:eae,combine:oae,compact:tae,decode:nae,encode:rae,isBuffer:iae,isRegExp:aae,maybeMap:sae,merge:Zte}});var fA=C((nRe,uA)=>{"use strict";var cA=tA(),hu=Gy(),td=vu(),cae=Object.prototype.hasOwnProperty,dA={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,r){return n+"["+r+"]"},repeat:function(n){return n}},Ut=Array.isArray,dae=Array.prototype.push,lA=function(e,n){dae.apply(e,Ut(n)?n:[n])},lae=Date.prototype.toISOString,sA=td.default,dn={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hu.encode,encodeValuesOnly:!1,format:sA,formatter:td.formatters[sA],indices:!1,serializeDate:function(n){return lae.call(n)},skipNulls:!1,strictNullHandling:!1},uae=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},Vy={},fae=function e(n,r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w){for(var b=n,E=w,S=0,A=!1;(E=E.get(Vy))!==void 0&&!A;){var I=E.get(n);if(S+=1,typeof I<"u"){if(I===S)throw new RangeError("Cyclic object value");A=!0}typeof E.get(Vy)>"u"&&(S=0)}if(typeof l=="function"?b=l(r,b):b instanceof Date?b=p(b):t==="comma"&&Ut(b)&&(b=hu.maybeMap(b,function(z){return z instanceof Date?p(z):z})),b===null){if(s)return o&&!y?o(r,dn.encoder,g,"key",v):r;b=""}if(uae(b)||hu.isBuffer(b)){if(o){var P=y?r:o(r,dn.encoder,g,"key",v);return[h(P)+"="+h(o(b,dn.encoder,g,"value",v))]}return[h(r)+"="+h(String(b))]}var O=[];if(typeof b>"u")return O;var k;if(t==="comma"&&Ut(b))y&&o&&(b=hu.maybeMap(b,o)),k=[{value:b.length>0?b.join(",")||null:void 0}];else if(Ut(l))k=l;else{var _=Object.keys(b);k=f?_.sort(f):_}var x=d?r.replace(/\./g,"%2E"):r,T=i&&Ut(b)&&b.length===1?x+"[]":x;if(a&&Ut(b)&&b.length===0)return T+"[]";for(var M=0;M<k.length;++M){var D=k[M],B=typeof D=="object"&&typeof D.value<"u"?D.value:b[D];if(!(c&&B===null)){var j=m&&d?D.replace(/\./g,"%2E"):D,F=Ut(b)?typeof t=="function"?t(T,j):T:T+(m?"."+j:"["+j+"]");w.set(n,S);var U=cA();U.set(Vy,w),lA(O,e(B,F,t,i,a,s,c,d,t==="comma"&&y&&Ut(b)?null:o,l,f,m,p,v,h,y,g,U))}}return O},mae=function(n){if(!n)return dn;if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.encodeDotInKeys<"u"&&typeof n.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=n.charset||dn.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=td.default;if(typeof n.format<"u"){if(!cae.call(td.formatters,n.format))throw new TypeError("Unknown format option provided.");t=n.format}var i=td.formatters[t],a=dn.filter;(typeof n.filter=="function"||Ut(n.filter))&&(a=n.filter);var s;if(n.arrayFormat in dA?s=n.arrayFormat:"indices"in n?s=n.indices?"indices":"repeat":s=dn.arrayFormat,"commaRoundTrip"in n&&typeof n.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof n.allowDots>"u"?n.encodeDotInKeys===!0?!0:dn.allowDots:!!n.allowDots;return{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:dn.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:dn.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:dn.charsetSentinel,commaRoundTrip:n.commaRoundTrip,delimiter:typeof n.delimiter>"u"?dn.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:dn.encode,encodeDotInKeys:typeof n.encodeDotInKeys=="boolean"?n.encodeDotInKeys:dn.encodeDotInKeys,encoder:typeof n.encoder=="function"?n.encoder:dn.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:dn.encodeValuesOnly,filter:a,format:t,formatter:i,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:dn.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:dn.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:dn.strictNullHandling}};uA.exports=function(e,n){var r=e,t=mae(n),i,a;typeof t.filter=="function"?(a=t.filter,r=a("",r)):Ut(t.filter)&&(a=t.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var c=dA[t.arrayFormat],d=c==="comma"&&t.commaRoundTrip;i||(i=Object.keys(r)),t.sort&&i.sort(t.sort);for(var o=cA(),l=0;l<i.length;++l){var f=i[l];t.skipNulls&&r[f]===null||lA(s,fae(r[f],f,c,d,t.allowEmptyArrays,t.strictNullHandling,t.skipNulls,t.encodeDotInKeys,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset,o))}var m=s.join(t.delimiter),p=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),m.length>0?p+m:""}});var vA=C((rRe,pA)=>{"use strict";var ns=Gy(),Ky=Object.prototype.hasOwnProperty,pae=Array.isArray,Fe={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ns.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},vae=function(e){return e.replace(/&#(\d+);/g,function(n,r){return String.fromCharCode(parseInt(r,10))})},mA=function(e,n){return e&&typeof e=="string"&&n.comma&&e.indexOf(",")>-1?e.split(","):e},hae="utf8=%26%2310003%3B",yae="utf8=%E2%9C%93",gae=function(n,r){var t={__proto__:null},i=r.ignoreQueryPrefix?n.replace(/^\?/,""):n;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),c=-1,d,o=r.charset;if(r.charsetSentinel)for(d=0;d<s.length;++d)s[d].indexOf("utf8=")===0&&(s[d]===yae?o="utf-8":s[d]===hae&&(o="iso-8859-1"),c=d,d=s.length);for(d=0;d<s.length;++d)if(d!==c){var l=s[d],f=l.indexOf("]="),m=f===-1?l.indexOf("="):f+1,p,v;m===-1?(p=r.decoder(l,Fe.decoder,o,"key"),v=r.strictNullHandling?null:""):(p=r.decoder(l.slice(0,m),Fe.decoder,o,"key"),v=ns.maybeMap(mA(l.slice(m+1),r),function(y){return r.decoder(y,Fe.decoder,o,"value")})),v&&r.interpretNumericEntities&&o==="iso-8859-1"&&(v=vae(v)),l.indexOf("[]=")>-1&&(v=pae(v)?[v]:v);var h=Ky.call(t,p);h&&r.duplicates==="combine"?t[p]=ns.combine(t[p],v):(!h||r.duplicates==="last")&&(t[p]=v)}return t},wae=function(e,n,r,t){for(var i=t?n:mA(n,r),a=e.length-1;a>=0;--a){var s,c=e[a];if(c==="[]"&&r.parseArrays)s=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{s=r.plainObjects?Object.create(null):{};var d=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,o=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,l=parseInt(o,10);!r.parseArrays&&o===""?s={0:i}:!isNaN(l)&&c!==o&&String(l)===o&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[],s[l]=i):o!=="__proto__"&&(s[o]=i)}i=s}return i},bae=function(n,r,t,i){if(n){var a=t.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,s=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,d=t.depth>0&&s.exec(a),o=d?a.slice(0,d.index):a,l=[];if(o){if(!t.plainObjects&&Ky.call(Object.prototype,o)&&!t.allowPrototypes)return;l.push(o)}for(var f=0;t.depth>0&&(d=c.exec(a))!==null&&f<t.depth;){if(f+=1,!t.plainObjects&&Ky.call(Object.prototype,d[1].slice(1,-1))&&!t.allowPrototypes)return;l.push(d[1])}if(d){if(t.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");l.push("["+a.slice(d.index)+"]")}return wae(l,r,t,i)}},Eae=function(n){if(!n)return Fe;if(typeof n.allowEmptyArrays<"u"&&typeof n.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof n.decodeDotInKeys<"u"&&typeof n.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(n.decoder!==null&&typeof n.decoder<"u"&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof n.charset>"u"?Fe.charset:n.charset,t=typeof n.duplicates>"u"?Fe.duplicates:n.duplicates;if(t!=="combine"&&t!=="first"&&t!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof n.allowDots>"u"?n.decodeDotInKeys===!0?!0:Fe.allowDots:!!n.allowDots;return{allowDots:i,allowEmptyArrays:typeof n.allowEmptyArrays=="boolean"?!!n.allowEmptyArrays:Fe.allowEmptyArrays,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:Fe.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:Fe.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:Fe.arrayLimit,charset:r,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:Fe.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:Fe.comma,decodeDotInKeys:typeof n.decodeDotInKeys=="boolean"?n.decodeDotInKeys:Fe.decodeDotInKeys,decoder:typeof n.decoder=="function"?n.decoder:Fe.decoder,delimiter:typeof n.delimiter=="string"||ns.isRegExp(n.delimiter)?n.delimiter:Fe.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:Fe.depth,duplicates:t,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:Fe.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:Fe.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:Fe.plainObjects,strictDepth:typeof n.strictDepth=="boolean"?!!n.strictDepth:Fe.strictDepth,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:Fe.strictNullHandling}};pA.exports=function(e,n){var r=Eae(n);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var t=typeof e=="string"?gae(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(t),s=0;s<a.length;++s){var c=a[s],d=bae(c,t[c],r,typeof e=="string");i=ns.merge(i,d,r)}return r.allowSparse===!0?i:ns.compact(i)}});var yA=C((tRe,hA)=>{"use strict";var _ae=fA(),Sae=vA(),xae=vu();hA.exports={formats:xae,parse:Sae,stringify:_ae}});var as=C(ts=>{"use strict";var Cae=Mx();function Qr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Aae=/^([a-z0-9.+-]+:)/i,Tae=/:[0-9]*$/,Pae=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Iae=["<",">",'"',"`"," ","\r",`
`,"	"],Nae=["{","}","|","\\","^","`"].concat(Iae),Jy=["'"].concat(Nae),gA=["%","/","?",";","#"].concat(Jy),wA=["/","?","#"],Rae=255,bA=/^[+a-z0-9A-Z_-]{0,63}$/,Oae=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Mae={javascript:!0,"javascript:":!0},Wy={javascript:!0,"javascript:":!0},rs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xy=yA();function ad(e,n,r){if(e&&typeof e=="object"&&e instanceof Qr)return e;var t=new Qr;return t.parse(e,n,r),t}Qr.prototype.parse=function(e,n,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var t=e.indexOf("?"),i=t!==-1&&t<e.indexOf("#")?"?":"#",a=e.split(i),s=/\\/g;a[0]=a[0].replace(s,"/"),e=a.join(i);var c=e;if(c=c.trim(),!r&&e.split("#").length===1){var d=Pae.exec(c);if(d)return this.path=c,this.href=c,this.pathname=d[1],d[2]?(this.search=d[2],n?this.query=Xy.parse(this.search.substr(1)):this.query=this.search.substr(1)):n&&(this.search="",this.query={}),this}var o=Aae.exec(c);if(o){o=o[0];var l=o.toLowerCase();this.protocol=l,c=c.substr(o.length)}if(r||o||c.match(/^\/\/[^@/]+@[^@/]+/)){var f=c.substr(0,2)==="//";f&&!(o&&Wy[o])&&(c=c.substr(2),this.slashes=!0)}if(!Wy[o]&&(f||o&&!rs[o])){for(var m=-1,p=0;p<wA.length;p++){var v=c.indexOf(wA[p]);v!==-1&&(m===-1||v<m)&&(m=v)}var h,y;m===-1?y=c.lastIndexOf("@"):y=c.lastIndexOf("@",m),y!==-1&&(h=c.slice(0,y),c=c.slice(y+1),this.auth=decodeURIComponent(h)),m=-1;for(var p=0;p<gA.length;p++){var v=c.indexOf(gA[p]);v!==-1&&(m===-1||v<m)&&(m=v)}m===-1&&(m=c.length),this.host=c.slice(0,m),c=c.slice(m),this.parseHost(),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g)for(var w=this.hostname.split(/\./),p=0,b=w.length;p<b;p++){var E=w[p];if(E&&!E.match(bA)){for(var S="",A=0,I=E.length;A<I;A++)E.charCodeAt(A)>127?S+="x":S+=E[A];if(!S.match(bA)){var P=w.slice(0,p),O=w.slice(p+1),k=E.match(Oae);k&&(P.push(k[1]),O.unshift(k[2])),O.length&&(c="/"+O.join(".")+c),this.hostname=P.join(".");break}}}this.hostname.length>Rae?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Cae.toASCII(this.hostname));var _=this.port?":"+this.port:"",x=this.hostname||"";this.host=x+_,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!Mae[l])for(var p=0,b=Jy.length;p<b;p++){var T=Jy[p];if(c.indexOf(T)!==-1){var M=encodeURIComponent(T);M===T&&(M=escape(T)),c=c.split(T).join(M)}}var D=c.indexOf("#");D!==-1&&(this.hash=c.substr(D),c=c.slice(0,D));var B=c.indexOf("?");if(B!==-1?(this.search=c.substr(B),this.query=c.substr(B+1),n&&(this.query=Xy.parse(this.query)),c=c.slice(0,B)):n&&(this.search="",this.query={}),c&&(this.pathname=c),rs[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var _=this.pathname||"",j=this.search||"";this.path=_+j}return this.href=this.format(),this};function Dae(e){return typeof e=="string"&&(e=ad(e)),e instanceof Qr?e.format():Qr.prototype.format.call(e)}Qr.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var n=this.protocol||"",r=this.pathname||"",t=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(a=Xy.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return n&&n.substr(-1)!==":"&&(n+=":"),this.slashes||(!n||rs[n])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),t&&t.charAt(0)!=="#"&&(t="#"+t),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),s=s.replace("#","%23"),n+i+r+s+t};function kae(e,n){return ad(e,!1,!0).resolve(n)}Qr.prototype.resolve=function(e){return this.resolveObject(ad(e,!1,!0)).format()};function zae(e,n){return e?ad(e,!1,!0).resolveObject(n):n}Qr.prototype.resolveObject=function(e){if(typeof e=="string"){var n=new Qr;n.parse(e,!1,!0),e=n}for(var r=new Qr,t=Object.keys(this),i=0;i<t.length;i++){var a=t[i];r[a]=this[a]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),c=0;c<s.length;c++){var d=s[c];d!=="protocol"&&(r[d]=e[d])}return rs[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!rs[e.protocol]){for(var o=Object.keys(e),l=0;l<o.length;l++){var f=o[l];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Wy[e.protocol]){for(var b=(e.pathname||"").split("/");b.length&&!(e.host=b.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",p=r.search||"";r.path=m+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",h=e.host||e.pathname&&e.pathname.charAt(0)==="/",y=h||v||r.host&&e.pathname,g=y,w=r.pathname&&r.pathname.split("/")||[],b=e.pathname&&e.pathname.split("/")||[],E=r.protocol&&!rs[r.protocol];if(E&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(b[0]===""?b[0]=e.host:b.unshift(e.host)),e.host=null),y=y&&(b[0]===""||w[0]==="")),h)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=b;else if(b.length)w||(w=[]),w.pop(),w=w.concat(b),r.search=e.search,r.query=e.query;else if(e.search!=null){if(E){r.host=w.shift(),r.hostname=r.host;var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=w.slice(-1)[0],I=(r.host||e.host||w.length>1)&&(A==="."||A==="..")||A==="",P=0,O=w.length;O>=0;O--)A=w[O],A==="."?w.splice(O,1):A===".."?(w.splice(O,1),P++):P&&(w.splice(O,1),P--);if(!y&&!g)for(;P--;P)w.unshift("..");y&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),I&&w.join("/").substr(-1)!=="/"&&w.push("");var k=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(E){r.hostname=k?"":w.length?w.shift():"",r.host=r.hostname;var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;S&&(r.auth=S.shift(),r.hostname=S.shift(),r.host=r.hostname)}return y=y||r.host&&w.length,y&&!k&&w.unshift(""),w.length>0?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Qr.prototype.parseHost=function(){var e=this.host,n=Tae.exec(e);n&&(n=n[0],n!==":"&&(this.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(this.hostname=e)};ts.parse=ad;ts.resolve=kae;ts.resolveObject=zae;ts.format=Dae;ts.Url=Qr});var AA=C(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Observable=void 0;function ng(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _A(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function rg(e,n,r){return n&&_A(e.prototype,n),r&&_A(e,r),e}var tg=function(){return typeof Symbol=="function"},ag=function(e){return tg()&&!!Symbol[e]},ig=function(e){return ag(e)?Symbol[e]:"@@"+e};tg()&&!ag("observable")&&(Symbol.observable=Symbol("observable"));var Vae=ig("iterator"),Zy=ig("observable"),SA=ig("species");function wu(e,n){var r=e[n];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function id(e){var n=e.constructor;return n!==void 0&&(n=n[SA],n===null&&(n=void 0)),n!==void 0?n:bu}function Kae(e){return e instanceof bu}function is(e){is.log?is.log(e):setTimeout(function(){throw e})}function gu(e){Promise.resolve().then(function(){try{e()}catch(n){is(n)}})}function xA(e){var n=e._cleanup;if(n!==void 0&&(e._cleanup=void 0,!!n))try{if(typeof n=="function")n();else{var r=wu(n,"unsubscribe");r&&r.call(n)}}catch(t){is(t)}}function eg(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Jae(e){var n=e._queue;if(n){e._queue=void 0,e._state="ready";for(var r=0;r<n.length&&(CA(e,n[r].type,n[r].value),e._state!=="closed");++r);}}function CA(e,n,r){e._state="running";var t=e._observer;try{var i=wu(t,n);switch(n){case"next":i&&i.call(t,r);break;case"error":if(eg(e),i)i.call(t,r);else throw r;break;case"complete":eg(e),i&&i.call(t);break}}catch(a){is(a)}e._state==="closed"?xA(e):e._state==="running"&&(e._state="ready")}function Qy(e,n,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:n,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:n,value:r}],gu(function(){return Jae(e)});return}CA(e,n,r)}}var Wae=function(){function e(n,r){ng(this,e),this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var t=new Xae(this);try{this._cleanup=r.call(void 0,t)}catch(i){t.error(i)}this._state==="initializing"&&(this._state="ready")}return rg(e,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(eg(this),xA(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),e}(),Xae=function(){function e(n){ng(this,e),this._subscription=n}return rg(e,[{key:"next",value:function(r){Qy(this._subscription,"next",r)}},{key:"error",value:function(r){Qy(this._subscription,"error",r)}},{key:"complete",value:function(){Qy(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),bu=function(){function e(n){if(ng(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}return rg(e,[{key:"subscribe",value:function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new Wae(r,this._subscriber)}},{key:"forEach",value:function(r){var t=this;return new Promise(function(i,a){if(typeof r!="function"){a(new TypeError(r+" is not a function"));return}function s(){c.unsubscribe(),i()}var c=t.subscribe({next:function(d){try{r(d,s)}catch(o){a(o),c.unsubscribe()}},error:a,complete:i})})}},{key:"map",value:function(r){var t=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=id(this);return new i(function(a){return t.subscribe({next:function(s){try{s=r(s)}catch(c){return a.error(c)}a.next(s)},error:function(s){a.error(s)},complete:function(){a.complete()}})})}},{key:"filter",value:function(r){var t=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=id(this);return new i(function(a){return t.subscribe({next:function(s){try{if(!r(s))return}catch(c){return a.error(c)}a.next(s)},error:function(s){a.error(s)},complete:function(){a.complete()}})})}},{key:"reduce",value:function(r){var t=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=id(this),a=arguments.length>1,s=!1,c=arguments[1],d=c;return new i(function(o){return t.subscribe({next:function(l){var f=!s;if(s=!0,!f||a)try{d=r(d,l)}catch(m){return o.error(m)}else d=l},error:function(l){o.error(l)},complete:function(){if(!s&&!a)return o.error(new TypeError("Cannot reduce an empty sequence"));o.next(d),o.complete()}})})}},{key:"concat",value:function(){for(var r=this,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=id(this);return new s(function(c){var d,o=0;function l(f){d=f.subscribe({next:function(m){c.next(m)},error:function(m){c.error(m)},complete:function(){o===i.length?(d=void 0,c.complete()):l(s.from(i[o++]))}})}return l(r),function(){d&&(d.unsubscribe(),d=void 0)}})}},{key:"flatMap",value:function(r){var t=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=id(this);return new i(function(a){var s=[],c=t.subscribe({next:function(o){if(r)try{o=r(o)}catch(f){return a.error(f)}var l=i.from(o).subscribe({next:function(f){a.next(f)},error:function(f){a.error(f)},complete:function(){var f=s.indexOf(l);f>=0&&s.splice(f,1),d()}});s.push(l)},error:function(o){a.error(o)},complete:function(){d()}});function d(){c.closed&&s.length===0&&a.complete()}return function(){s.forEach(function(o){return o.unsubscribe()}),c.unsubscribe()}})}},{key:Zy,value:function(){return this}}],[{key:"from",value:function(r){var t=typeof this=="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var i=wu(r,Zy);if(i){var a=i.call(r);if(Object(a)!==a)throw new TypeError(a+" is not an object");return Kae(a)&&a.constructor===t?a:new t(function(s){return a.subscribe(s)})}if(ag("iterator")&&(i=wu(r,Vae),i))return new t(function(s){gu(function(){if(!s.closed){var c=!0,d=!1,o=void 0;try{for(var l=i.call(r)[Symbol.iterator](),f;!(c=(f=l.next()).done);c=!0){var m=f.value;if(s.next(m),s.closed)return}}catch(p){d=!0,o=p}finally{try{!c&&l.return!=null&&l.return()}finally{if(d)throw o}}s.complete()}})});if(Array.isArray(r))return new t(function(s){gu(function(){if(!s.closed){for(var c=0;c<r.length;++c)if(s.next(r[c]),s.closed)return;s.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];var a=typeof this=="function"?this:e;return new a(function(s){gu(function(){if(!s.closed){for(var c=0;c<t.length;++c)if(s.next(t[c]),s.closed)return;s.complete()}})})}},{key:SA,get:function(){return this}}]),e}();Eu.Observable=bu;tg()&&Object.defineProperty(bu,Symbol("extensions"),{value:{symbol:Zy,hostReportError:is},configurable:!0})});var PA=C((dRe,TA)=>{TA.exports=AA().Observable});var xu={};zt(xu,{__assign:()=>lg,__asyncDelegator:()=>_ie,__asyncGenerator:()=>Eie,__asyncValues:()=>Sie,__await:()=>cd,__awaiter:()=>vie,__classPrivateFieldGet:()=>Tie,__classPrivateFieldSet:()=>Pie,__createBinding:()=>yie,__decorate:()=>fie,__exportStar:()=>gie,__extends:()=>lie,__generator:()=>hie,__importDefault:()=>Aie,__importStar:()=>Cie,__makeTemplateObject:()=>xie,__metadata:()=>pie,__param:()=>mie,__read:()=>qA,__rest:()=>uie,__spread:()=>wie,__spreadArrays:()=>bie,__values:()=>ug});function lie(e,n){dg(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function uie(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function fie(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function mie(e,n){return function(r,t){n(r,t,e)}}function pie(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function vie(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function hie(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function yie(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function gie(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function ug(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function qA(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function wie(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(qA(arguments[n]));return e}function bie(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function cd(e){return this instanceof cd?(this.v=e,this):new cd(e)}function Eie(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof cd?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function _ie(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:cd(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function Sie(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof ug=="function"?ug(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function xie(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function Cie(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function Aie(e){return e&&e.__esModule?e:{default:e}}function Tie(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function Pie(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var dg,lg,Cu=la(()=>{dg=function(e,n){return dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},dg(e,n)};lg=function(){return lg=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},lg.apply(this,arguments)}});var $A=C(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.isEmptyData=void 0;function Iie(e){return typeof e=="string"?e.length===0:e.byteLength===0}Au.isEmptyData=Iie});var fg=C(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.EMPTY_DATA_SHA_256=pa.SHA_256_HMAC_ALGO=pa.SHA_256_HASH=void 0;pa.SHA_256_HASH={name:"SHA-256"};pa.SHA_256_HMAC_ALGO={name:"HMAC",hash:pa.SHA_256_HASH};pa.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});var HA=C(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.toUtf8=ss.fromUtf8=void 0;var Nie=e=>{let n=[];for(let r=0,t=e.length;r<t;r++){let i=e.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let a=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);n.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else n.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(n)};ss.fromUtf8=Nie;var Rie=e=>{let n="";for(let r=0,t=e.length;r<t;r++){let i=e[r];if(i<128)n+=String.fromCharCode(i);else if(192<=i&&i<224){let a=e[++r];n+=String.fromCharCode((i&31)<<6|a&63)}else if(240<=i&&i<365){let s="%"+[i,e[++r],e[++r],e[++r]].map(c=>c.toString(16)).join("%");n+=decodeURIComponent(s)}else n+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return n};ss.toUtf8=Rie});var GA=C(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.toUtf8=cs.fromUtf8=void 0;function Oie(e){return new TextEncoder().encode(e)}cs.fromUtf8=Oie;function Mie(e){return new TextDecoder("utf-8").decode(e)}cs.toUtf8=Mie});var hr=C(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.toUtf8=ds.fromUtf8=void 0;var VA=HA(),KA=GA(),Die=e=>typeof TextEncoder=="function"?KA.fromUtf8(e):VA.fromUtf8(e);ds.fromUtf8=Die;var kie=e=>typeof TextDecoder=="function"?KA.toUtf8(e):VA.toUtf8(e);ds.toUtf8=kie});var Di=C((zRe,XA)=>{var Tu=Object.defineProperty,zie=Object.getOwnPropertyDescriptor,Lie=Object.getOwnPropertyNames,Bie=Object.prototype.hasOwnProperty,Uie=(e,n)=>Tu(e,"name",{value:n,configurable:!0}),Fie=(e,n)=>{for(var r in n)Tu(e,r,{get:n[r],enumerable:!0})},jie=(e,n,r,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of Lie(n))!Bie.call(e,i)&&i!==r&&Tu(e,i,{get:()=>n[i],enumerable:!(t=zie(n,i))||t.enumerable});return e},qie=e=>jie(Tu({},"__esModule",{value:!0}),e),JA={};Fie(JA,{locateWindow:()=>WA});XA.exports=qie(JA);var $ie={};function WA(){return typeof window<"u"?window:typeof self<"u"?self:$ie}Uie(WA,"locateWindow")});var pg=C(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.Sha256=void 0;var Hie=$A(),YA=fg(),Gie=hr(),mg=Di(),Vie=function(){function e(n){n?(this.operation=Kie(n).then(function(r){return(0,mg.locateWindow)().msCrypto.subtle.sign(YA.SHA_256_HMAC_ALGO,r)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,mg.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(n){var r=this;(0,Hie.isEmptyData)(n)||(this.operation=this.operation.then(function(t){return t.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},t.process(QA(n)),t}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(n){return new Promise(function(r,t){n.onerror=function(){t(new Error("Error encountered finalizing hash"))},n.oncomplete=function(){n.result&&r(new Uint8Array(n.result)),t(new Error("Error encountered finalizing hash"))},n.finish()})})},e}();Pu.Sha256=Vie;function Kie(e){return new Promise(function(n,r){var t=(0,mg.locateWindow)().msCrypto.subtle.importKey("raw",QA(e),YA.SHA_256_HMAC_ALGO,!1,["sign"]);t.oncomplete=function(){t.result&&n(t.result),r(new Error("ImportKey completed without importing key."))},t.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function QA(e){return typeof e=="string"?(0,Gie.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}});var ZA=C(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.convertToBuffer=void 0;var Jie=hr(),Wie=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Jie.fromUtf8;function Xie(e){return e instanceof Uint8Array?e:typeof e=="string"?Wie(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Iu.convertToBuffer=Xie});var eT=C(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.isEmptyData=void 0;function Yie(e){return typeof e=="string"?e.length===0:e.byteLength===0}Nu.isEmptyData=Yie});var nT=C(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.numToUint8=void 0;function Qie(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Ru.numToUint8=Qie});var rT=C(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.uint32ArrayFrom=void 0;function Zie(e){if(!Array.from){for(var n=new Uint32Array(e.length),r=0;r<e.length;)n[r]=e[r];return n}return Uint32Array.from(e)}Ou.uint32ArrayFrom=Zie});var dd=C(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.uint32ArrayFrom=Ft.numToUint8=Ft.isEmptyData=Ft.convertToBuffer=void 0;var eoe=ZA();Object.defineProperty(Ft,"convertToBuffer",{enumerable:!0,get:function(){return eoe.convertToBuffer}});var noe=eT();Object.defineProperty(Ft,"isEmptyData",{enumerable:!0,get:function(){return noe.isEmptyData}});var roe=nT();Object.defineProperty(Ft,"numToUint8",{enumerable:!0,get:function(){return roe.numToUint8}});var toe=rT();Object.defineProperty(Ft,"uint32ArrayFrom",{enumerable:!0,get:function(){return toe.uint32ArrayFrom}})});var hg=C(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.Sha256=void 0;var Mu=dd(),Du=fg(),vg=Di(),aoe=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(r,t){(0,vg.locateWindow)().crypto.subtle.importKey("raw",(0,Mu.convertToBuffer)(n),Du.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,t)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!(0,Mu.isEmptyData)(n)){var r=(0,Mu.convertToBuffer)(n),t=new Uint8Array(this.toHash.byteLength+r.byteLength);t.set(this.toHash,0),t.set(r,this.toHash.byteLength),this.toHash=t}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(r){return(0,vg.locateWindow)().crypto.subtle.sign(Du.SHA_256_HMAC_ALGO,r,n.toHash).then(function(t){return new Uint8Array(t)})}):(0,Mu.isEmptyData)(this.toHash)?Promise.resolve(Du.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,vg.locateWindow)().crypto.subtle.digest(Du.SHA_256_HASH,n.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e}();ku.Sha256=aoe});var yg=C(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.MAX_HASHABLE_LENGTH=Zr.INIT=Zr.KEY=Zr.DIGEST_LENGTH=Zr.BLOCK_SIZE=void 0;Zr.BLOCK_SIZE=64;Zr.DIGEST_LENGTH=32;Zr.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Zr.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Zr.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var tT=C(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.RawSha256=void 0;var et=yg(),ioe=function(){function e(){this.state=Int32Array.from(et.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,t=n.byteLength;if(this.bytesHashed+=t,this.bytesHashed*8>et.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;t>0;)this.buffer[this.bufferLength++]=n[r++],t--,this.bufferLength===et.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),t=this.bufferLength;if(r.setUint8(this.bufferLength++,128),t%et.BLOCK_SIZE>=et.BLOCK_SIZE-8){for(var i=this.bufferLength;i<et.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<et.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(et.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),r.setUint32(et.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(et.DIGEST_LENGTH),i=0;i<8;i++)a[i*4]=this.state[i]>>>24&255,a[i*4+1]=this.state[i]>>>16&255,a[i*4+2]=this.state[i]>>>8&255,a[i*4+3]=this.state[i]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var n=this,r=n.buffer,t=n.state,i=t[0],a=t[1],s=t[2],c=t[3],d=t[4],o=t[5],l=t[6],f=t[7],m=0;m<et.BLOCK_SIZE;m++){if(m<16)this.temp[m]=(r[m*4]&255)<<24|(r[m*4+1]&255)<<16|(r[m*4+2]&255)<<8|r[m*4+3]&255;else{var p=this.temp[m-2],v=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[m-15];var h=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[m]=(v+this.temp[m-7]|0)+(h+this.temp[m-16]|0)}var y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&o^~d&l)|0)+(f+(et.KEY[m]+this.temp[m]|0)|0)|0,g=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&a^i&s^a&s)|0;f=l,l=o,o=d,d=c+y|0,c=s,s=a,a=i,i=y+g|0}t[0]+=i,t[1]+=a,t[2]+=s,t[3]+=c,t[4]+=d,t[5]+=o,t[6]+=l,t[7]+=f},e}();zu.RawSha256=ioe});var iT=C(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.Sha256=void 0;var aT=(Cu(),On(xu)),Lu=yg(),gg=tT(),wg=dd(),ooe=function(){function e(n){if(this.hash=new gg.RawSha256,n){this.outer=new gg.RawSha256;var r=soe(n),t=new Uint8Array(Lu.BLOCK_SIZE);t.set(r);for(var i=0;i<Lu.BLOCK_SIZE;i++)r[i]^=54,t[i]^=92;this.hash.update(r),this.outer.update(t);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(n){if(!((0,wg.isEmptyData)(n)||this.error))try{this.hash.update((0,wg.convertToBuffer)(n))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,aT.__awaiter)(this,void 0,void 0,function(){return(0,aT.__generator)(this,function(n){return[2,this.digestSync()]})})},e}();Bu.Sha256=ooe;function soe(e){var n=(0,wg.convertToBuffer)(e);if(n.byteLength>Lu.BLOCK_SIZE){var r=new gg.RawSha256;r.update(n),n=r.digest()}var t=new Uint8Array(Lu.BLOCK_SIZE);return t.set(n),t}});var oT=C(bg=>{"use strict";Object.defineProperty(bg,"__esModule",{value:!0});var coe=(Cu(),On(xu));(0,coe.__exportStar)(iT(),bg)});var xg={};zt(xg,{__assign:()=>_g,__asyncDelegator:()=>Eoe,__asyncGenerator:()=>boe,__asyncValues:()=>_oe,__await:()=>ld,__awaiter:()=>poe,__classPrivateFieldGet:()=>Aoe,__classPrivateFieldSet:()=>Toe,__createBinding:()=>hoe,__decorate:()=>uoe,__exportStar:()=>yoe,__extends:()=>doe,__generator:()=>voe,__importDefault:()=>Coe,__importStar:()=>xoe,__makeTemplateObject:()=>Soe,__metadata:()=>moe,__param:()=>foe,__read:()=>sT,__rest:()=>loe,__spread:()=>goe,__spreadArrays:()=>woe,__values:()=>Sg});function doe(e,n){Eg(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function loe(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function uoe(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function foe(e,n){return function(r,t){n(r,t,e)}}function moe(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function poe(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function voe(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function hoe(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function yoe(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function Sg(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function sT(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function goe(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(sT(arguments[n]));return e}function woe(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function ld(e){return this instanceof ld?(this.v=e,this):new ld(e)}function boe(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof ld?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Eoe(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:ld(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function _oe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof Sg=="function"?Sg(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function Soe(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function xoe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function Coe(e){return e&&e.__esModule?e:{default:e}}function Aoe(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function Toe(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var Eg,_g,Cg=la(()=>{Eg=function(e,n){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},Eg(e,n)};_g=function(){return _g=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},_g.apply(this,arguments)}});var lT=C(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.supportsZeroByteGCM=jt.supportsSubtleCrypto=jt.supportsSecureRandom=jt.supportsWebCrypto=void 0;var cT=(Cg(),On(xg)),Poe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Ioe(e){if(dT(e)&&typeof e.crypto.subtle=="object"){var n=e.crypto.subtle;return Ag(n)}return!1}jt.supportsWebCrypto=Ioe;function dT(e){if(typeof e=="object"&&typeof e.crypto=="object"){var n=e.crypto.getRandomValues;return typeof n=="function"}return!1}jt.supportsSecureRandom=dT;function Ag(e){return e&&Poe.every(function(n){return typeof e[n]=="function"})}jt.supportsSubtleCrypto=Ag;function Noe(e){return cT.__awaiter(this,void 0,void 0,function(){var n,r,t;return cT.__generator(this,function(i){switch(i.label){case 0:if(!Ag(e))return[2,!1];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return n=i.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},n,new Uint8Array(0))];case 3:return r=i.sent(),[2,r.byteLength===16];case 4:return t=i.sent(),[2,!1];case 5:return[2]}})})}jt.supportsZeroByteGCM=Noe});var uT=C(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var Roe=(Cg(),On(xg));Roe.__exportStar(lT(),Tg)});var mT={};zt(mT,{__assign:()=>Ig,__asyncDelegator:()=>Hoe,__asyncGenerator:()=>$oe,__asyncValues:()=>Goe,__await:()=>ud,__awaiter:()=>Loe,__classPrivateFieldGet:()=>Woe,__classPrivateFieldSet:()=>Xoe,__createBinding:()=>Uoe,__decorate:()=>Doe,__exportStar:()=>Foe,__extends:()=>Ooe,__generator:()=>Boe,__importDefault:()=>Joe,__importStar:()=>Koe,__makeTemplateObject:()=>Voe,__metadata:()=>zoe,__param:()=>koe,__read:()=>fT,__rest:()=>Moe,__spread:()=>joe,__spreadArrays:()=>qoe,__values:()=>Ng});function Ooe(e,n){Pg(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function Moe(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function Doe(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function koe(e,n){return function(r,t){n(r,t,e)}}function zoe(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function Loe(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function Boe(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Uoe(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function Foe(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function Ng(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function fT(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function joe(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(fT(arguments[n]));return e}function qoe(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function ud(e){return this instanceof ud?(this.v=e,this):new ud(e)}function $oe(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof ud?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Hoe(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:ud(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function Goe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof Ng=="function"?Ng(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function Voe(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function Koe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function Joe(e){return e&&e.__esModule?e:{default:e}}function Woe(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function Xoe(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var Pg,Ig,pT=la(()=>{Pg=function(e,n){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},Pg(e,n)};Ig=function(){return Ig=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Ig.apply(this,arguments)}});var hT=C(vT=>{"use strict";Object.defineProperty(vT,"__esModule",{value:!0})});var gT=C(yT=>{"use strict";Object.defineProperty(yT,"__esModule",{value:!0})});var bT=C(wT=>{"use strict";Object.defineProperty(wT,"__esModule",{value:!0})});var _T=C(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0})});var ST=C(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.isMsWindow=void 0;var Yoe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Qoe(e){return"MSInputMethodContext"in e&&"msCrypto"in e}function Zoe(e){if(Qoe(e)&&e.msCrypto.subtle!==void 0){var n=e.msCrypto,r=n.getRandomValues,t=n.subtle;return Yoe.map(function(i){return t[i]}).concat(r).every(function(i){return typeof i=="function"})}return!1}Uu.isMsWindow=Zoe});var xT=C(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});var fd=(pT(),On(mT));fd.__exportStar(hT(),ki);fd.__exportStar(gT(),ki);fd.__exportStar(bT(),ki);fd.__exportStar(_T(),ki);fd.__exportStar(ST(),ki)});var AT=C(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Sha256=void 0;var ese=pg(),nse=hg(),rse=oT(),tse=uT(),ase=xT(),CT=Di(),ise=function(){function e(n){(0,tse.supportsWebCrypto)((0,CT.locateWindow)())?this.hash=new nse.Sha256(n):(0,ase.isMsWindow)((0,CT.locateWindow)())?this.hash=new ese.Sha256(n):this.hash=new rse.Sha256(n)}return e.prototype.update=function(n,r){this.hash.update(n,r)},e.prototype.digest=function(){return this.hash.digest()},e}();Fu.Sha256=ise});var va=C(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.WebCryptoSha256=zi.Ie11Sha256=void 0;var ose=(Cu(),On(xu));(0,ose.__exportStar)(AT(),zi);var sse=pg();Object.defineProperty(zi,"Ie11Sha256",{enumerable:!0,get:function(){return sse.Sha256}});var cse=hg();Object.defineProperty(zi,"WebCryptoSha256",{enumerable:!0,get:function(){return cse.Sha256}})});var Bg=C((nOe,Lg)=>{var VT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);VT?(kg=new Uint8Array(16),Lg.exports=function(){return VT(kg),kg}):(zg=new Array(16),Lg.exports=function(){for(var n=0,r;n<16;n++)n&3||(r=Math.random()*4294967296),zg[n]=r>>>((n&3)<<3)&255;return zg});var kg,zg});var Ug=C((rOe,JT)=>{var KT=[];for(yd=0;yd<256;++yd)KT[yd]=(yd+256).toString(16).substr(1);var yd;function wse(e,n){var r=n||0,t=KT;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}JT.exports=wse});var YT=C((tOe,XT)=>{var bse=Bg(),Ese=Ug(),WT,Fg,jg=0,qg=0;function _se(e,n,r){var t=n&&r||0,i=n||[];e=e||{};var a=e.node||WT,s=e.clockseq!==void 0?e.clockseq:Fg;if(a==null||s==null){var c=bse();a==null&&(a=WT=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),s==null&&(s=Fg=(c[6]<<8|c[7])&16383)}var d=e.msecs!==void 0?e.msecs:new Date().getTime(),o=e.nsecs!==void 0?e.nsecs:qg+1,l=d-jg+(o-qg)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||d>jg)&&e.nsecs===void 0&&(o=0),o>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jg=d,qg=o,Fg=s,d+=122192928e5;var f=((d&268435455)*1e4+o)%4294967296;i[t++]=f>>>24&255,i[t++]=f>>>16&255,i[t++]=f>>>8&255,i[t++]=f&255;var m=d/4294967296*1e4&268435455;i[t++]=m>>>8&255,i[t++]=m&255,i[t++]=m>>>24&15|16,i[t++]=m>>>16&255,i[t++]=s>>>8|128,i[t++]=s&255;for(var p=0;p<6;++p)i[t+p]=a[p];return n||Ese(i)}XT.exports=_se});var ZT=C((aOe,QT)=>{var Sse=Bg(),xse=Ug();function Cse(e,n,r){var t=n&&r||0;typeof e=="string"&&(n=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||Sse)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n)for(var a=0;a<16;++a)n[t+a]=i[a];return n||xse(i)}QT.exports=Cse});var ps=C((iOe,n3)=>{var Ase=YT(),e3=ZT(),$g=e3;$g.v1=Ase;$g.v4=e3;n3.exports=$g});var Gg=C((gd,Hg)=>{(function(e,n){typeof gd=="object"&&typeof Hg=="object"?Hg.exports=n():typeof define=="function"&&define.amd?define([],n):typeof gd=="object"?gd.bowser=n():e.bowser=n()})(gd,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=n,r.d=function(t,i,a){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},r.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i||4&i&&typeof t=="object"&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&typeof t!="string")for(var s in t)r.d(a,s,function(c){return t[c]}.bind(null,s));return a},r.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="",r(r.s=90)}({17:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t=r(18),i=function(){function a(){}return a.getFirstMatch=function(s,c){var d=c.match(s);return d&&d.length>0&&d[1]||""},a.getSecondMatch=function(s,c){var d=c.match(s);return d&&d.length>1&&d[2]||""},a.matchAndReturnConst=function(s,c,d){if(s.test(c))return d},a.getWindowsVersionName=function(s){switch(s){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},a.getMacOSVersionName=function(s){var c=s.split(".").splice(0,2).map(function(d){return parseInt(d,10)||0});if(c.push(0),c[0]===10)switch(c[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},a.getAndroidVersionName=function(s){var c=s.split(".").splice(0,2).map(function(d){return parseInt(d,10)||0});if(c.push(0),!(c[0]===1&&c[1]<5))return c[0]===1&&c[1]<6?"Cupcake":c[0]===1&&c[1]>=6?"Donut":c[0]===2&&c[1]<2?"Eclair":c[0]===2&&c[1]===2?"Froyo":c[0]===2&&c[1]>2?"Gingerbread":c[0]===3?"Honeycomb":c[0]===4&&c[1]<1?"Ice Cream Sandwich":c[0]===4&&c[1]<4?"Jelly Bean":c[0]===4&&c[1]>=4?"KitKat":c[0]===5?"Lollipop":c[0]===6?"Marshmallow":c[0]===7?"Nougat":c[0]===8?"Oreo":c[0]===9?"Pie":void 0},a.getVersionPrecision=function(s){return s.split(".").length},a.compareVersions=function(s,c,d){d===void 0&&(d=!1);var o=a.getVersionPrecision(s),l=a.getVersionPrecision(c),f=Math.max(o,l),m=0,p=a.map([s,c],function(v){var h=f-a.getVersionPrecision(v),y=v+new Array(h+1).join(".0");return a.map(y.split("."),function(g){return new Array(20-g.length).join("0")+g}).reverse()});for(d&&(m=f-Math.min(o,l)),f-=1;f>=m;){if(p[0][f]>p[1][f])return 1;if(p[0][f]===p[1][f]){if(f===m)return 0;f-=1}else if(p[0][f]<p[1][f])return-1}},a.map=function(s,c){var d,o=[];if(Array.prototype.map)return Array.prototype.map.call(s,c);for(d=0;d<s.length;d+=1)o.push(c(s[d]));return o},a.find=function(s,c){var d,o;if(Array.prototype.find)return Array.prototype.find.call(s,c);for(d=0,o=s.length;d<o;d+=1){var l=s[d];if(c(l,d))return l}},a.assign=function(s){for(var c,d,o=s,l=arguments.length,f=new Array(l>1?l-1:0),m=1;m<l;m++)f[m-1]=arguments[m];if(Object.assign)return Object.assign.apply(Object,[s].concat(f));var p=function(){var v=f[c];typeof v=="object"&&v!==null&&Object.keys(v).forEach(function(h){o[h]=v[h]})};for(c=0,d=f.length;c<d;c+=1)p();return s},a.getBrowserAlias=function(s){return t.BROWSER_ALIASES_MAP[s]},a.getBrowserTypeByAlias=function(s){return t.BROWSER_MAP[s]||""},a}();n.default=i,e.exports=n.default},18:function(e,n,r){"use strict";n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t,i=(t=r(91))&&t.__esModule?t:{default:t},a=r(18);function s(d,o){for(var l=0;l<o.length;l++){var f=o[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}var c=function(){function d(){}var o,l,f;return d.getParser=function(m,p){if(p===void 0&&(p=!1),typeof m!="string")throw new Error("UserAgent should be a string");return new i.default(m,p)},d.parse=function(m){return new i.default(m).getResult()},o=d,f=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}],(l=null)&&s(o.prototype,l),f&&s(o,f),d}();n.default=c,e.exports=n.default},91:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t=d(r(92)),i=d(r(93)),a=d(r(94)),s=d(r(95)),c=d(r(17));function d(l){return l&&l.__esModule?l:{default:l}}var o=function(){function l(m,p){if(p===void 0&&(p=!1),m==null||m==="")throw new Error("UserAgent parameter can't be empty");this._ua=m,this.parsedResult={},p!==!0&&this.parse()}var f=l.prototype;return f.getUA=function(){return this._ua},f.test=function(m){return m.test(this._ua)},f.parseBrowser=function(){var m=this;this.parsedResult.browser={};var p=c.default.find(t.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(h){return m.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(m){return m?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var m=this;this.parsedResult.os={};var p=c.default.find(i.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(h){return m.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(m){var p=this.getOS().name;return m?String(p).toLowerCase()||"":p||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(m){m===void 0&&(m=!1);var p=this.getPlatform().type;return m?String(p).toLowerCase()||"":p||""},f.parsePlatform=function(){var m=this;this.parsedResult.platform={};var p=c.default.find(a.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(h){return m.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(m){return m?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var m=this;this.parsedResult.engine={};var p=c.default.find(s.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(h){return m.test(h)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return c.default.assign({},this.parsedResult)},f.satisfies=function(m){var p=this,v={},h=0,y={},g=0;if(Object.keys(m).forEach(function(O){var k=m[O];typeof k=="string"?(y[O]=k,g+=1):typeof k=="object"&&(v[O]=k,h+=1)}),h>0){var w=Object.keys(v),b=c.default.find(w,function(O){return p.isOS(O)});if(b){var E=this.satisfies(v[b]);if(E!==void 0)return E}var S=c.default.find(w,function(O){return p.isPlatform(O)});if(S){var A=this.satisfies(v[S]);if(A!==void 0)return A}}if(g>0){var I=Object.keys(y),P=c.default.find(I,function(O){return p.isBrowser(O,!0)});if(P!==void 0)return this.compareVersion(y[P])}},f.isBrowser=function(m,p){p===void 0&&(p=!1);var v=this.getBrowserName().toLowerCase(),h=m.toLowerCase(),y=c.default.getBrowserTypeByAlias(h);return p&&y&&(h=y.toLowerCase()),h===v},f.compareVersion=function(m){var p=[0],v=m,h=!1,y=this.getBrowserVersion();if(typeof y=="string")return m[0]===">"||m[0]==="<"?(v=m.substr(1),m[1]==="="?(h=!0,v=m.substr(2)):p=[],m[0]===">"?p.push(1):p.push(-1)):m[0]==="="?v=m.substr(1):m[0]==="~"&&(h=!0,v=m.substr(1)),p.indexOf(c.default.compareVersions(y,v,h))>-1},f.isOS=function(m){return this.getOSName(!0)===String(m).toLowerCase()},f.isPlatform=function(m){return this.getPlatformType(!0)===String(m).toLowerCase()},f.isEngine=function(m){return this.getEngineName(!0)===String(m).toLowerCase()},f.is=function(m,p){return p===void 0&&(p=!1),this.isBrowser(m,p)||this.isOS(m)||this.isPlatform(m)},f.some=function(m){var p=this;return m===void 0&&(m=[]),m.some(function(v){return p.is(v)})},l}();n.default=o,e.exports=n.default},92:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t,i=(t=r(17))&&t.__esModule?t:{default:t},a=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(c){var d={name:"Googlebot"},o=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/opera/i],describe:function(c){var d={name:"Opera"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/opr\/|opios/i],describe:function(c){var d={name:"Opera"},o=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/SamsungBrowser/i],describe:function(c){var d={name:"Samsung Internet for Android"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/Whale/i],describe:function(c){var d={name:"NAVER Whale Browser"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/MZBrowser/i],describe:function(c){var d={name:"MZ Browser"},o=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/focus/i],describe:function(c){var d={name:"Focus"},o=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/swing/i],describe:function(c){var d={name:"Swing"},o=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/coast/i],describe:function(c){var d={name:"Opera Coast"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(c){var d={name:"Opera Touch"},o=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/yabrowser/i],describe:function(c){var d={name:"Yandex Browser"},o=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/ucbrowser/i],describe:function(c){var d={name:"UC Browser"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/Maxthon|mxios/i],describe:function(c){var d={name:"Maxthon"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/epiphany/i],describe:function(c){var d={name:"Epiphany"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/puffin/i],describe:function(c){var d={name:"Puffin"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/sleipnir/i],describe:function(c){var d={name:"Sleipnir"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/k-meleon/i],describe:function(c){var d={name:"K-Meleon"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/micromessenger/i],describe:function(c){var d={name:"WeChat"},o=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/qqbrowser/i],describe:function(c){var d={name:/qqbrowserlite/i.test(c)?"QQ Browser Lite":"QQ Browser"},o=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/msie|trident/i],describe:function(c){var d={name:"Internet Explorer"},o=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/\sedg\//i],describe:function(c){var d={name:"Microsoft Edge"},o=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/edg([ea]|ios)/i],describe:function(c){var d={name:"Microsoft Edge"},o=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/vivaldi/i],describe:function(c){var d={name:"Vivaldi"},o=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/seamonkey/i],describe:function(c){var d={name:"SeaMonkey"},o=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/sailfish/i],describe:function(c){var d={name:"Sailfish"},o=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,c);return o&&(d.version=o),d}},{test:[/silk/i],describe:function(c){var d={name:"Amazon Silk"},o=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/phantom/i],describe:function(c){var d={name:"PhantomJS"},o=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/slimerjs/i],describe:function(c){var d={name:"SlimerJS"},o=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(c){var d={name:"BlackBerry"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/(web|hpw)[o0]s/i],describe:function(c){var d={name:"WebOS Browser"},o=i.default.getFirstMatch(a,c)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/bada/i],describe:function(c){var d={name:"Bada"},o=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/tizen/i],describe:function(c){var d={name:"Tizen"},o=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/qupzilla/i],describe:function(c){var d={name:"QupZilla"},o=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/firefox|iceweasel|fxios/i],describe:function(c){var d={name:"Firefox"},o=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/electron/i],describe:function(c){var d={name:"Electron"},o=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/MiuiBrowser/i],describe:function(c){var d={name:"Miui"},o=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/chromium/i],describe:function(c){var d={name:"Chromium"},o=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,c)||i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/chrome|crios|crmo/i],describe:function(c){var d={name:"Chrome"},o=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/GSA/i],describe:function(c){var d={name:"Google Search"},o=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:function(c){var d=!c.test(/like android/i),o=c.test(/android/i);return d&&o},describe:function(c){var d={name:"Android Browser"},o=i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/playstation 4/i],describe:function(c){var d={name:"PlayStation 4"},o=i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/safari|applewebkit/i],describe:function(c){var d={name:"Safari"},o=i.default.getFirstMatch(a,c);return o&&(d.version=o),d}},{test:[/.*/i],describe:function(c){var d=c.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(d,c),version:i.default.getSecondMatch(d,c)}}}];n.default=s,e.exports=n.default},93:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t,i=(t=r(17))&&t.__esModule?t:{default:t},a=r(18),s=[{test:[/Roku\/DVP/],describe:function(c){var d=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,c);return{name:a.OS_MAP.Roku,version:d}}},{test:[/windows phone/i],describe:function(c){var d=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,c);return{name:a.OS_MAP.WindowsPhone,version:d}}},{test:[/windows /i],describe:function(c){var d=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,c),o=i.default.getWindowsVersionName(d);return{name:a.OS_MAP.Windows,version:d,versionName:o}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(c){var d={name:a.OS_MAP.iOS},o=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,c);return o&&(d.version=o),d}},{test:[/macintosh/i],describe:function(c){var d=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,c).replace(/[_\s]/g,"."),o=i.default.getMacOSVersionName(d),l={name:a.OS_MAP.MacOS,version:d};return o&&(l.versionName=o),l}},{test:[/(ipod|iphone|ipad)/i],describe:function(c){var d=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,c).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:d}}},{test:function(c){var d=!c.test(/like android/i),o=c.test(/android/i);return d&&o},describe:function(c){var d=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,c),o=i.default.getAndroidVersionName(d),l={name:a.OS_MAP.Android,version:d};return o&&(l.versionName=o),l}},{test:[/(web|hpw)[o0]s/i],describe:function(c){var d=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,c),o={name:a.OS_MAP.WebOS};return d&&d.length&&(o.version=d),o}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(c){var d=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,c)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,c)||i.default.getFirstMatch(/\bbb(\d+)/i,c);return{name:a.OS_MAP.BlackBerry,version:d}}},{test:[/bada/i],describe:function(c){var d=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,c);return{name:a.OS_MAP.Bada,version:d}}},{test:[/tizen/i],describe:function(c){var d=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,c);return{name:a.OS_MAP.Tizen,version:d}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(c){var d=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,c);return{name:a.OS_MAP.PlayStation4,version:d}}}];n.default=s,e.exports=n.default},94:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t,i=(t=r(17))&&t.__esModule?t:{default:t},a=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(c){var d=i.default.getFirstMatch(/(can-l01)/i,c)&&"Nova",o={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return d&&(o.model=d),o}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(c){var d=c.test(/ipod|iphone/i),o=c.test(/like (ipod|iphone)/i);return d&&!o},describe:function(c){var d=i.default.getFirstMatch(/(ipod|iphone)/i,c);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:d}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getBrowserName(!0)==="blackberry"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(c){return c.getBrowserName(!0)==="bada"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getBrowserName()==="windows phone"},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(c){var d=Number(String(c.getOSVersion()).split(".")[0]);return c.getOSName(!0)==="android"&&d>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(c){return c.getOSName(!0)==="android"},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getOSName(!0)==="macos"},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(c){return c.getOSName(!0)==="windows"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(c){return c.getOSName(!0)==="linux"},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(c){return c.getOSName(!0)==="playstation 4"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(c){return c.getOSName(!0)==="roku"},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];n.default=s,e.exports=n.default},95:function(e,n,r){"use strict";n.__esModule=!0,n.default=void 0;var t,i=(t=r(17))&&t.__esModule?t:{default:t},a=r(18),s=[{test:function(c){return c.getBrowserName(!0)==="microsoft edge"},describe:function(c){if(/\sedg\//i.test(c))return{name:a.ENGINE_MAP.Blink};var d=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,c);return{name:a.ENGINE_MAP.EdgeHTML,version:d}}},{test:[/trident/i],describe:function(c){var d={name:a.ENGINE_MAP.Trident},o=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:function(c){return c.test(/presto/i)},describe:function(c){var d={name:a.ENGINE_MAP.Presto},o=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:function(c){var d=c.test(/gecko/i),o=c.test(/like gecko/i);return d&&!o},describe:function(c){var d={name:a.ENGINE_MAP.Gecko},o=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(c){var d={name:a.ENGINE_MAP.WebKit},o=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,c);return o&&(d.version=o),d}}];n.default=s,e.exports=n.default}})})});var p0=C(m0=>{"use strict";m0.parse=Hde;m0.serialize=Gde;var qde=decodeURIComponent,$de=encodeURIComponent,xf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Hde(e,n){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},t=n||{},i=e.split(";"),a=t.decode||qde,s=0;s<i.length;s++){var c=i[s],d=c.indexOf("=");if(!(d<0)){var o=c.substring(0,d).trim();if(r[o]==null){var l=c.substring(d+1,c.length).trim();l[0]==='"'&&(l=l.slice(1,-1)),r[o]=Vde(l,a)}}}return r}function Gde(e,n,r){var t=r||{},i=t.encode||$de;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!xf.test(e))throw new TypeError("argument name is invalid");var a=i(n);if(a&&!xf.test(a))throw new TypeError("argument val is invalid");var s=e+"="+a;if(t.maxAge!=null){var c=t.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(t.domain){if(!xf.test(t.domain))throw new TypeError("option domain is invalid");s+="; Domain="+t.domain}if(t.path){if(!xf.test(t.path))throw new TypeError("option path is invalid");s+="; Path="+t.path}if(t.expires){if(typeof t.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(s+="; HttpOnly"),t.secure&&(s+="; Secure"),t.sameSite){var d=typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite;switch(d){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function Vde(e,n){try{return n(e)}catch{return e}}});var o2=C(Pf=>{"use strict";Pf.byteLength=Yde;Pf.toByteArray=Zde;Pf.fromByteArray=rle;var Ht=[],tt=[],Xde=typeof Uint8Array<"u"?Uint8Array:Array,y0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Wi=0,a2=y0.length;Wi<a2;++Wi)Ht[Wi]=y0[Wi],tt[y0.charCodeAt(Wi)]=Wi;var Wi,a2;tt[45]=62;tt[95]=63;function i2(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=n);var t=r===n?0:4-r%4;return[r,t]}function Yde(e){var n=i2(e),r=n[0],t=n[1];return(r+t)*3/4-t}function Qde(e,n,r){return(n+r)*3/4-r}function Zde(e){var n,r=i2(e),t=r[0],i=r[1],a=new Xde(Qde(e,t,i)),s=0,c=i>0?t-4:t,d;for(d=0;d<c;d+=4)n=tt[e.charCodeAt(d)]<<18|tt[e.charCodeAt(d+1)]<<12|tt[e.charCodeAt(d+2)]<<6|tt[e.charCodeAt(d+3)],a[s++]=n>>16&255,a[s++]=n>>8&255,a[s++]=n&255;return i===2&&(n=tt[e.charCodeAt(d)]<<2|tt[e.charCodeAt(d+1)]>>4,a[s++]=n&255),i===1&&(n=tt[e.charCodeAt(d)]<<10|tt[e.charCodeAt(d+1)]<<4|tt[e.charCodeAt(d+2)]>>2,a[s++]=n>>8&255,a[s++]=n&255),a}function ele(e){return Ht[e>>18&63]+Ht[e>>12&63]+Ht[e>>6&63]+Ht[e&63]}function nle(e,n,r){for(var t,i=[],a=n;a<r;a+=3)t=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(ele(t));return i.join("")}function rle(e){for(var n,r=e.length,t=r%3,i=[],a=16383,s=0,c=r-t;s<c;s+=a)i.push(nle(e,s,s+a>c?c:s+a));return t===1?(n=e[r-1],i.push(Ht[n>>2]+Ht[n<<4&63]+"==")):t===2&&(n=(e[r-2]<<8)+e[r-1],i.push(Ht[n>>10]+Ht[n>>4&63]+Ht[n<<2&63]+"=")),i.join("")}});var s2=C(g0=>{g0.read=function(e,n,r,t,i){var a,s,c=i*8-t-1,d=(1<<c)-1,o=d>>1,l=-7,f=r?i-1:0,m=r?-1:1,p=e[n+f];for(f+=m,a=p&(1<<-l)-1,p>>=-l,l+=c;l>0;a=a*256+e[n+f],f+=m,l-=8);for(s=a&(1<<-l)-1,a>>=-l,l+=t;l>0;s=s*256+e[n+f],f+=m,l-=8);if(a===0)a=1-o;else{if(a===d)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,t),a=a-o}return(p?-1:1)*s*Math.pow(2,a-t)};g0.write=function(e,n,r,t,i,a){var s,c,d,o=a*8-i-1,l=(1<<o)-1,f=l>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=t?0:a-1,v=t?1:-1,h=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(c=isNaN(n)?1:0,s=l):(s=Math.floor(Math.log(n)/Math.LN2),n*(d=Math.pow(2,-s))<1&&(s--,d*=2),s+f>=1?n+=m/d:n+=m*Math.pow(2,1-f),n*d>=2&&(s++,d/=2),s+f>=l?(c=0,s=l):s+f>=1?(c=(n*d-1)*Math.pow(2,i),s=s+f):(c=n*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+p]=c&255,p+=v,c/=256,i-=8);for(s=s<<i|c,o+=i;o>0;e[r+p]=s&255,p+=v,s/=256,o-=8);e[r+p-v]|=h*128}});var d2=C((lBe,c2)=>{var tle={}.toString;c2.exports=Array.isArray||function(e){return tle.call(e)=="[object Array]"}});var Cs=C(xs=>{"use strict";var w0=o2(),Ss=s2(),f2=d2();xs.Buffer=V;xs.SlowBuffer=dle;xs.INSPECT_MAX_BYTES=50;V.TYPED_ARRAY_SUPPORT=window.TYPED_ARRAY_SUPPORT!==void 0?window.TYPED_ARRAY_SUPPORT:ale();xs.kMaxLength=If();function ale(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},e.foo()===42&&typeof e.subarray=="function"&&e.subarray(1,1).byteLength===0}catch{return!1}}function If(){return V.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ga(e,n){if(If()<n)throw new RangeError("Invalid typed array length");return V.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=V.prototype):(e===null&&(e=new V(n)),e.length=n),e}function V(e,n,r){if(!V.TYPED_ARRAY_SUPPORT&&!(this instanceof V))return new V(e,n,r);if(typeof e=="number"){if(typeof n=="string")throw new Error("If encoding is specified then the first argument must be a string");return E0(this,e)}return m2(this,e,n,r)}V.poolSize=8192;V._augment=function(e){return e.__proto__=V.prototype,e};function m2(e,n,r,t){if(typeof n=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer?sle(e,n,r,t):typeof n=="string"?ole(e,n,r):cle(e,n)}V.from=function(e,n,r){return m2(null,e,n,r)};V.TYPED_ARRAY_SUPPORT&&(V.prototype.__proto__=Uint8Array.prototype,V.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&V[Symbol.species]===V&&Object.defineProperty(V,Symbol.species,{value:null,configurable:!0}));function p2(e){if(typeof e!="number")throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function ile(e,n,r,t){return p2(n),n<=0?ga(e,n):r!==void 0?typeof t=="string"?ga(e,n).fill(r,t):ga(e,n).fill(r):ga(e,n)}V.alloc=function(e,n,r){return ile(null,e,n,r)};function E0(e,n){if(p2(n),e=ga(e,n<0?0:_0(n)|0),!V.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}V.allocUnsafe=function(e){return E0(null,e)};V.allocUnsafeSlow=function(e){return E0(null,e)};function ole(e,n,r){if((typeof r!="string"||r==="")&&(r="utf8"),!V.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var t=v2(n,r)|0;e=ga(e,t);var i=e.write(n,r);return i!==t&&(e=e.slice(0,i)),e}function b0(e,n){var r=n.length<0?0:_0(n.length)|0;e=ga(e,r);for(var t=0;t<r;t+=1)e[t]=n[t]&255;return e}function sle(e,n,r,t){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(t||0))throw new RangeError("'length' is out of bounds");return r===void 0&&t===void 0?n=new Uint8Array(n):t===void 0?n=new Uint8Array(n,r):n=new Uint8Array(n,r,t),V.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=V.prototype):e=b0(e,n),e}function cle(e,n){if(V.isBuffer(n)){var r=_0(n.length)|0;return e=ga(e,r),e.length===0||n.copy(e,0,0,r),e}if(n){if(typeof ArrayBuffer<"u"&&n.buffer instanceof ArrayBuffer||"length"in n)return typeof n.length!="number"||Ple(n.length)?ga(e,0):b0(e,n);if(n.type==="Buffer"&&f2(n.data))return b0(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _0(e){if(e>=If())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+If().toString(16)+" bytes");return e|0}function dle(e){return+e!=e&&(e=0),V.alloc(+e)}V.isBuffer=function(n){return!!(n!=null&&n._isBuffer)};V.compare=function(n,r){if(!V.isBuffer(n)||!V.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(n===r)return 0;for(var t=n.length,i=r.length,a=0,s=Math.min(t,i);a<s;++a)if(n[a]!==r[a]){t=n[a],i=r[a];break}return t<i?-1:i<t?1:0};V.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};V.concat=function(n,r){if(!f2(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return V.alloc(0);var t;if(r===void 0)for(r=0,t=0;t<n.length;++t)r+=n[t].length;var i=V.allocUnsafe(r),a=0;for(t=0;t<n.length;++t){var s=n[t];if(!V.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,a),a+=s.length}return i};function v2(e,n){if(V.isBuffer(e))return e.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;typeof e!="string"&&(e=""+e);var r=e.length;if(r===0)return 0;for(var t=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Nf(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return _2(e).length;default:if(t)return Nf(e).length;n=(""+n).toLowerCase(),t=!0}}V.byteLength=v2;function lle(e,n,r){var t=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,n>>>=0,r<=n))return"";for(e||(e="utf8");;)switch(e){case"hex":return ble(this,n,r);case"utf8":case"utf-8":return g2(this,n,r);case"ascii":return gle(this,n,r);case"latin1":case"binary":return wle(this,n,r);case"base64":return hle(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ele(this,n,r);default:if(t)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),t=!0}}V.prototype._isBuffer=!0;function Xi(e,n,r){var t=e[n];e[n]=e[r],e[r]=t}V.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<n;r+=2)Xi(this,r,r+1);return this};V.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<n;r+=4)Xi(this,r,r+3),Xi(this,r+1,r+2);return this};V.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<n;r+=8)Xi(this,r,r+7),Xi(this,r+1,r+6),Xi(this,r+2,r+5),Xi(this,r+3,r+4);return this};V.prototype.toString=function(){var n=this.length|0;return n===0?"":arguments.length===0?g2(this,0,n):lle.apply(this,arguments)};V.prototype.equals=function(n){if(!V.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:V.compare(this,n)===0};V.prototype.inspect=function(){var n="",r=xs.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(n+=" ... ")),"<Buffer "+n+">"};V.prototype.compare=function(n,r,t,i,a){if(!V.isBuffer(n))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),t===void 0&&(t=n?n.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||t>n.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=t)return 0;if(i>=a)return-1;if(r>=t)return 1;if(r>>>=0,t>>>=0,i>>>=0,a>>>=0,this===n)return 0;for(var s=a-i,c=t-r,d=Math.min(s,c),o=this.slice(i,a),l=n.slice(r,t),f=0;f<d;++f)if(o[f]!==l[f]){s=o[f],c=l[f];break}return s<c?-1:c<s?1:0};function h2(e,n,r,t,i){if(e.length===0)return-1;if(typeof r=="string"?(t=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof n=="string"&&(n=V.from(n,t)),V.isBuffer(n))return n.length===0?-1:l2(e,n,r,t,i);if(typeof n=="number")return n=n&255,V.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):l2(e,[n],r,t,i);throw new TypeError("val must be string, number or Buffer")}function l2(e,n,r,t,i){var a=1,s=e.length,c=n.length;if(t!==void 0&&(t=String(t).toLowerCase(),t==="ucs2"||t==="ucs-2"||t==="utf16le"||t==="utf-16le")){if(e.length<2||n.length<2)return-1;a=2,s/=2,c/=2,r/=2}function d(p,v){return a===1?p[v]:p.readUInt16BE(v*a)}var o;if(i){var l=-1;for(o=r;o<s;o++)if(d(e,o)===d(n,l===-1?0:o-l)){if(l===-1&&(l=o),o-l+1===c)return l*a}else l!==-1&&(o-=o-l),l=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var f=!0,m=0;m<c;m++)if(d(e,o+m)!==d(n,m)){f=!1;break}if(f)return o}return-1}V.prototype.includes=function(n,r,t){return this.indexOf(n,r,t)!==-1};V.prototype.indexOf=function(n,r,t){return h2(this,n,r,t,!0)};V.prototype.lastIndexOf=function(n,r,t){return h2(this,n,r,t,!1)};function ule(e,n,r,t){r=Number(r)||0;var i=e.length-r;t?(t=Number(t),t>i&&(t=i)):t=i;var a=n.length;if(a%2!==0)throw new TypeError("Invalid hex string");t>a/2&&(t=a/2);for(var s=0;s<t;++s){var c=parseInt(n.substr(s*2,2),16);if(isNaN(c))return s;e[r+s]=c}return s}function fle(e,n,r,t){return Mf(Nf(n,e.length-r),e,r,t)}function y2(e,n,r,t){return Mf(Ale(n),e,r,t)}function mle(e,n,r,t){return y2(e,n,r,t)}function ple(e,n,r,t){return Mf(_2(n),e,r,t)}function vle(e,n,r,t){return Mf(Tle(n,e.length-r),e,r,t)}V.prototype.write=function(n,r,t,i){if(r===void 0)i="utf8",t=this.length,r=0;else if(t===void 0&&typeof r=="string")i=r,t=this.length,r=0;else if(isFinite(r))r=r|0,isFinite(t)?(t=t|0,i===void 0&&(i="utf8")):(i=t,t=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((t===void 0||t>a)&&(t=a),n.length>0&&(t<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return ule(this,n,r,t);case"utf8":case"utf-8":return fle(this,n,r,t);case"ascii":return y2(this,n,r,t);case"latin1":case"binary":return mle(this,n,r,t);case"base64":return ple(this,n,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vle(this,n,r,t);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};V.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function hle(e,n,r){return n===0&&r===e.length?w0.fromByteArray(e):w0.fromByteArray(e.slice(n,r))}function g2(e,n,r){r=Math.min(e.length,r);for(var t=[],i=n;i<r;){var a=e[i],s=null,c=a>239?4:a>223?3:a>191?2:1;if(i+c<=r){var d,o,l,f;switch(c){case 1:a<128&&(s=a);break;case 2:d=e[i+1],(d&192)===128&&(f=(a&31)<<6|d&63,f>127&&(s=f));break;case 3:d=e[i+1],o=e[i+2],(d&192)===128&&(o&192)===128&&(f=(a&15)<<12|(d&63)<<6|o&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:d=e[i+1],o=e[i+2],l=e[i+3],(d&192)===128&&(o&192)===128&&(l&192)===128&&(f=(a&15)<<18|(d&63)<<12|(o&63)<<6|l&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,c=1):s>65535&&(s-=65536,t.push(s>>>10&1023|55296),s=56320|s&1023),t.push(s),i+=c}return yle(t)}var u2=4096;function yle(e){var n=e.length;if(n<=u2)return String.fromCharCode.apply(String,e);for(var r="",t=0;t<n;)r+=String.fromCharCode.apply(String,e.slice(t,t+=u2));return r}function gle(e,n,r){var t="";r=Math.min(e.length,r);for(var i=n;i<r;++i)t+=String.fromCharCode(e[i]&127);return t}function wle(e,n,r){var t="";r=Math.min(e.length,r);for(var i=n;i<r;++i)t+=String.fromCharCode(e[i]);return t}function ble(e,n,r){var t=e.length;(!n||n<0)&&(n=0),(!r||r<0||r>t)&&(r=t);for(var i="",a=n;a<r;++a)i+=Cle(e[a]);return i}function Ele(e,n,r){for(var t=e.slice(n,r),i="",a=0;a<t.length;a+=2)i+=String.fromCharCode(t[a]+t[a+1]*256);return i}V.prototype.slice=function(n,r){var t=this.length;n=~~n,r=r===void 0?t:~~r,n<0?(n+=t,n<0&&(n=0)):n>t&&(n=t),r<0?(r+=t,r<0&&(r=0)):r>t&&(r=t),r<n&&(r=n);var i;if(V.TYPED_ARRAY_SUPPORT)i=this.subarray(n,r),i.__proto__=V.prototype;else{var a=r-n;i=new V(a,void 0);for(var s=0;s<a;++s)i[s]=this[s+n]}return i};function wn(e,n,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+n>r)throw new RangeError("Trying to access beyond buffer length")}V.prototype.readUIntLE=function(n,r,t){n=n|0,r=r|0,t||wn(n,r,this.length);for(var i=this[n],a=1,s=0;++s<r&&(a*=256);)i+=this[n+s]*a;return i};V.prototype.readUIntBE=function(n,r,t){n=n|0,r=r|0,t||wn(n,r,this.length);for(var i=this[n+--r],a=1;r>0&&(a*=256);)i+=this[n+--r]*a;return i};V.prototype.readUInt8=function(n,r){return r||wn(n,1,this.length),this[n]};V.prototype.readUInt16LE=function(n,r){return r||wn(n,2,this.length),this[n]|this[n+1]<<8};V.prototype.readUInt16BE=function(n,r){return r||wn(n,2,this.length),this[n]<<8|this[n+1]};V.prototype.readUInt32LE=function(n,r){return r||wn(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216};V.prototype.readUInt32BE=function(n,r){return r||wn(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])};V.prototype.readIntLE=function(n,r,t){n=n|0,r=r|0,t||wn(n,r,this.length);for(var i=this[n],a=1,s=0;++s<r&&(a*=256);)i+=this[n+s]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};V.prototype.readIntBE=function(n,r,t){n=n|0,r=r|0,t||wn(n,r,this.length);for(var i=r,a=1,s=this[n+--i];i>0&&(a*=256);)s+=this[n+--i]*a;return a*=128,s>=a&&(s-=Math.pow(2,8*r)),s};V.prototype.readInt8=function(n,r){return r||wn(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]};V.prototype.readInt16LE=function(n,r){r||wn(n,2,this.length);var t=this[n]|this[n+1]<<8;return t&32768?t|4294901760:t};V.prototype.readInt16BE=function(n,r){r||wn(n,2,this.length);var t=this[n+1]|this[n]<<8;return t&32768?t|4294901760:t};V.prototype.readInt32LE=function(n,r){return r||wn(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};V.prototype.readInt32BE=function(n,r){return r||wn(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};V.prototype.readFloatLE=function(n,r){return r||wn(n,4,this.length),Ss.read(this,n,!0,23,4)};V.prototype.readFloatBE=function(n,r){return r||wn(n,4,this.length),Ss.read(this,n,!1,23,4)};V.prototype.readDoubleLE=function(n,r){return r||wn(n,8,this.length),Ss.read(this,n,!0,52,8)};V.prototype.readDoubleBE=function(n,r){return r||wn(n,8,this.length),Ss.read(this,n,!1,52,8)};function Er(e,n,r,t,i,a){if(!V.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(r+t>e.length)throw new RangeError("Index out of range")}V.prototype.writeUIntLE=function(n,r,t,i){if(n=+n,r=r|0,t=t|0,!i){var a=Math.pow(2,8*t)-1;Er(this,n,r,t,a,0)}var s=1,c=0;for(this[r]=n&255;++c<t&&(s*=256);)this[r+c]=n/s&255;return r+t};V.prototype.writeUIntBE=function(n,r,t,i){if(n=+n,r=r|0,t=t|0,!i){var a=Math.pow(2,8*t)-1;Er(this,n,r,t,a,0)}var s=t-1,c=1;for(this[r+s]=n&255;--s>=0&&(c*=256);)this[r+s]=n/c&255;return r+t};V.prototype.writeUInt8=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,1,255,0),V.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[r]=n&255,r+1};function Rf(e,n,r,t){n<0&&(n=65535+n+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(n&255<<8*(t?i:1-i))>>>(t?i:1-i)*8}V.prototype.writeUInt16LE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,2,65535,0),V.TYPED_ARRAY_SUPPORT?(this[r]=n&255,this[r+1]=n>>>8):Rf(this,n,r,!0),r+2};V.prototype.writeUInt16BE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,2,65535,0),V.TYPED_ARRAY_SUPPORT?(this[r]=n>>>8,this[r+1]=n&255):Rf(this,n,r,!1),r+2};function Of(e,n,r,t){n<0&&(n=4294967295+n+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=n>>>(t?i:3-i)*8&255}V.prototype.writeUInt32LE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,4,4294967295,0),V.TYPED_ARRAY_SUPPORT?(this[r+3]=n>>>24,this[r+2]=n>>>16,this[r+1]=n>>>8,this[r]=n&255):Of(this,n,r,!0),r+4};V.prototype.writeUInt32BE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,4,4294967295,0),V.TYPED_ARRAY_SUPPORT?(this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=n&255):Of(this,n,r,!1),r+4};V.prototype.writeIntLE=function(n,r,t,i){if(n=+n,r=r|0,!i){var a=Math.pow(2,8*t-1);Er(this,n,r,t,a-1,-a)}var s=0,c=1,d=0;for(this[r]=n&255;++s<t&&(c*=256);)n<0&&d===0&&this[r+s-1]!==0&&(d=1),this[r+s]=(n/c>>0)-d&255;return r+t};V.prototype.writeIntBE=function(n,r,t,i){if(n=+n,r=r|0,!i){var a=Math.pow(2,8*t-1);Er(this,n,r,t,a-1,-a)}var s=t-1,c=1,d=0;for(this[r+s]=n&255;--s>=0&&(c*=256);)n<0&&d===0&&this[r+s+1]!==0&&(d=1),this[r+s]=(n/c>>0)-d&255;return r+t};V.prototype.writeInt8=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,1,127,-128),V.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[r]=n&255,r+1};V.prototype.writeInt16LE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,2,32767,-32768),V.TYPED_ARRAY_SUPPORT?(this[r]=n&255,this[r+1]=n>>>8):Rf(this,n,r,!0),r+2};V.prototype.writeInt16BE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,2,32767,-32768),V.TYPED_ARRAY_SUPPORT?(this[r]=n>>>8,this[r+1]=n&255):Rf(this,n,r,!1),r+2};V.prototype.writeInt32LE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,4,2147483647,-2147483648),V.TYPED_ARRAY_SUPPORT?(this[r]=n&255,this[r+1]=n>>>8,this[r+2]=n>>>16,this[r+3]=n>>>24):Of(this,n,r,!0),r+4};V.prototype.writeInt32BE=function(n,r,t){return n=+n,r=r|0,t||Er(this,n,r,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),V.TYPED_ARRAY_SUPPORT?(this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=n&255):Of(this,n,r,!1),r+4};function w2(e,n,r,t,i,a){if(r+t>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function b2(e,n,r,t,i){return i||w2(e,n,r,4,34028234663852886e22,-34028234663852886e22),Ss.write(e,n,r,t,23,4),r+4}V.prototype.writeFloatLE=function(n,r,t){return b2(this,n,r,!0,t)};V.prototype.writeFloatBE=function(n,r,t){return b2(this,n,r,!1,t)};function E2(e,n,r,t,i){return i||w2(e,n,r,8,17976931348623157e292,-17976931348623157e292),Ss.write(e,n,r,t,52,8),r+8}V.prototype.writeDoubleLE=function(n,r,t){return E2(this,n,r,!0,t)};V.prototype.writeDoubleBE=function(n,r,t){return E2(this,n,r,!1,t)};V.prototype.copy=function(n,r,t,i){if(t||(t=0),!i&&i!==0&&(i=this.length),r>=n.length&&(r=n.length),r||(r=0),i>0&&i<t&&(i=t),i===t||n.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),n.length-r<i-t&&(i=n.length-r+t);var a=i-t,s;if(this===n&&t<r&&r<i)for(s=a-1;s>=0;--s)n[s+r]=this[s+t];else if(a<1e3||!V.TYPED_ARRAY_SUPPORT)for(s=0;s<a;++s)n[s+r]=this[s+t];else Uint8Array.prototype.set.call(n,this.subarray(t,t+a),r);return a};V.prototype.fill=function(n,r,t,i){if(typeof n=="string"){if(typeof r=="string"?(i=r,r=0,t=this.length):typeof t=="string"&&(i=t,t=this.length),n.length===1){var a=n.charCodeAt(0);a<256&&(n=a)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!V.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof n=="number"&&(n=n&255);if(r<0||this.length<r||this.length<t)throw new RangeError("Out of range index");if(t<=r)return this;r=r>>>0,t=t===void 0?this.length:t>>>0,n||(n=0);var s;if(typeof n=="number")for(s=r;s<t;++s)this[s]=n;else{var c=V.isBuffer(n)?n:Nf(new V(n,i).toString()),d=c.length;for(s=0;s<t-r;++s)this[s+r]=c[s%d]}return this};var _le=/[^+\/0-9A-Za-z-_]/g;function Sle(e){if(e=xle(e).replace(_le,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function xle(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Cle(e){return e<16?"0"+e.toString(16):e.toString(16)}function Nf(e,n){n=n||1/0;for(var r,t=e.length,i=null,a=[],s=0;s<t;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(n-=3)>-1&&a.push(239,191,189);continue}else if(s+1===t){(n-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(n-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(n-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((n-=1)<0)break;a.push(r)}else if(r<2048){if((n-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((n-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((n-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function Ale(e){for(var n=[],r=0;r<e.length;++r)n.push(e.charCodeAt(r)&255);return n}function Tle(e,n){for(var r,t,i,a=[],s=0;s<e.length&&!((n-=2)<0);++s)r=e.charCodeAt(s),t=r>>8,i=r%256,a.push(i),a.push(t);return a}function _2(e){return w0.toByteArray(Sle(e))}function Mf(e,n,r,t){for(var i=0;i<t&&!(i+r>=n.length||i>=e.length);++i)n[i+r]=e[i];return i}function Ple(e){return e!==e}});var S0=C(()=>{});var ni=C((Df,S2)=>{(function(e,n){typeof Df=="object"?S2.exports=Df=n():typeof define=="function"&&define.amd?define([],n):e.CryptoJS=n()})(Df,function(){var e=e||function(n,r){var t;if(typeof window<"u"&&window.crypto&&(t=window.crypto),typeof self<"u"&&self.crypto&&(t=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(t=globalThis.crypto),!t&&typeof window<"u"&&window.msCrypto&&(t=window.msCrypto),!t&&typeof window<"u"&&window.crypto&&(t=window.crypto),!t&&typeof Yl=="function")try{t=S0()}catch{}var i=function(){if(t){if(typeof t.getRandomValues=="function")try{return t.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof t.randomBytes=="function")try{return t.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function g(){}return function(w){var b;return g.prototype=w,b=new g,g.prototype=null,b}}(),s={},c=s.lib={},d=c.Base=function(){return{extend:function(g){var w=a(this);return g&&w.mixIn(g),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var w in g)g.hasOwnProperty(w)&&(this[w]=g[w]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=c.WordArray=d.extend({init:function(g,w){g=this.words=g||[],w!=r?this.sigBytes=w:this.sigBytes=g.length*4},toString:function(g){return(g||f).stringify(this)},concat:function(g){var w=this.words,b=g.words,E=this.sigBytes,S=g.sigBytes;if(this.clamp(),E%4)for(var A=0;A<S;A++){var I=b[A>>>2]>>>24-A%4*8&255;w[E+A>>>2]|=I<<24-(E+A)%4*8}else for(var P=0;P<S;P+=4)w[E+P>>>2]=b[P>>>2];return this.sigBytes+=S,this},clamp:function(){var g=this.words,w=this.sigBytes;g[w>>>2]&=4294967295<<32-w%4*8,g.length=n.ceil(w/4)},clone:function(){var g=d.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var w=[],b=0;b<g;b+=4)w.push(i());return new o.init(w,g)}}),l=s.enc={},f=l.Hex={stringify:function(g){for(var w=g.words,b=g.sigBytes,E=[],S=0;S<b;S++){var A=w[S>>>2]>>>24-S%4*8&255;E.push((A>>>4).toString(16)),E.push((A&15).toString(16))}return E.join("")},parse:function(g){for(var w=g.length,b=[],E=0;E<w;E+=2)b[E>>>3]|=parseInt(g.substr(E,2),16)<<24-E%8*4;return new o.init(b,w/2)}},m=l.Latin1={stringify:function(g){for(var w=g.words,b=g.sigBytes,E=[],S=0;S<b;S++){var A=w[S>>>2]>>>24-S%4*8&255;E.push(String.fromCharCode(A))}return E.join("")},parse:function(g){for(var w=g.length,b=[],E=0;E<w;E++)b[E>>>2]|=(g.charCodeAt(E)&255)<<24-E%4*8;return new o.init(b,w)}},p=l.Utf8={stringify:function(g){try{return decodeURIComponent(escape(m.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return m.parse(unescape(encodeURIComponent(g)))}},v=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=p.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var w,b=this._data,E=b.words,S=b.sigBytes,A=this.blockSize,I=A*4,P=S/I;g?P=n.ceil(P):P=n.max((P|0)-this._minBufferSize,0);var O=P*A,k=n.min(O*4,S);if(O){for(var _=0;_<O;_+=A)this._doProcessBlock(E,_);w=E.splice(0,O),b.sigBytes-=k}return new o.init(w,k)},clone:function(){var g=d.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),h=c.Hasher=v.extend({cfg:d.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var w=this._doFinalize();return w},blockSize:512/32,_createHelper:function(g){return function(w,b){return new g.init(b).finalize(w)}},_createHmacHelper:function(g){return function(w,b){return new y.HMAC.init(g,b).finalize(w)}}}),y=s.algo={};return s}(Math);return e})});var x0=C((kf,x2)=>{(function(e,n){typeof kf=="object"?x2.exports=kf=n(ni()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(kf,function(e){return function(){if(typeof ArrayBuffer=="function"){var n=e,r=n.lib,t=r.WordArray,i=t.init,a=t.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var c=s.byteLength,d=[],o=0;o<c;o++)d[o>>>2]|=s[o]<<24-o%4*8;i.call(this,d,c)}else i.apply(this,arguments)};a.prototype=t}}(),e.lib.WordArray})});var Lf=C((zf,C2)=>{(function(e,n){typeof zf=="object"?C2.exports=zf=n(ni()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(zf,function(e){return function(n){var r=e,t=r.lib,i=t.WordArray,a=t.Hasher,s=r.algo,c=[],d=[];(function(){function f(h){for(var y=n.sqrt(h),g=2;g<=y;g++)if(!(h%g))return!1;return!0}function m(h){return(h-(h|0))*4294967296|0}for(var p=2,v=0;v<64;)f(p)&&(v<8&&(c[v]=m(n.pow(p,1/2))),d[v]=m(n.pow(p,1/3)),v++),p++})();var o=[],l=s.SHA256=a.extend({_doReset:function(){this._hash=new i.init(c.slice(0))},_doProcessBlock:function(f,m){for(var p=this._hash.words,v=p[0],h=p[1],y=p[2],g=p[3],w=p[4],b=p[5],E=p[6],S=p[7],A=0;A<64;A++){if(A<16)o[A]=f[m+A]|0;else{var I=o[A-15],P=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,O=o[A-2],k=(O<<15|O>>>17)^(O<<13|O>>>19)^O>>>10;o[A]=P+o[A-7]+k+o[A-16]}var _=w&b^~w&E,x=v&h^v&y^h&y,T=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),M=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),D=S+M+_+d[A]+o[A],B=T+x;S=E,E=b,b=w,w=g+D|0,g=y,y=h,h=v,v=D+B|0}p[0]=p[0]+v|0,p[1]=p[1]+h|0,p[2]=p[2]+y|0,p[3]=p[3]+g|0,p[4]=p[4]+w|0,p[5]=p[5]+b|0,p[6]=p[6]+E|0,p[7]=p[7]+S|0},_doFinalize:function(){var f=this._data,m=f.words,p=this._nDataBytes*8,v=f.sigBytes*8;return m[v>>>5]|=128<<24-v%32,m[(v+64>>>9<<4)+14]=n.floor(p/4294967296),m[(v+64>>>9<<4)+15]=p,f.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA256=a._createHelper(l),r.HmacSHA256=a._createHmacHelper(l)}(Math),e.SHA256})});var T2=C((Bf,A2)=>{(function(e,n){typeof Bf=="object"?A2.exports=Bf=n(ni()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(Bf,function(e){(function(){var n=e,r=n.lib,t=r.Base,i=n.enc,a=i.Utf8,s=n.algo,c=s.HMAC=t.extend({init:function(d,o){d=this._hasher=new d.init,typeof o=="string"&&(o=a.parse(o));var l=d.blockSize,f=l*4;o.sigBytes>f&&(o=d.finalize(o)),o.clamp();for(var m=this._oKey=o.clone(),p=this._iKey=o.clone(),v=m.words,h=p.words,y=0;y<l;y++)v[y]^=1549556828,h[y]^=909522486;m.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var o=this._hasher,l=o.finalize(d);o.reset();var f=o.finalize(this._oKey.clone().concat(l));return f}})})()})});var C0=C((Uf,P2)=>{(function(e,n,r){typeof Uf=="object"?P2.exports=Uf=n(ni(),Lf(),T2()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],n):n(e.CryptoJS)})(Uf,function(e){return e.HmacSHA256})});var D0=C((qf,D2)=>{(function(e,n){typeof qf=="object"?D2.exports=qf=n(ni()):typeof define=="function"&&define.amd?define(["./core"],n):n(e.CryptoJS)})(qf,function(e){return function(){var n=e,r=n.lib,t=r.WordArray,i=n.enc,a=i.Base64={stringify:function(c){var d=c.words,o=c.sigBytes,l=this._map;c.clamp();for(var f=[],m=0;m<o;m+=3)for(var p=d[m>>>2]>>>24-m%4*8&255,v=d[m+1>>>2]>>>24-(m+1)%4*8&255,h=d[m+2>>>2]>>>24-(m+2)%4*8&255,y=p<<16|v<<8|h,g=0;g<4&&m+g*.75<o;g++)f.push(l.charAt(y>>>6*(3-g)&63));var w=l.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(c){var d=c.length,o=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var f=0;f<o.length;f++)l[o.charCodeAt(f)]=f}var m=o.charAt(64);if(m){var p=c.indexOf(m);p!==-1&&(d=p)}return s(c,d,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,d,o){for(var l=[],f=0,m=0;m<d;m++)if(m%4){var p=o[c.charCodeAt(m-1)]<<m%4*2,v=o[c.charCodeAt(m)]>>>6-m%4*2,h=p|v;l[f>>>2]|=h<<24-f%4*8,f++}return t.create(l,f)}}(),e.enc.Base64})});var L0=C((VBe,z2)=>{z2.exports=function(e,n){return n=n||{},new Promise(function(r,t){var i=new XMLHttpRequest,a=[],s=[],c={},d=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:d,headers:{keys:function(){return a},entries:function(){return s},get:function(l){return c[l.toLowerCase()]},has:function(l){return l.toLowerCase()in c}}}};for(var o in i.open(n.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,m){a.push(f=f.toLowerCase()),s.push([f,m]),c[f]=c[f]?c[f]+","+m:m}),r(d())},i.onerror=t,i.withCredentials=n.credentials=="include",n.headers)i.setRequestHeader(o,n.headers[o]);i.send(n.body||null)})}});var B2=C((KBe,L2)=>{L2.exports=self.fetch||(self.fetch=L0().default||L0())});var K2=C((G2,V2)=>{(function(e){var n;if(typeof define=="function"&&define.amd&&(define(e),n=!0),typeof G2=="object"&&(V2.exports=e(),n=!0),!n){var r=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=r,t}}})(function(){function e(){for(var t=0,i={};t<arguments.length;t++){var a=arguments[t];for(var s in a)i[s]=a[s]}return i}function n(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function r(t){function i(){}function a(c,d,o){if(!(typeof document>"u")){o=e({path:"/"},i.defaults,o),typeof o.expires=="number"&&(o.expires=new Date(new Date*1+o.expires*864e5)),o.expires=o.expires?o.expires.toUTCString():"";try{var l=JSON.stringify(d);/^[\{\[]/.test(l)&&(d=l)}catch{}d=t.write?t.write(d,c):encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),c=encodeURIComponent(String(c)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var m in o)o[m]&&(f+="; "+m,o[m]!==!0&&(f+="="+o[m].split(";")[0]));return document.cookie=c+"="+d+f}}function s(c,d){if(!(typeof document>"u")){for(var o={},l=document.cookie?document.cookie.split("; "):[],f=0;f<l.length;f++){var m=l[f].split("="),p=m.slice(1).join("=");!d&&p.charAt(0)==='"'&&(p=p.slice(1,-1));try{var v=n(m[0]);if(p=(t.read||t)(p,v)||n(p),d)try{p=JSON.parse(p)}catch{}if(o[v]=p,c===v)break}catch{}}return c?o[c]:o}}return i.set=a,i.get=function(c){return s(c,!1)},i.getJSON=function(c){return s(c,!0)},i.remove=function(c,d){a(c,"",e(d,{expires:-1}))},i.defaults={},i.withConverter=r,i}return r(function(){})})});var iw={};zt(iw,{__assign:()=>tw,__asyncDelegator:()=>pme,__asyncGenerator:()=>mme,__asyncValues:()=>vme,__await:()=>zd,__awaiter:()=>sme,__classPrivateFieldGet:()=>wme,__classPrivateFieldSet:()=>bme,__createBinding:()=>dme,__decorate:()=>ame,__exportStar:()=>lme,__extends:()=>rme,__generator:()=>cme,__importDefault:()=>gme,__importStar:()=>yme,__makeTemplateObject:()=>hme,__metadata:()=>ome,__param:()=>ime,__read:()=>yk,__rest:()=>tme,__spread:()=>ume,__spreadArrays:()=>fme,__values:()=>aw});function rme(e,n){rw(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function tme(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function ame(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function ime(e,n){return function(r,t){n(r,t,e)}}function ome(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function sme(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function cme(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function dme(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function lme(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function aw(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function yk(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function ume(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(yk(arguments[n]));return e}function fme(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function zd(e){return this instanceof zd?(this.v=e,this):new zd(e)}function mme(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof zd?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function pme(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:zd(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function vme(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof aw=="function"?aw(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function hme(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function yme(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function gme(e){return e&&e.__esModule?e:{default:e}}function wme(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function bme(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var rw,tw,ow=la(()=>{rw=function(e,n){return rw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},rw(e,n)};tw=function(){return tw=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},tw.apply(this,arguments)}});var wk=C(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.AwsCrc32=void 0;var gk=(ow(),On(iw)),sw=dd(),Eme=dm(),_me=function(){function e(){this.crc32=new Eme.Crc32}return e.prototype.update=function(n){(0,sw.isEmptyData)(n)||this.crc32.update((0,sw.convertToBuffer)(n))},e.prototype.digest=function(){return(0,gk.__awaiter)(this,void 0,void 0,function(){return(0,gk.__generator)(this,function(n){return[2,(0,sw.numToUint8)(this.crc32.digest())]})})},e}();cm.AwsCrc32=_me});var dm=C(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.AwsCrc32=si.Crc32=si.crc32=void 0;var Sme=(ow(),On(iw)),xme=dd();function Cme(e){return new bk().update(e).digest()}si.crc32=Cme;var bk=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var r,t;try{for(var i=(0,Sme.__values)(n),a=i.next();!a.done;a=i.next()){var s=a.value;this.checksum=this.checksum>>>8^Tme[(this.checksum^s)&255]}}catch(c){r={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();si.Crc32=bk;var Ame=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Tme=(0,xme.uint32ArrayFrom)(Ame),Pme=wk();Object.defineProperty(si,"AwsCrc32",{enumerable:!0,get:function(){return Pme.AwsCrc32}})});var kw=C((H$e,wB)=>{var Eve=Object.prototype;function _ve(e){var n=e&&e.constructor,r=typeof n=="function"&&n.prototype||Eve;return e===r}wB.exports=_ve});var EB=C((G$e,bB)=>{function Sve(e,n){return function(r){return e(n(r))}}bB.exports=Sve});var SB=C((V$e,_B)=>{var xve=EB(),Cve=xve(Object.keys,Object);_B.exports=Cve});var zw=C((K$e,xB)=>{var Ave=kw(),Tve=SB(),Pve=Object.prototype,Ive=Pve.hasOwnProperty;function Nve(e){if(!Ave(e))return Tve(e);var n=[];for(var r in Object(e))Ive.call(e,r)&&r!="constructor"&&n.push(r);return n}xB.exports=Nve});var Lw=C((J$e,CB)=>{var Rve=typeof window=="object"&&window&&window.Object===Object&&window;CB.exports=Rve});var Kt=C((W$e,AB)=>{var Ove=Lw(),Mve=typeof self=="object"&&self&&self.Object===Object&&self,Dve=Ove||Mve||Function("return this")();AB.exports=Dve});var Fd=C((X$e,TB)=>{var kve=Kt(),zve=kve.Symbol;TB.exports=zve});var RB=C((Y$e,NB)=>{var PB=Fd(),IB=Object.prototype,Lve=IB.hasOwnProperty,Bve=IB.toString,jd=PB?PB.toStringTag:void 0;function Uve(e){var n=Lve.call(e,jd),r=e[jd];try{e[jd]=void 0;var t=!0}catch{}var i=Bve.call(e);return t&&(n?e[jd]=r:delete e[jd]),i}NB.exports=Uve});var MB=C((Q$e,OB)=>{var Fve=Object.prototype,jve=Fve.toString;function qve(e){return jve.call(e)}OB.exports=qve});var js=C((Z$e,zB)=>{var DB=Fd(),$ve=RB(),Hve=MB(),Gve="[object Null]",Vve="[object Undefined]",kB=DB?DB.toStringTag:void 0;function Kve(e){return e==null?e===void 0?Vve:Gve:kB&&kB in Object(e)?$ve(e):Hve(e)}zB.exports=Kve});var Bw=C((eHe,LB)=>{function Jve(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}LB.exports=Jve});var Uw=C((nHe,BB)=>{var Wve=js(),Xve=Bw(),Yve="[object AsyncFunction]",Qve="[object Function]",Zve="[object GeneratorFunction]",ehe="[object Proxy]";function nhe(e){if(!Xve(e))return!1;var n=Wve(e);return n==Qve||n==Zve||n==Yve||n==ehe}BB.exports=nhe});var FB=C((rHe,UB)=>{var rhe=Kt(),the=rhe["__core-js_shared__"];UB.exports=the});var $B=C((tHe,qB)=>{var Fw=FB(),jB=function(){var e=/[^.]+$/.exec(Fw&&Fw.keys&&Fw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ahe(e){return!!jB&&jB in e}qB.exports=ahe});var jw=C((aHe,HB)=>{var ihe=Function.prototype,ohe=ihe.toString;function she(e){if(e!=null){try{return ohe.call(e)}catch{}try{return e+""}catch{}}return""}HB.exports=she});var VB=C((iHe,GB)=>{var che=Uw(),dhe=$B(),lhe=Bw(),uhe=jw(),fhe=/[\\^$.*+?()[\]{}|]/g,mhe=/^\[object .+?Constructor\]$/,phe=Function.prototype,vhe=Object.prototype,hhe=phe.toString,yhe=vhe.hasOwnProperty,ghe=RegExp("^"+hhe.call(yhe).replace(fhe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function whe(e){if(!lhe(e)||dhe(e))return!1;var n=che(e)?ghe:mhe;return n.test(uhe(e))}GB.exports=whe});var JB=C((oHe,KB)=>{function bhe(e,n){return e?.[n]}KB.exports=bhe});var so=C((sHe,WB)=>{var Ehe=VB(),_he=JB();function She(e,n){var r=_he(e,n);return Ehe(r)?r:void 0}WB.exports=She});var YB=C((cHe,XB)=>{var xhe=so(),Che=Kt(),Ahe=xhe(Che,"DataView");XB.exports=Ahe});var Cm=C((dHe,QB)=>{var The=so(),Phe=Kt(),Ihe=The(Phe,"Map");QB.exports=Ihe});var eU=C((lHe,ZB)=>{var Nhe=so(),Rhe=Kt(),Ohe=Nhe(Rhe,"Promise");ZB.exports=Ohe});var rU=C((uHe,nU)=>{var Mhe=so(),Dhe=Kt(),khe=Mhe(Dhe,"Set");nU.exports=khe});var aU=C((fHe,tU)=>{var zhe=so(),Lhe=Kt(),Bhe=zhe(Lhe,"WeakMap");tU.exports=Bhe});var Kw=C((mHe,uU)=>{var qw=YB(),$w=Cm(),Hw=eU(),Gw=rU(),Vw=aU(),lU=js(),qs=jw(),iU="[object Map]",Uhe="[object Object]",oU="[object Promise]",sU="[object Set]",cU="[object WeakMap]",dU="[object DataView]",Fhe=qs(qw),jhe=qs($w),qhe=qs(Hw),$he=qs(Gw),Hhe=qs(Vw),co=lU;(qw&&co(new qw(new ArrayBuffer(1)))!=dU||$w&&co(new $w)!=iU||Hw&&co(Hw.resolve())!=oU||Gw&&co(new Gw)!=sU||Vw&&co(new Vw)!=cU)&&(co=function(e){var n=lU(e),r=n==Uhe?e.constructor:void 0,t=r?qs(r):"";if(t)switch(t){case Fhe:return dU;case jhe:return iU;case qhe:return oU;case $he:return sU;case Hhe:return cU}return n});uU.exports=co});var $s=C((pHe,fU)=>{function Ghe(e){return e!=null&&typeof e=="object"}fU.exports=Ghe});var pU=C((vHe,mU)=>{var Vhe=js(),Khe=$s(),Jhe="[object Arguments]";function Whe(e){return Khe(e)&&Vhe(e)==Jhe}mU.exports=Whe});var Jw=C((hHe,yU)=>{var vU=pU(),Xhe=$s(),hU=Object.prototype,Yhe=hU.hasOwnProperty,Qhe=hU.propertyIsEnumerable,Zhe=vU(function(){return arguments}())?vU:function(e){return Xhe(e)&&Yhe.call(e,"callee")&&!Qhe.call(e,"callee")};yU.exports=Zhe});var di=C((yHe,gU)=>{var eye=Array.isArray;gU.exports=eye});var Ww=C((gHe,wU)=>{var nye=9007199254740991;function rye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=nye}wU.exports=rye});var Xw=C((wHe,bU)=>{var tye=Uw(),aye=Ww();function iye(e){return e!=null&&aye(e.length)&&!tye(e)}bU.exports=iye});var _U=C((bHe,EU)=>{function oye(){return!1}EU.exports=oye});var Am=C((qd,Hs)=>{var sye=Kt(),cye=_U(),CU=typeof qd=="object"&&qd&&!qd.nodeType&&qd,SU=CU&&typeof Hs=="object"&&Hs&&!Hs.nodeType&&Hs,dye=SU&&SU.exports===CU,xU=dye?sye.Buffer:void 0,lye=xU?xU.isBuffer:void 0,uye=lye||cye;Hs.exports=uye});var TU=C((EHe,AU)=>{var fye=js(),mye=Ww(),pye=$s(),vye="[object Arguments]",hye="[object Array]",yye="[object Boolean]",gye="[object Date]",wye="[object Error]",bye="[object Function]",Eye="[object Map]",_ye="[object Number]",Sye="[object Object]",xye="[object RegExp]",Cye="[object Set]",Aye="[object String]",Tye="[object WeakMap]",Pye="[object ArrayBuffer]",Iye="[object DataView]",Nye="[object Float32Array]",Rye="[object Float64Array]",Oye="[object Int8Array]",Mye="[object Int16Array]",Dye="[object Int32Array]",kye="[object Uint8Array]",zye="[object Uint8ClampedArray]",Lye="[object Uint16Array]",Bye="[object Uint32Array]",Pe={};Pe[Nye]=Pe[Rye]=Pe[Oye]=Pe[Mye]=Pe[Dye]=Pe[kye]=Pe[zye]=Pe[Lye]=Pe[Bye]=!0;Pe[vye]=Pe[hye]=Pe[Pye]=Pe[yye]=Pe[Iye]=Pe[gye]=Pe[wye]=Pe[bye]=Pe[Eye]=Pe[_ye]=Pe[Sye]=Pe[xye]=Pe[Cye]=Pe[Aye]=Pe[Tye]=!1;function Uye(e){return pye(e)&&mye(e.length)&&!!Pe[fye(e)]}AU.exports=Uye});var IU=C((_He,PU)=>{function Fye(e){return function(n){return e(n)}}PU.exports=Fye});var RU=C(($d,Gs)=>{var jye=Lw(),NU=typeof $d=="object"&&$d&&!$d.nodeType&&$d,Hd=NU&&typeof Gs=="object"&&Gs&&!Gs.nodeType&&Gs,qye=Hd&&Hd.exports===NU,Yw=qye&&jye.process,$ye=function(){try{var e=Hd&&Hd.require&&Hd.require("util").types;return e||Yw&&Yw.binding&&Yw.binding("util")}catch{}}();Gs.exports=$ye});var Tm=C((SHe,DU)=>{var Hye=TU(),Gye=IU(),OU=RU(),MU=OU&&OU.isTypedArray,Vye=MU?Gye(MU):Hye;DU.exports=Vye});var Qw=C((xHe,kU)=>{var Kye=zw(),Jye=Kw(),Wye=Jw(),Xye=di(),Yye=Xw(),Qye=Am(),Zye=kw(),ege=Tm(),nge="[object Map]",rge="[object Set]",tge=Object.prototype,age=tge.hasOwnProperty;function ige(e){if(e==null)return!0;if(Yye(e)&&(Xye(e)||typeof e=="string"||typeof e.splice=="function"||Qye(e)||ege(e)||Wye(e)))return!e.length;var n=Jye(e);if(n==nge||n==rge)return!e.size;if(Zye(e))return!Kye(e).length;for(var r in e)if(age.call(e,r))return!1;return!0}kU.exports=ige});var LU=C((CHe,zU)=>{function oge(){this.__data__=[],this.size=0}zU.exports=oge});var Zw=C((AHe,BU)=>{function sge(e,n){return e===n||e!==e&&n!==n}BU.exports=sge});var Gd=C((THe,UU)=>{var cge=Zw();function dge(e,n){for(var r=e.length;r--;)if(cge(e[r][0],n))return r;return-1}UU.exports=dge});var jU=C((PHe,FU)=>{var lge=Gd(),uge=Array.prototype,fge=uge.splice;function mge(e){var n=this.__data__,r=lge(n,e);if(r<0)return!1;var t=n.length-1;return r==t?n.pop():fge.call(n,r,1),--this.size,!0}FU.exports=mge});var $U=C((IHe,qU)=>{var pge=Gd();function vge(e){var n=this.__data__,r=pge(n,e);return r<0?void 0:n[r][1]}qU.exports=vge});var GU=C((NHe,HU)=>{var hge=Gd();function yge(e){return hge(this.__data__,e)>-1}HU.exports=yge});var KU=C((RHe,VU)=>{var gge=Gd();function wge(e,n){var r=this.__data__,t=gge(r,e);return t<0?(++this.size,r.push([e,n])):r[t][1]=n,this}VU.exports=wge});var Vd=C((OHe,JU)=>{var bge=LU(),Ege=jU(),_ge=$U(),Sge=GU(),xge=KU();function Vs(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}Vs.prototype.clear=bge;Vs.prototype.delete=Ege;Vs.prototype.get=_ge;Vs.prototype.has=Sge;Vs.prototype.set=xge;JU.exports=Vs});var XU=C((MHe,WU)=>{var Cge=Vd();function Age(){this.__data__=new Cge,this.size=0}WU.exports=Age});var QU=C((DHe,YU)=>{function Tge(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}YU.exports=Tge});var eF=C((kHe,ZU)=>{function Pge(e){return this.__data__.get(e)}ZU.exports=Pge});var rF=C((zHe,nF)=>{function Ige(e){return this.__data__.has(e)}nF.exports=Ige});var Kd=C((LHe,tF)=>{var Nge=so(),Rge=Nge(Object,"create");tF.exports=Rge});var oF=C((BHe,iF)=>{var aF=Kd();function Oge(){this.__data__=aF?aF(null):{},this.size=0}iF.exports=Oge});var cF=C((UHe,sF)=>{function Mge(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}sF.exports=Mge});var lF=C((FHe,dF)=>{var Dge=Kd(),kge="__lodash_hash_undefined__",zge=Object.prototype,Lge=zge.hasOwnProperty;function Bge(e){var n=this.__data__;if(Dge){var r=n[e];return r===kge?void 0:r}return Lge.call(n,e)?n[e]:void 0}dF.exports=Bge});var fF=C((jHe,uF)=>{var Uge=Kd(),Fge=Object.prototype,jge=Fge.hasOwnProperty;function qge(e){var n=this.__data__;return Uge?n[e]!==void 0:jge.call(n,e)}uF.exports=qge});var pF=C((qHe,mF)=>{var $ge=Kd(),Hge="__lodash_hash_undefined__";function Gge(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$ge&&n===void 0?Hge:n,this}mF.exports=Gge});var hF=C(($He,vF)=>{var Vge=oF(),Kge=cF(),Jge=lF(),Wge=fF(),Xge=pF();function Ks(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}Ks.prototype.clear=Vge;Ks.prototype.delete=Kge;Ks.prototype.get=Jge;Ks.prototype.has=Wge;Ks.prototype.set=Xge;vF.exports=Ks});var wF=C((HHe,gF)=>{var yF=hF(),Yge=Vd(),Qge=Cm();function Zge(){this.size=0,this.__data__={hash:new yF,map:new(Qge||Yge),string:new yF}}gF.exports=Zge});var EF=C((GHe,bF)=>{function e0e(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}bF.exports=e0e});var Jd=C((VHe,_F)=>{var n0e=EF();function r0e(e,n){var r=e.__data__;return n0e(n)?r[typeof n=="string"?"string":"hash"]:r.map}_F.exports=r0e});var xF=C((KHe,SF)=>{var t0e=Jd();function a0e(e){var n=t0e(this,e).delete(e);return this.size-=n?1:0,n}SF.exports=a0e});var AF=C((JHe,CF)=>{var i0e=Jd();function o0e(e){return i0e(this,e).get(e)}CF.exports=o0e});var PF=C((WHe,TF)=>{var s0e=Jd();function c0e(e){return s0e(this,e).has(e)}TF.exports=c0e});var NF=C((XHe,IF)=>{var d0e=Jd();function l0e(e,n){var r=d0e(this,e),t=r.size;return r.set(e,n),this.size+=r.size==t?0:1,this}IF.exports=l0e});var Pm=C((YHe,RF)=>{var u0e=wF(),f0e=xF(),m0e=AF(),p0e=PF(),v0e=NF();function Js(e){var n=-1,r=e==null?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}Js.prototype.clear=u0e;Js.prototype.delete=f0e;Js.prototype.get=m0e;Js.prototype.has=p0e;Js.prototype.set=v0e;RF.exports=Js});var MF=C((QHe,OF)=>{var h0e=Vd(),y0e=Cm(),g0e=Pm(),w0e=200;function b0e(e,n){var r=this.__data__;if(r instanceof h0e){var t=r.__data__;if(!y0e||t.length<w0e-1)return t.push([e,n]),this.size=++r.size,this;r=this.__data__=new g0e(t)}return r.set(e,n),this.size=r.size,this}OF.exports=b0e});var kF=C((ZHe,DF)=>{var E0e=Vd(),_0e=XU(),S0e=QU(),x0e=eF(),C0e=rF(),A0e=MF();function Ws(e){var n=this.__data__=new E0e(e);this.size=n.size}Ws.prototype.clear=_0e;Ws.prototype.delete=S0e;Ws.prototype.get=x0e;Ws.prototype.has=C0e;Ws.prototype.set=A0e;DF.exports=Ws});var LF=C((e8e,zF)=>{var T0e="__lodash_hash_undefined__";function P0e(e){return this.__data__.set(e,T0e),this}zF.exports=P0e});var UF=C((n8e,BF)=>{function I0e(e){return this.__data__.has(e)}BF.exports=I0e});var jF=C((r8e,FF)=>{var N0e=Pm(),R0e=LF(),O0e=UF();function Im(e){var n=-1,r=e==null?0:e.length;for(this.__data__=new N0e;++n<r;)this.add(e[n])}Im.prototype.add=Im.prototype.push=R0e;Im.prototype.has=O0e;FF.exports=Im});var $F=C((t8e,qF)=>{function M0e(e,n){for(var r=-1,t=e==null?0:e.length;++r<t;)if(n(e[r],r,e))return!0;return!1}qF.exports=M0e});var GF=C((a8e,HF)=>{function D0e(e,n){return e.has(n)}HF.exports=D0e});var eb=C((i8e,VF)=>{var k0e=jF(),z0e=$F(),L0e=GF(),B0e=1,U0e=2;function F0e(e,n,r,t,i,a){var s=r&B0e,c=e.length,d=n.length;if(c!=d&&!(s&&d>c))return!1;var o=a.get(e),l=a.get(n);if(o&&l)return o==n&&l==e;var f=-1,m=!0,p=r&U0e?new k0e:void 0;for(a.set(e,n),a.set(n,e);++f<c;){var v=e[f],h=n[f];if(t)var y=s?t(h,v,f,n,e,a):t(v,h,f,e,n,a);if(y!==void 0){if(y)continue;m=!1;break}if(p){if(!z0e(n,function(g,w){if(!L0e(p,w)&&(v===g||i(v,g,r,t,a)))return p.push(w)})){m=!1;break}}else if(!(v===h||i(v,h,r,t,a))){m=!1;break}}return a.delete(e),a.delete(n),m}VF.exports=F0e});var JF=C((o8e,KF)=>{var j0e=Kt(),q0e=j0e.Uint8Array;KF.exports=q0e});var XF=C((s8e,WF)=>{function $0e(e){var n=-1,r=Array(e.size);return e.forEach(function(t,i){r[++n]=[i,t]}),r}WF.exports=$0e});var QF=C((c8e,YF)=>{function H0e(e){var n=-1,r=Array(e.size);return e.forEach(function(t){r[++n]=t}),r}YF.exports=H0e});var tj=C((d8e,rj)=>{var ZF=Fd(),ej=JF(),G0e=Zw(),V0e=eb(),K0e=XF(),J0e=QF(),W0e=1,X0e=2,Y0e="[object Boolean]",Q0e="[object Date]",Z0e="[object Error]",ewe="[object Map]",nwe="[object Number]",rwe="[object RegExp]",twe="[object Set]",awe="[object String]",iwe="[object Symbol]",owe="[object ArrayBuffer]",swe="[object DataView]",nj=ZF?ZF.prototype:void 0,nb=nj?nj.valueOf:void 0;function cwe(e,n,r,t,i,a,s){switch(r){case swe:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case owe:return!(e.byteLength!=n.byteLength||!a(new ej(e),new ej(n)));case Y0e:case Q0e:case nwe:return G0e(+e,+n);case Z0e:return e.name==n.name&&e.message==n.message;case rwe:case awe:return e==n+"";case ewe:var c=K0e;case twe:var d=t&W0e;if(c||(c=J0e),e.size!=n.size&&!d)return!1;var o=s.get(e);if(o)return o==n;t|=X0e,s.set(e,n);var l=V0e(c(e),c(n),t,i,a,s);return s.delete(e),l;case iwe:if(nb)return nb.call(e)==nb.call(n)}return!1}rj.exports=cwe});var ij=C((l8e,aj)=>{function dwe(e,n){for(var r=-1,t=n.length,i=e.length;++r<t;)e[i+r]=n[r];return e}aj.exports=dwe});var sj=C((u8e,oj)=>{var lwe=ij(),uwe=di();function fwe(e,n,r){var t=n(e);return uwe(e)?t:lwe(t,r(e))}oj.exports=fwe});var dj=C((f8e,cj)=>{function mwe(e,n){for(var r=-1,t=e==null?0:e.length,i=0,a=[];++r<t;){var s=e[r];n(s,r,e)&&(a[i++]=s)}return a}cj.exports=mwe});var uj=C((m8e,lj)=>{function pwe(){return[]}lj.exports=pwe});var pj=C((p8e,mj)=>{var vwe=dj(),hwe=uj(),ywe=Object.prototype,gwe=ywe.propertyIsEnumerable,fj=Object.getOwnPropertySymbols,wwe=fj?function(e){return e==null?[]:(e=Object(e),vwe(fj(e),function(n){return gwe.call(e,n)}))}:hwe;mj.exports=wwe});var hj=C((v8e,vj)=>{function bwe(e,n){for(var r=-1,t=Array(e);++r<e;)t[r]=n(r);return t}vj.exports=bwe});var gj=C((h8e,yj)=>{var Ewe=9007199254740991,_we=/^(?:0|[1-9]\d*)$/;function Swe(e,n){var r=typeof e;return n=n??Ewe,!!n&&(r=="number"||r!="symbol"&&_we.test(e))&&e>-1&&e%1==0&&e<n}yj.exports=Swe});var bj=C((y8e,wj)=>{var xwe=hj(),Cwe=Jw(),Awe=di(),Twe=Am(),Pwe=gj(),Iwe=Tm(),Nwe=Object.prototype,Rwe=Nwe.hasOwnProperty;function Owe(e,n){var r=Awe(e),t=!r&&Cwe(e),i=!r&&!t&&Twe(e),a=!r&&!t&&!i&&Iwe(e),s=r||t||i||a,c=s?xwe(e.length,String):[],d=c.length;for(var o in e)(n||Rwe.call(e,o))&&!(s&&(o=="length"||i&&(o=="offset"||o=="parent")||a&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||Pwe(o,d)))&&c.push(o);return c}wj.exports=Owe});var _j=C((g8e,Ej)=>{var Mwe=bj(),Dwe=zw(),kwe=Xw();function zwe(e){return kwe(e)?Mwe(e):Dwe(e)}Ej.exports=zwe});var xj=C((w8e,Sj)=>{var Lwe=sj(),Bwe=pj(),Uwe=_j();function Fwe(e){return Lwe(e,Uwe,Bwe)}Sj.exports=Fwe});var Tj=C((b8e,Aj)=>{var Cj=xj(),jwe=1,qwe=Object.prototype,$we=qwe.hasOwnProperty;function Hwe(e,n,r,t,i,a){var s=r&jwe,c=Cj(e),d=c.length,o=Cj(n),l=o.length;if(d!=l&&!s)return!1;for(var f=d;f--;){var m=c[f];if(!(s?m in n:$we.call(n,m)))return!1}var p=a.get(e),v=a.get(n);if(p&&v)return p==n&&v==e;var h=!0;a.set(e,n),a.set(n,e);for(var y=s;++f<d;){m=c[f];var g=e[m],w=n[m];if(t)var b=s?t(w,g,m,n,e,a):t(g,w,m,e,n,a);if(!(b===void 0?g===w||i(g,w,r,t,a):b)){h=!1;break}y||(y=m=="constructor")}if(h&&!y){var E=e.constructor,S=n.constructor;E!=S&&"constructor"in e&&"constructor"in n&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(e),a.delete(n),h}Aj.exports=Hwe});var kj=C((E8e,Dj)=>{var rb=kF(),Gwe=eb(),Vwe=tj(),Kwe=Tj(),Pj=Kw(),Ij=di(),Nj=Am(),Jwe=Tm(),Wwe=1,Rj="[object Arguments]",Oj="[object Array]",Nm="[object Object]",Xwe=Object.prototype,Mj=Xwe.hasOwnProperty;function Ywe(e,n,r,t,i,a){var s=Ij(e),c=Ij(n),d=s?Oj:Pj(e),o=c?Oj:Pj(n);d=d==Rj?Nm:d,o=o==Rj?Nm:o;var l=d==Nm,f=o==Nm,m=d==o;if(m&&Nj(e)){if(!Nj(n))return!1;s=!0,l=!1}if(m&&!l)return a||(a=new rb),s||Jwe(e)?Gwe(e,n,r,t,i,a):Vwe(e,n,d,r,t,i,a);if(!(r&Wwe)){var p=l&&Mj.call(e,"__wrapped__"),v=f&&Mj.call(n,"__wrapped__");if(p||v){var h=p?e.value():e,y=v?n.value():n;return a||(a=new rb),i(h,y,r,t,a)}}return m?(a||(a=new rb),Kwe(e,n,r,t,i,a)):!1}Dj.exports=Ywe});var Uj=C((_8e,Bj)=>{var Qwe=kj(),zj=$s();function Lj(e,n,r,t,i){return e===n?!0:e==null||n==null||!zj(e)&&!zj(n)?e!==e&&n!==n:Qwe(e,n,r,t,Lj,i)}Bj.exports=Lj});var tb=C((S8e,Fj)=>{var Zwe=Uj();function ebe(e,n){return Zwe(e,n)}Fj.exports=ebe});var Rm=C((I8e,Hj)=>{var obe=js(),sbe=$s(),cbe="[object Symbol]";function dbe(e){return typeof e=="symbol"||sbe(e)&&obe(e)==cbe}Hj.exports=dbe});var Vj=C((N8e,Gj)=>{var lbe=di(),ube=Rm(),fbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mbe=/^\w*$/;function pbe(e,n){if(lbe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ube(e)?!0:mbe.test(e)||!fbe.test(e)||n!=null&&e in Object(n)}Gj.exports=pbe});var Wj=C((R8e,Jj)=>{var Kj=Pm(),vbe="Expected a function";function ob(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(vbe);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,t);return r.cache=a.set(i,s)||a,s};return r.cache=new(ob.Cache||Kj),r}ob.Cache=Kj;Jj.exports=ob});var Yj=C((O8e,Xj)=>{var hbe=Wj(),ybe=500;function gbe(e){var n=hbe(e,function(t){return r.size===ybe&&r.clear(),t}),r=n.cache;return n}Xj.exports=gbe});var Zj=C((M8e,Qj)=>{var wbe=Yj(),bbe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ebe=/\\(\\)?/g,_be=wbe(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(bbe,function(r,t,i,a){n.push(i?a.replace(Ebe,"$1"):t||r)}),n});Qj.exports=_be});var nq=C((D8e,eq)=>{function Sbe(e,n){for(var r=-1,t=e==null?0:e.length,i=Array(t);++r<t;)i[r]=n(e[r],r,e);return i}eq.exports=Sbe});var sq=C((k8e,oq)=>{var rq=Fd(),xbe=nq(),Cbe=di(),Abe=Rm(),Tbe=1/0,tq=rq?rq.prototype:void 0,aq=tq?tq.toString:void 0;function iq(e){if(typeof e=="string")return e;if(Cbe(e))return xbe(e,iq)+"";if(Abe(e))return aq?aq.call(e):"";var n=e+"";return n=="0"&&1/e==-Tbe?"-0":n}oq.exports=iq});var dq=C((z8e,cq)=>{var Pbe=sq();function Ibe(e){return e==null?"":Pbe(e)}cq.exports=Ibe});var uq=C((L8e,lq)=>{var Nbe=di(),Rbe=Vj(),Obe=Zj(),Mbe=dq();function Dbe(e,n){return Nbe(e)?e:Rbe(e,n)?[e]:Obe(Mbe(e))}lq.exports=Dbe});var mq=C((B8e,fq)=>{var kbe=Rm(),zbe=1/0;function Lbe(e){if(typeof e=="string"||kbe(e))return e;var n=e+"";return n=="0"&&1/e==-zbe?"-0":n}fq.exports=Lbe});var vq=C((U8e,pq)=>{var Bbe=uq(),Ube=mq();function Fbe(e,n){n=Bbe(n,e);for(var r=0,t=n.length;e!=null&&r<t;)e=e[Ube(n[r++])];return r&&r==t?e:void 0}pq.exports=Fbe});var yq=C((F8e,hq)=>{var jbe=vq();function qbe(e,n,r){var t=e==null?void 0:jbe(e,n);return t===void 0?r:t}hq.exports=qbe});var Wt=C(_t=>{"use strict";var X8=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",x1e=X8+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Y8="["+X8+"]["+x1e+"]*",C1e=new RegExp("^"+Y8+"$"),A1e=function(e,n){let r=[],t=n.exec(e);for(;t;){let i=[];i.startIndex=n.lastIndex-t[0].length;let a=t.length;for(let s=0;s<a;s++)i.push(t[s]);r.push(i),t=n.exec(e)}return r},T1e=function(e){let n=C1e.exec(e);return!(n===null||typeof n>"u")};_t.isExist=function(e){return typeof e<"u"};_t.isEmptyObject=function(e){return Object.keys(e).length===0};_t.merge=function(e,n,r){if(n){let t=Object.keys(n),i=t.length;for(let a=0;a<i;a++)r==="strict"?e[t[a]]=[n[t[a]]]:e[t[a]]=n[t[a]]}};_t.getValue=function(e){return _t.isExist(e)?e:""};_t.buildOptions=function(e,n,r){let t={};if(!e)return n;for(let i=0;i<r.length;i++)e[r[i]]!==void 0?t[r[i]]=e[r[i]]:t[r[i]]=n[r[i]];return t};_t.isTagNameInArrayMode=function(e,n,r){return n===!1?!1:n instanceof RegExp?n.test(e):typeof n=="function"?!!n(e,r):n==="strict"};_t.isName=T1e;_t.getAllMatches=A1e;_t.nameRegexp=Y8});var Z8=C(Q8=>{"use strict";var fo=Wt(),Bb=function(e,n,r){let t={};if(!n.alwaysCreateTextNode&&(!e.child||fo.isEmptyObject(e.child))&&(!e.attrsMap||fo.isEmptyObject(e.attrsMap)))return fo.isExist(e.val)?e.val:"";if(fo.isExist(e.val)&&!(typeof e.val=="string"&&(e.val===""||e.val===n.cdataPositionChar))){let a=fo.isTagNameInArrayMode(e.tagname,n.arrayMode,r);t[n.textNodeName]=a?[e.val]:e.val}fo.merge(t,e.attrsMap,n.arrayMode);let i=Object.keys(e.child);for(let a=0;a<i.length;a++){let s=i[a];if(e.child[s]&&e.child[s].length>1){t[s]=[];for(let c in e.child[s])e.child[s].hasOwnProperty(c)&&t[s].push(Bb(e.child[s][c],n,s))}else{let c=Bb(e.child[s][0],n,s),d=n.arrayMode===!0&&typeof c=="object"||fo.isTagNameInArrayMode(s,n.arrayMode,r);t[s]=d?[c]:c}}return t};Q8.convertToJson=Bb});var nG=C((G7e,eG)=>{"use strict";eG.exports=function(e,n,r){this.tagname=e,this.parent=n,this.child={},this.attrsMap={},this.val=r,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}});var tG=C((V7e,rG)=>{var P1e=/^[-+]?0x[a-fA-F0-9]+$/,I1e=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var N1e={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function R1e(e,n={}){if(n=Object.assign({},N1e,n),!e||typeof e!="string")return e;let r=e.trim();if(n.skipLike!==void 0&&n.skipLike.test(r))return e;if(n.hex&&P1e.test(r))return Number.parseInt(r,16);{let t=I1e.exec(r);if(t){let i=t[1],a=t[2],s=O1e(t[3]),c=t[4]||t[6];if(!n.leadingZeros&&a.length>0&&i&&r[2]!==".")return e;if(!n.leadingZeros&&a.length>0&&!i&&r[1]!==".")return e;{let d=Number(r),o=""+d;return o.search(/[eE]/)!==-1||c?n.eNotation?d:e:r.indexOf(".")!==-1?o==="0"&&s===""||o===s||i&&o==="-"+s?d:e:a?s===o||i+s===o?d:e:r===o||r===i+o?d:e}}else return e}}function O1e(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}rG.exports=R1e});var tl=C(dp=>{"use strict";var mo=Wt(),M1e=Wt().buildOptions,sp=nG(),D1e=tG(),K7e="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,mo.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var iG={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,n){return e},attrValueProcessor:function(e,n){return e},stopNodes:[],alwaysCreateTextNode:!1};dp.defaultOptions=iG;var oG=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];dp.props=oG;function cp(e,n,r){return n&&(r.trimValues&&(n=n.trim()),n=r.tagValueProcessor(n,e),n=sG(n,r.parseNodeValue,r.numParseOptions)),n}function k1e(e,n){if(n.ignoreNameSpace){let r=e.split(":"),t=e.charAt(0)==="/"?"/":"";if(r[0]==="xmlns")return"";r.length===2&&(e=t+r[1])}return e}function sG(e,n,r){if(n&&typeof e=="string"){let t=e.trim();return t==="true"?!0:t==="false"?!1:D1e(e,r)}else return mo.isExist(e)?e:""}var z1e=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function aG(e,n){if(!n.ignoreAttributes&&typeof e=="string"){e=e.replace(/\r?\n/g," ");let r=mo.getAllMatches(e,z1e),t=r.length,i={};for(let a=0;a<t;a++){let s=k1e(r[a][1],n);s.length&&(r[a][4]!==void 0?(n.trimValues&&(r[a][4]=r[a][4].trim()),r[a][4]=n.attrValueProcessor(r[a][4],s),i[n.attributeNamePrefix+s]=sG(r[a][4],n.parseAttributeValue,n.numParseOptions)):n.allowBooleanAttributes&&(i[n.attributeNamePrefix+s]=!0))}if(!Object.keys(i).length)return;if(n.attrNodeName){let a={};return a[n.attrNodeName]=i,a}return i}}var L1e=function(e,n){e=e.replace(/\r\n?/g,`
`),n=M1e(n,iG,oG);let r=new sp("!xml"),t=r,i="";for(let a=0;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="/"){let c=rl(e,">",a,"Closing Tag is not closed."),d=e.substring(a+2,c).trim();if(n.ignoreNameSpace){let o=d.indexOf(":");o!==-1&&(d=d.substr(o+1))}t&&(t.val?t.val=mo.getValue(t.val)+""+cp(d,i,n):t.val=cp(d,i,n)),n.stopNodes.length&&n.stopNodes.includes(t.tagname)&&(t.child=[],t.attrsMap==null&&(t.attrsMap={}),t.val=e.substr(t.startIndex+1,a-t.startIndex-1)),t=t.parent,i="",a=c}else if(e[a+1]==="?")a=rl(e,"?>",a,"Pi Tag is not closed.");else if(e.substr(a+1,3)==="!--")a=rl(e,"-->",a,"Comment is not closed.");else if(e.substr(a+1,2)==="!D"){let c=rl(e,">",a,"DOCTYPE is not closed.");e.substring(a,c).indexOf("[")>=0?a=e.indexOf("]>",a)+1:a=c}else if(e.substr(a+1,2)==="!["){let c=rl(e,"]]>",a,"CDATA is not closed.")-2,d=e.substring(a+9,c);if(i&&(t.val=mo.getValue(t.val)+""+cp(t.tagname,i,n),i=""),n.cdataTagName){let o=new sp(n.cdataTagName,t,d);t.addChild(o),t.val=mo.getValue(t.val)+n.cdataPositionChar,d&&(o.val=d)}else t.val=(t.val||"")+(d||"");a=c+2}else{let c=B1e(e,a+1),d=c.data,o=c.index,l=d.indexOf(" "),f=d,m=!0;if(l!==-1&&(f=d.substr(0,l).replace(/\s\s*$/,""),d=d.substr(l+1)),n.ignoreNameSpace){let p=f.indexOf(":");p!==-1&&(f=f.substr(p+1),m=f!==c.data.substr(p+1))}if(t&&i&&t.tagname!=="!xml"&&(t.val=mo.getValue(t.val)+""+cp(t.tagname,i,n)),d.length>0&&d.lastIndexOf("/")===d.length-1){f[f.length-1]==="/"?(f=f.substr(0,f.length-1),d=f):d=d.substr(0,d.length-1);let p=new sp(f,t,"");f!==d&&(p.attrsMap=aG(d,n)),t.addChild(p)}else{let p=new sp(f,t);n.stopNodes.length&&n.stopNodes.includes(p.tagname)&&(p.startIndex=o),f!==d&&m&&(p.attrsMap=aG(d,n)),t.addChild(p),t=p}i="",a=o}else i+=e[a];return r};function B1e(e,n){let r,t="";for(let i=n;i<e.length;i++){let a=e[i];if(r)a===r&&(r="");else if(a==='"'||a==="'")r=a;else{if(a===">")return{data:t,index:i};a==="	"&&(a=" ")}t+=a}}function rl(e,n,r,t){let i=e.indexOf(n,r);if(i===-1)throw new Error(t);return i+n.length-1}dp.getTraversalObj=L1e});var fG=C(uG=>{"use strict";var up=Wt(),U1e={allowBooleanAttributes:!1},F1e=["allowBooleanAttributes"];uG.validate=function(e,n){n=up.buildOptions(n,U1e,F1e);let r=[],t=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let a=0;a<e.length;a++)if(e[a]==="<"&&e[a+1]==="?"){if(a+=2,a=cG(e,a),a.err)return a}else if(e[a]==="<"){let s=a;if(a++,e[a]==="!"){a=dG(e,a);continue}else{let c=!1;e[a]==="/"&&(c=!0,a++);let d="";for(;a<e.length&&e[a]!==">"&&e[a]!==" "&&e[a]!=="	"&&e[a]!==`
`&&e[a]!=="\r";a++)d+=e[a];if(d=d.trim(),d[d.length-1]==="/"&&(d=d.substring(0,d.length-1),a--),!J1e(d)){let f;return d.trim().length===0?f="Invalid space after '<'.":f="Tag '"+d+"' is an invalid name.",bn("InvalidTag",f,Fr(e,a))}let o=$1e(e,a);if(o===!1)return bn("InvalidAttr","Attributes for '"+d+"' have open quote.",Fr(e,a));let l=o.value;if(a=o.index,l[l.length-1]==="/"){let f=a-l.length;l=l.substring(0,l.length-1);let m=lG(l,n);if(m===!0)t=!0;else return bn(m.err.code,m.err.msg,Fr(e,f+m.err.line))}else if(c)if(o.tagClosed){if(l.trim().length>0)return bn("InvalidTag","Closing tag '"+d+"' can't have attributes or invalid starting.",Fr(e,s));{let f=r.pop();if(d!==f.tagName){let m=Fr(e,f.tagStartPos);return bn("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+m.line+", col "+m.col+") instead of closing tag '"+d+"'.",Fr(e,s))}r.length==0&&(i=!0)}}else return bn("InvalidTag","Closing tag '"+d+"' doesn't have proper closing.",Fr(e,a));else{let f=lG(l,n);if(f!==!0)return bn(f.err.code,f.err.msg,Fr(e,a-l.length+f.err.line));if(i===!0)return bn("InvalidXml","Multiple possible root nodes found.",Fr(e,a));r.push({tagName:d,tagStartPos:s}),t=!0}for(a++;a<e.length;a++)if(e[a]==="<")if(e[a+1]==="!"){a++,a=dG(e,a);continue}else if(e[a+1]==="?"){if(a=cG(e,++a),a.err)return a}else break;else if(e[a]==="&"){let f=V1e(e,a);if(f==-1)return bn("InvalidChar","char '&' is not expected.",Fr(e,a));a=f}e[a]==="<"&&a--}}else{if(e[a]===" "||e[a]==="	"||e[a]===`
`||e[a]==="\r")continue;return bn("InvalidChar","char '"+e[a]+"' is not expected.",Fr(e,a))}if(t){if(r.length==1)return bn("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Fr(e,r[0].tagStartPos));if(r.length>0)return bn("InvalidXml","Invalid '"+JSON.stringify(r.map(a=>a.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return bn("InvalidXml","Start tag expected.",1);return!0};function cG(e,n){let r=n;for(;n<e.length;n++)if(e[n]=="?"||e[n]==" "){let t=e.substr(r,n-r);if(n>5&&t==="xml")return bn("InvalidXml","XML declaration allowed only at the start of the document.",Fr(e,n));if(e[n]=="?"&&e[n+1]==">"){n++;break}else continue}return n}function dG(e,n){if(e.length>n+5&&e[n+1]==="-"&&e[n+2]==="-"){for(n+=3;n<e.length;n++)if(e[n]==="-"&&e[n+1]==="-"&&e[n+2]===">"){n+=2;break}}else if(e.length>n+8&&e[n+1]==="D"&&e[n+2]==="O"&&e[n+3]==="C"&&e[n+4]==="T"&&e[n+5]==="Y"&&e[n+6]==="P"&&e[n+7]==="E"){let r=1;for(n+=8;n<e.length;n++)if(e[n]==="<")r++;else if(e[n]===">"&&(r--,r===0))break}else if(e.length>n+9&&e[n+1]==="["&&e[n+2]==="C"&&e[n+3]==="D"&&e[n+4]==="A"&&e[n+5]==="T"&&e[n+6]==="A"&&e[n+7]==="["){for(n+=8;n<e.length;n++)if(e[n]==="]"&&e[n+1]==="]"&&e[n+2]===">"){n+=2;break}}return n}var j1e='"',q1e="'";function $1e(e,n){let r="",t="",i=!1;for(;n<e.length;n++){if(e[n]===j1e||e[n]===q1e)t===""?t=e[n]:t!==e[n]||(t="");else if(e[n]===">"&&t===""){i=!0;break}r+=e[n]}return t!==""?!1:{value:r,index:n,tagClosed:i}}var H1e=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function lG(e,n){let r=up.getAllMatches(e,H1e),t={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return bn("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",lp(r[i]));if(r[i][3]===void 0&&!n.allowBooleanAttributes)return bn("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",lp(r[i]));let a=r[i][2];if(!K1e(a))return bn("InvalidAttr","Attribute '"+a+"' is an invalid name.",lp(r[i]));if(!t.hasOwnProperty(a))t[a]=1;else return bn("InvalidAttr","Attribute '"+a+"' is repeated.",lp(r[i]))}return!0}function G1e(e,n){let r=/\d/;for(e[n]==="x"&&(n++,r=/[\da-fA-F]/);n<e.length;n++){if(e[n]===";")return n;if(!e[n].match(r))break}return-1}function V1e(e,n){if(n++,e[n]===";")return-1;if(e[n]==="#")return n++,G1e(e,n);let r=0;for(;n<e.length;n++,r++)if(!(e[n].match(/\w/)&&r<20)){if(e[n]===";")break;return-1}return n}function bn(e,n,r){return{err:{code:e,msg:n,line:r.line||r,col:r.col}}}function K1e(e){return up.isName(e)}function J1e(e){return up.isName(e)}function Fr(e,n){let r=e.substring(0,n).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function lp(e){return e.startIndex+e[1].length}});var hG=C(vG=>{"use strict";var Xt=function(e){return String.fromCharCode(e)},rn={nilChar:Xt(176),missingChar:Xt(201),nilPremitive:Xt(175),missingPremitive:Xt(200),emptyChar:Xt(178),emptyValue:Xt(177),boundryChar:Xt(179),objStart:Xt(198),arrStart:Xt(204),arrayEnd:Xt(185)},W1e=[rn.nilChar,rn.nilPremitive,rn.missingChar,rn.missingPremitive,rn.boundryChar,rn.emptyChar,rn.emptyValue,rn.arrayEnd,rn.objStart,rn.arrStart],al=function(e,n,r){if(typeof n=="string")return e&&e[0]&&e[0].val!==void 0?Ub(e[0].val,n):Ub(e,n);{let t=X1e(e);if(t===!0){let i="";if(Array.isArray(n)){i+=rn.arrStart;let a=n[0],s=e.length;if(typeof a=="string")for(let c=0;c<s;c++){let d=Ub(e[c].val,a);i=Fb(i,d)}else for(let c=0;c<s;c++){let d=al(e[c],a,r);i=Fb(i,d)}i+=rn.arrayEnd}else{i+=rn.objStart;let a=Object.keys(n);Array.isArray(e)&&(e=e[0]);for(let s in a){let c=a[s],d;!r.ignoreAttributes&&e.attrsMap&&e.attrsMap[c]?d=al(e.attrsMap[c],n[c],r):c===r.textNodeName?d=al(e.val,n[c],r):d=al(e.child[c],n[c],r),i=Fb(i,d)}}return i}else return t}},Ub=function(e){switch(e){case void 0:return rn.missingPremitive;case null:return rn.nilPremitive;case"":return rn.emptyValue;default:return e}},Fb=function(e,n){return!mG(n[0])&&!mG(e[e.length-1])&&(e+=rn.boundryChar),e+n},mG=function(e){return W1e.indexOf(e)!==-1};function X1e(e){return e===void 0?rn.missingChar:e===null?rn.nilChar:e.child&&Object.keys(e.child).length===0&&(!e.attrsMap||Object.keys(e.attrsMap).length===0)?rn.emptyChar:!0}var pG=tl(),Y1e=Wt().buildOptions,Q1e=function(e,n,r){return r=Y1e(r,pG.defaultOptions,pG.props),al(e,n,r)};vG.convert2nimn=Q1e});var wG=C(gG=>{"use strict";var fp=Wt(),Z1e=Wt().buildOptions,yG=tl(),eEe=function(e,n){return n=Z1e(n,yG.defaultOptions,yG.props),n.indentBy=n.indentBy||"",jb(e,n,0)},jb=function(e,n,r){let t="{",i=Object.keys(e.child);for(let a=0;a<i.length;a++){let s=i[a];if(e.child[s]&&e.child[s].length>1){t+='"'+s+'" : [ ';for(let c in e.child[s])t+=jb(e.child[s][c],n)+" , ";t=t.substr(0,t.length-1)+" ] "}else t+='"'+s+'" : '+jb(e.child[s][0],n)+" ,"}return fp.merge(t,e.attrsMap),fp.isEmptyObject(t)?fp.isExist(e.val)?e.val:"":(fp.isExist(e.val)&&(typeof e.val=="string"&&(e.val===""||e.val===n.cdataPositionChar)||(t+='"'+n.textNodeName+'" : '+nEe(e.val))),t[t.length-1]===","&&(t=t.substr(0,t.length-2)),t+"}")};function nEe(e){return e===!0||e===!1||!isNaN(e)?e:'"'+e+'"'}gG.convertToJsonString=eEe});var SG=C((Q7e,_G)=>{"use strict";var rEe=Wt().buildOptions,tEe={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},aEe=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function qb(e){this.options=rEe(e,tEe,aEe),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=uEe),this.options.cdataTagName?this.isCDATA=fEe:this.isCDATA=function(){return!1},this.replaceCDATAstr=oEe,this.replaceCDATAarr=sEe,this.processTextOrObjNode=iEe,this.options.format?(this.indentate=lEe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=dEe,this.buildObjNode=cEe):(this.buildTextNode=EG,this.buildObjNode=bG),this.buildTextValNode=EG,this.buildObjectNode=bG}qb.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val};qb.prototype.j2x=function(e,n){let r="",t="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)t+=this.indentate(n)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)t+=this.buildTextNode(e[i],i,"",n);else if(typeof e[i]!="object"){let a=this.isAttribute(i);a?r+=" "+a+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?t+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):t+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(t+=this.options.tagValueProcessor(""+e[i])):t+=this.buildTextNode(e[i],i,"",n)}else if(Array.isArray(e[i]))if(this.isCDATA(i))t+=this.indentate(n),e[this.options.textNodeName]?t+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):t+=this.replaceCDATAarr("",e[i]);else{let a=e[i].length;for(let s=0;s<a;s++){let c=e[i][s];typeof c>"u"||(c===null?t+=this.indentate(n)+"<"+i+"/"+this.tagEndChar:typeof c=="object"?t+=this.processTextOrObjNode(c,i,n):t+=this.buildTextNode(c,i,"",n))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){let a=Object.keys(e[i]),s=a.length;for(let c=0;c<s;c++)r+=" "+a[c]+'="'+this.options.attrValueProcessor(""+e[i][a[c]])+'"'}else t+=this.processTextOrObjNode(e[i],i,n);return{attrStr:r,val:t}};function iEe(e,n,r){let t=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(t.val,n,t.attrStr,r):this.buildObjNode(t.val,n,t.attrStr,r)}function oEe(e,n){return e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e===""?e+"<![CDATA["+n+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+n+"]]"+this.tagEndChar)}function sEe(e,n){if(e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e==="")return e+"<![CDATA["+n.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in n)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+n[r]+"]]>");return e+this.newLine}function bG(e,n,r,t){return r&&e.indexOf("<")===-1?this.indentate(t)+"<"+n+r+">"+e+"</"+n+this.tagEndChar:this.indentate(t)+"<"+n+r+this.tagEndChar+e+this.indentate(t)+"</"+n+this.tagEndChar}function cEe(e,n,r,t){return e!==""?this.buildObjectNode(e,n,r,t):this.indentate(t)+"<"+n+r+"/"+this.tagEndChar}function EG(e,n,r,t){return this.indentate(t)+"<"+n+r+">"+this.options.tagValueProcessor(e)+"</"+n+this.tagEndChar}function dEe(e,n,r,t){return e!==""?this.buildTextValNode(e,n,r,t):this.indentate(t)+"<"+n+r+"/"+this.tagEndChar}function lEe(e){return this.options.indentBy.repeat(e)}function uEe(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}function fEe(e){return e===this.options.cdataTagName}_G.exports=qb});var PG=C(St=>{"use strict";var CG=Z8(),AG=tl(),xG=tl(),mEe=Wt().buildOptions,TG=fG();St.parse=function(e,n={},r){if(r){r===!0&&(r={});let a=TG.validate(e,r);if(a!==!0)throw Error(a.err.msg)}n.parseTrueNumberOnly&&n.parseNodeValue!==!1&&!n.numParseOptions&&(n.numParseOptions={leadingZeros:!1});let t=mEe(n,xG.defaultOptions,xG.props),i=AG.getTraversalObj(e,t);return CG.convertToJson(i,t)};St.convertTonimn=hG().convert2nimn;St.getTraversalObj=AG.getTraversalObj;St.convertToJson=CG.convertToJson;St.convertToJsonString=wG().convertToJsonString;St.validate=TG.validate;St.j2xParser=SG();St.parseToNimn=function(e,n,r){return St.convertTonimn(St.getTraversalObj(e,r),n,r)}});var r1=C((o5e,F7)=>{"use strict";F7.exports=function(n,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return n.apply(r,i)}}});var _r=C((s5e,$7)=>{"use strict";var qEe=r1(),po=Object.prototype.toString;function i1(e){return po.call(e)==="[object Array]"}function t1(e){return typeof e>"u"}function $Ee(e){return e!==null&&!t1(e)&&e.constructor!==null&&!t1(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function HEe(e){return po.call(e)==="[object ArrayBuffer]"}function GEe(e){return typeof FormData<"u"&&e instanceof FormData}function VEe(e){var n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&e.buffer instanceof ArrayBuffer,n}function KEe(e){return typeof e=="string"}function JEe(e){return typeof e=="number"}function j7(e){return e!==null&&typeof e=="object"}function bp(e){if(po.call(e)!=="[object Object]")return!1;var n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}function WEe(e){return po.call(e)==="[object Date]"}function XEe(e){return po.call(e)==="[object File]"}function YEe(e){return po.call(e)==="[object Blob]"}function q7(e){return po.call(e)==="[object Function]"}function QEe(e){return j7(e)&&q7(e.pipe)}function ZEe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function e_e(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function n_e(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function o1(e,n){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),i1(e))for(var r=0,t=e.length;r<t;r++)n.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.call(null,e[i],i,e)}function a1(){var e={};function n(i,a){bp(e[a])&&bp(i)?e[a]=a1(e[a],i):bp(i)?e[a]=a1({},i):i1(i)?e[a]=i.slice():e[a]=i}for(var r=0,t=arguments.length;r<t;r++)o1(arguments[r],n);return e}function r_e(e,n,r){return o1(n,function(i,a){r&&typeof i=="function"?e[a]=qEe(i,r):e[a]=i}),e}function t_e(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}$7.exports={isArray:i1,isArrayBuffer:HEe,isBuffer:$Ee,isFormData:GEe,isArrayBufferView:VEe,isString:KEe,isNumber:JEe,isObject:j7,isPlainObject:bp,isUndefined:t1,isDate:WEe,isFile:XEe,isBlob:YEe,isFunction:q7,isStream:QEe,isURLSearchParams:ZEe,isStandardBrowserEnv:n_e,forEach:o1,merge:a1,extend:r_e,trim:e_e,stripBOM:t_e}});var s1=C((c5e,G7)=>{"use strict";var nc=_r();function H7(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}G7.exports=function(n,r,t){if(!r)return n;var i;if(t)i=t(r);else if(nc.isURLSearchParams(r))i=r.toString();else{var a=[];nc.forEach(r,function(d,o){d===null||typeof d>"u"||(nc.isArray(d)?o=o+"[]":d=[d],nc.forEach(d,function(f){nc.isDate(f)?f=f.toISOString():nc.isObject(f)&&(f=JSON.stringify(f)),a.push(H7(o)+"="+H7(f))}))}),i=a.join("&")}if(i){var s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}});var K7=C((d5e,V7)=>{"use strict";var a_e=_r();function Ep(){this.handlers=[]}Ep.prototype.use=function(n,r,t){return this.handlers.push({fulfilled:n,rejected:r,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1};Ep.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)};Ep.prototype.forEach=function(n){a_e.forEach(this.handlers,function(t){t!==null&&n(t)})};V7.exports=Ep});var W7=C((l5e,J7)=>{"use strict";var i_e=_r();J7.exports=function(n,r){i_e.forEach(n,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(n[r]=i,delete n[a])})}});var c1=C((u5e,X7)=>{"use strict";X7.exports=function(n,r,t,i,a){return n.config=r,t&&(n.code=t),n.request=i,n.response=a,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},n}});var d1=C((f5e,Y7)=>{"use strict";var o_e=c1();Y7.exports=function(n,r,t,i,a){var s=new Error(n);return o_e(s,r,t,i,a)}});var Z7=C((m5e,Q7)=>{"use strict";var s_e=d1();Q7.exports=function(n,r,t){var i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):r(s_e("Request failed with status code "+t.status,t.config,null,t.request,t))}});var nV=C((p5e,eV)=>{"use strict";var _p=_r();eV.exports=_p.isStandardBrowserEnv()?function(){return{write:function(r,t,i,a,s,c){var d=[];d.push(r+"="+encodeURIComponent(t)),_p.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),_p.isString(a)&&d.push("path="+a),_p.isString(s)&&d.push("domain="+s),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var tV=C((v5e,rV)=>{"use strict";rV.exports=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)}});var iV=C((h5e,aV)=>{"use strict";aV.exports=function(n,r){return r?n.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):n}});var sV=C((y5e,oV)=>{"use strict";var c_e=tV(),d_e=iV();oV.exports=function(n,r){return n&&!c_e(r)?d_e(n,r):r}});var dV=C((g5e,cV)=>{"use strict";var l1=_r(),l_e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];cV.exports=function(n){var r={},t,i,a;return n&&l1.forEach(n.split(`
`),function(c){if(a=c.indexOf(":"),t=l1.trim(c.substr(0,a)).toLowerCase(),i=l1.trim(c.substr(a+1)),t){if(r[t]&&l_e.indexOf(t)>=0)return;t==="set-cookie"?r[t]=(r[t]?r[t]:[]).concat([i]):r[t]=r[t]?r[t]+", "+i:i}}),r}});var fV=C((w5e,uV)=>{"use strict";var lV=_r();uV.exports=lV.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),t;function i(a){var s=a;return n&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(s){var c=lV.isString(s)?i(s):s;return c.protocol===t.protocol&&c.host===t.host}}():function(){return function(){return!0}}()});var f1=C((b5e,mV)=>{"use strict";var Sp=_r(),u_e=Z7(),f_e=nV(),m_e=s1(),p_e=sV(),v_e=dV(),h_e=fV(),u1=d1();mV.exports=function(n){return new Promise(function(t,i){var a=n.data,s=n.headers,c=n.responseType;Sp.isFormData(a)&&delete s["Content-Type"];var d=new XMLHttpRequest;if(n.auth){var o=n.auth.username||"",l=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.Authorization="Basic "+btoa(o+":"+l)}var f=p_e(n.baseURL,n.url);d.open(n.method.toUpperCase(),m_e(f,n.params,n.paramsSerializer),!0),d.timeout=n.timeout;function m(){if(d){var v="getAllResponseHeaders"in d?v_e(d.getAllResponseHeaders()):null,h=!c||c==="text"||c==="json"?d.responseText:d.response,y={data:h,status:d.status,statusText:d.statusText,headers:v,config:n,request:d};u_e(t,i,y),d=null}}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(i(u1("Request aborted",n,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(u1("Network Error",n,null,d)),d=null},d.ontimeout=function(){var h="timeout of "+n.timeout+"ms exceeded";n.timeoutErrorMessage&&(h=n.timeoutErrorMessage),i(u1(h,n,n.transitional&&n.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Sp.isStandardBrowserEnv()){var p=(n.withCredentials||h_e(f))&&n.xsrfCookieName?f_e.read(n.xsrfCookieName):void 0;p&&(s[n.xsrfHeaderName]=p)}"setRequestHeader"in d&&Sp.forEach(s,function(h,y){typeof a>"u"&&y.toLowerCase()==="content-type"?delete s[y]:d.setRequestHeader(y,h)}),Sp.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),c&&c!=="json"&&(d.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&d.addEventListener("progress",n.onDownloadProgress),typeof n.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",n.onUploadProgress),n.cancelToken&&n.cancelToken.promise.then(function(h){d&&(d.abort(),i(h),d=null)}),a||(a=null),d.send(a)})}});var Cp=C((E5e,hV)=>{"use strict";var Tn=_r(),pV=W7(),y_e=c1(),g_e={"Content-Type":"application/x-www-form-urlencoded"};function vV(e,n){!Tn.isUndefined(e)&&Tn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}function w_e(){var e;return typeof XMLHttpRequest<"u"?e=f1():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(e=f1()),e}function b_e(e,n,r){if(Tn.isString(e))try{return(n||JSON.parse)(e),Tn.trim(e)}catch(t){if(t.name!=="SyntaxError")throw t}return(r||JSON.stringify)(e)}var xp={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:w_e(),transformRequest:[function(n,r){return pV(r,"Accept"),pV(r,"Content-Type"),Tn.isFormData(n)||Tn.isArrayBuffer(n)||Tn.isBuffer(n)||Tn.isStream(n)||Tn.isFile(n)||Tn.isBlob(n)?n:Tn.isArrayBufferView(n)?n.buffer:Tn.isURLSearchParams(n)?(vV(r,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):Tn.isObject(n)||r&&r["Content-Type"]==="application/json"?(vV(r,"application/json"),b_e(n)):n}],transformResponse:[function(n){var r=this.transitional,t=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,a=!t&&this.responseType==="json";if(a||i&&Tn.isString(n)&&n.length)try{return JSON.parse(n)}catch(s){if(a)throw s.name==="SyntaxError"?y_e(s,this,"E_JSON_PARSE"):s}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(n){return n>=200&&n<300}};xp.headers={common:{Accept:"application/json, text/plain, */*"}};Tn.forEach(["delete","get","head"],function(n){xp.headers[n]={}});Tn.forEach(["post","put","patch"],function(n){xp.headers[n]=Tn.merge(g_e)});hV.exports=xp});var gV=C((_5e,yV)=>{"use strict";var E_e=_r(),__e=Cp();yV.exports=function(n,r,t){var i=this||__e;return E_e.forEach(t,function(s){n=s.call(i,n,r)}),n}});var m1=C((S5e,wV)=>{"use strict";wV.exports=function(n){return!!(n&&n.__CANCEL__)}});var _V=C((x5e,EV)=>{"use strict";var bV=_r(),p1=gV(),S_e=m1(),x_e=Cp();function v1(e){e.cancelToken&&e.cancelToken.throwIfRequested()}EV.exports=function(n){v1(n),n.headers=n.headers||{},n.data=p1.call(n,n.data,n.headers,n.transformRequest),n.headers=bV.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),bV.forEach(["delete","get","head","post","put","patch","common"],function(i){delete n.headers[i]});var r=n.adapter||x_e.adapter;return r(n).then(function(i){return v1(n),i.data=p1.call(n,i.data,i.headers,n.transformResponse),i},function(i){return S_e(i)||(v1(n),i&&i.response&&(i.response.data=p1.call(n,i.response.data,i.response.headers,n.transformResponse))),Promise.reject(i)})}});var h1=C((C5e,SV)=>{"use strict";var tr=_r();SV.exports=function(n,r){r=r||{};var t={},i=["url","method","data"],a=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function d(m,p){return tr.isPlainObject(m)&&tr.isPlainObject(p)?tr.merge(m,p):tr.isPlainObject(p)?tr.merge({},p):tr.isArray(p)?p.slice():p}function o(m){tr.isUndefined(r[m])?tr.isUndefined(n[m])||(t[m]=d(void 0,n[m])):t[m]=d(n[m],r[m])}tr.forEach(i,function(p){tr.isUndefined(r[p])||(t[p]=d(void 0,r[p]))}),tr.forEach(a,o),tr.forEach(s,function(p){tr.isUndefined(r[p])?tr.isUndefined(n[p])||(t[p]=d(void 0,n[p])):t[p]=d(void 0,r[p])}),tr.forEach(c,function(p){p in r?t[p]=d(n[p],r[p]):p in n&&(t[p]=d(void 0,n[p]))});var l=i.concat(a).concat(s).concat(c),f=Object.keys(n).concat(Object.keys(r)).filter(function(p){return l.indexOf(p)===-1});return tr.forEach(f,o),t}});var xV=C((A5e,C_e)=>{C_e.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}});var IV=C((T5e,PV)=>{"use strict";var AV=xV(),y1={};["object","boolean","number","function","string","symbol"].forEach(function(e,n){y1[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});var CV={},A_e=AV.version.split(".");function TV(e,n){for(var r=n?n.split("."):A_e,t=e.split("."),i=0;i<3;i++){if(r[i]>t[i])return!0;if(r[i]<t[i])return!1}return!1}y1.transitional=function(n,r,t){var i=r&&TV(r);function a(s,c){return"[Axios v"+AV.version+"] Transitional option '"+s+"'"+c+(t?". "+t:"")}return function(s,c,d){if(n===!1)throw new Error(a(c," has been removed in "+r));return i&&!CV[c]&&(CV[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(s,c,d):!0}};function T_e(e,n,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var t=Object.keys(e),i=t.length;i-- >0;){var a=t[i],s=n[a];if(s){var c=e[a],d=c===void 0||s(c,a,e);if(d!==!0)throw new TypeError("option "+a+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+a)}}PV.exports={isOlderVersion:TV,assertOptions:T_e,validators:y1}});var kV=C((P5e,DV)=>{"use strict";var OV=_r(),P_e=s1(),NV=K7(),RV=_V(),Ap=h1(),MV=IV(),rc=MV.validators;function sl(e){this.defaults=e,this.interceptors={request:new NV,response:new NV}}sl.prototype.request=function(n){typeof n=="string"?(n=arguments[1]||{},n.url=arguments[0]):n=n||{},n=Ap(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&MV.assertOptions(r,{silentJSONParsing:rc.transitional(rc.boolean,"1.0.0"),forcedJSONParsing:rc.transitional(rc.boolean,"1.0.0"),clarifyTimeoutError:rc.transitional(rc.boolean,"1.0.0")},!1);var t=[],i=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(i=i&&m.synchronous,t.unshift(m.fulfilled,m.rejected))});var a=[];this.interceptors.response.forEach(function(m){a.push(m.fulfilled,m.rejected)});var s;if(!i){var c=[RV,void 0];for(Array.prototype.unshift.apply(c,t),c=c.concat(a),s=Promise.resolve(n);c.length;)s=s.then(c.shift(),c.shift());return s}for(var d=n;t.length;){var o=t.shift(),l=t.shift();try{d=o(d)}catch(f){l(f);break}}try{s=RV(d)}catch(f){return Promise.reject(f)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};sl.prototype.getUri=function(n){return n=Ap(this.defaults,n),P_e(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")};OV.forEach(["delete","get","head","options"],function(n){sl.prototype[n]=function(r,t){return this.request(Ap(t||{},{method:n,url:r,data:(t||{}).data}))}});OV.forEach(["post","put","patch"],function(n){sl.prototype[n]=function(r,t,i){return this.request(Ap(i||{},{method:n,url:r,data:t}))}});DV.exports=sl});var w1=C((I5e,zV)=>{"use strict";function g1(e){this.message=e}g1.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};g1.prototype.__CANCEL__=!0;zV.exports=g1});var BV=C((N5e,LV)=>{"use strict";var I_e=w1();function Tp(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(i){n=i});var r=this;e(function(i){r.reason||(r.reason=new I_e(i),n(r.reason))})}Tp.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Tp.source=function(){var n,r=new Tp(function(i){n=i});return{token:r,cancel:n}};LV.exports=Tp});var FV=C((R5e,UV)=>{"use strict";UV.exports=function(n){return function(t){return n.apply(null,t)}}});var qV=C((O5e,jV)=>{"use strict";jV.exports=function(n){return typeof n=="object"&&n.isAxiosError===!0}});var GV=C((M5e,b1)=>{"use strict";var $V=_r(),N_e=r1(),Pp=kV(),R_e=h1(),O_e=Cp();function HV(e){var n=new Pp(e),r=N_e(Pp.prototype.request,n);return $V.extend(r,Pp.prototype,n),$V.extend(r,n),r}var Ct=HV(O_e);Ct.Axios=Pp;Ct.create=function(n){return HV(R_e(Ct.defaults,n))};Ct.Cancel=w1();Ct.CancelToken=BV();Ct.isCancel=m1();Ct.all=function(n){return Promise.all(n)};Ct.spread=FV();Ct.isAxiosError=qV();b1.exports=Ct;b1.exports.default=Ct});var Ip=C((D5e,VV)=>{VV.exports=GV()});var A1=C((X5e,C1)=>{"use strict";var ic=typeof Reflect=="object"?Reflect:null,rK=ic&&typeof ic.apply=="function"?ic.apply:function(n,r,t){return Function.prototype.apply.call(n,r,t)},Lp;ic&&typeof ic.ownKeys=="function"?Lp=ic.ownKeys:Object.getOwnPropertySymbols?Lp=function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Lp=function(n){return Object.getOwnPropertyNames(n)};function q_e(e){console&&console.warn&&console.warn(e)}var aK=Number.isNaN||function(n){return n!==n};function Ce(){Ce.init.call(this)}C1.exports=Ce;C1.exports.once=V_e;Ce.EventEmitter=Ce;Ce.prototype._events=void 0;Ce.prototype._eventsCount=0;Ce.prototype._maxListeners=void 0;var tK=10;function Bp(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ce,"defaultMaxListeners",{enumerable:!0,get:function(){return tK},set:function(e){if(typeof e!="number"||e<0||aK(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");tK=e}});Ce.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ce.prototype.setMaxListeners=function(n){if(typeof n!="number"||n<0||aK(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this};function iK(e){return e._maxListeners===void 0?Ce.defaultMaxListeners:e._maxListeners}Ce.prototype.getMaxListeners=function(){return iK(this)};Ce.prototype.emit=function(n){for(var r=[],t=1;t<arguments.length;t++)r.push(arguments[t]);var i=n==="error",a=this._events;if(a!==void 0)i=i&&a.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var d=a[n];if(d===void 0)return!1;if(typeof d=="function")rK(d,this,r);else for(var o=d.length,l=lK(d,o),t=0;t<o;++t)rK(l[t],this,r);return!0};function oK(e,n,r,t){var i,a,s;if(Bp(r),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",n,r.listener?r.listener:r),a=e._events),s=a[n]),s===void 0)s=a[n]=r,++e._eventsCount;else if(typeof s=="function"?s=a[n]=t?[r,s]:[s,r]:t?s.unshift(r):s.push(r),i=iK(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=n,c.count=s.length,q_e(c)}return e}Ce.prototype.addListener=function(n,r){return oK(this,n,r,!1)};Ce.prototype.on=Ce.prototype.addListener;Ce.prototype.prependListener=function(n,r){return oK(this,n,r,!0)};function $_e(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sK(e,n,r){var t={fired:!1,wrapFn:void 0,target:e,type:n,listener:r},i=$_e.bind(t);return i.listener=r,t.wrapFn=i,i}Ce.prototype.once=function(n,r){return Bp(r),this.on(n,sK(this,n,r)),this};Ce.prototype.prependOnceListener=function(n,r){return Bp(r),this.prependListener(n,sK(this,n,r)),this};Ce.prototype.removeListener=function(n,r){var t,i,a,s,c;if(Bp(r),i=this._events,i===void 0)return this;if(t=i[n],t===void 0)return this;if(t===r||t.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[n],i.removeListener&&this.emit("removeListener",n,t.listener||r));else if(typeof t!="function"){for(a=-1,s=t.length-1;s>=0;s--)if(t[s]===r||t[s].listener===r){c=t[s].listener,a=s;break}if(a<0)return this;a===0?t.shift():H_e(t,a),t.length===1&&(i[n]=t[0]),i.removeListener!==void 0&&this.emit("removeListener",n,c||r)}return this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.removeAllListeners=function(n){var r,t,i;if(t=this._events,t===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[n]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete t[n]),this;if(arguments.length===0){var a=Object.keys(t),s;for(i=0;i<a.length;++i)s=a[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=t[n],typeof r=="function")this.removeListener(n,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(n,r[i]);return this};function cK(e,n,r){var t=e._events;if(t===void 0)return[];var i=t[n];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?G_e(i):lK(i,i.length)}Ce.prototype.listeners=function(n){return cK(this,n,!0)};Ce.prototype.rawListeners=function(n){return cK(this,n,!1)};Ce.listenerCount=function(e,n){return typeof e.listenerCount=="function"?e.listenerCount(n):dK.call(e,n)};Ce.prototype.listenerCount=dK;function dK(e){var n=this._events;if(n!==void 0){var r=n[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ce.prototype.eventNames=function(){return this._eventsCount>0?Lp(this._events):[]};function lK(e,n){for(var r=new Array(n),t=0;t<n;++t)r[t]=e[t];return r}function H_e(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}function G_e(e){for(var n=new Array(e.length),r=0;r<n.length;++r)n[r]=e[r].listener||e[r];return n}function V_e(e,n){return new Promise(function(r,t){function i(s){e.removeListener(n,a),t(s)}function a(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}uK(e,n,a,{once:!0}),n!=="error"&&K_e(e,i,{once:!0})})}function K_e(e,n,r){typeof e.on=="function"&&uK(e,"error",n,r)}function uK(e,n,r,t){if(typeof e.on=="function")t.once?e.once(n,r):e.on(n,r);else if(typeof e.addEventListener=="function")e.addEventListener(n,function i(a){t.once&&e.removeEventListener(n,i),r(a)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});var M1=C((RJe,hK)=>{"use strict";hK.exports=function(n,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return n.apply(r,i)}}});var Cr=C((OJe,wK)=>{"use strict";var rSe=M1(),go=Object.prototype.toString;function z1(e){return go.call(e)==="[object Array]"}function D1(e){return typeof e>"u"}function tSe(e){return e!==null&&!D1(e)&&e.constructor!==null&&!D1(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function aSe(e){return go.call(e)==="[object ArrayBuffer]"}function iSe(e){return typeof FormData<"u"&&e instanceof FormData}function oSe(e){var n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&e.buffer instanceof ArrayBuffer,n}function sSe(e){return typeof e=="string"}function cSe(e){return typeof e=="number"}function yK(e){return e!==null&&typeof e=="object"}function jp(e){if(go.call(e)!=="[object Object]")return!1;var n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}function dSe(e){return go.call(e)==="[object Date]"}function lSe(e){return go.call(e)==="[object File]"}function uSe(e){return go.call(e)==="[object Blob]"}function gK(e){return go.call(e)==="[object Function]"}function fSe(e){return yK(e)&&gK(e.pipe)}function mSe(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function pSe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function vSe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function L1(e,n){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),z1(e))for(var r=0,t=e.length;r<t;r++)n.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.call(null,e[i],i,e)}function k1(){var e={};function n(i,a){jp(e[a])&&jp(i)?e[a]=k1(e[a],i):jp(i)?e[a]=k1({},i):z1(i)?e[a]=i.slice():e[a]=i}for(var r=0,t=arguments.length;r<t;r++)L1(arguments[r],n);return e}function hSe(e,n,r){return L1(n,function(i,a){r&&typeof i=="function"?e[a]=rSe(i,r):e[a]=i}),e}function ySe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}wK.exports={isArray:z1,isArrayBuffer:aSe,isBuffer:tSe,isFormData:iSe,isArrayBufferView:oSe,isString:sSe,isNumber:cSe,isObject:yK,isPlainObject:jp,isUndefined:D1,isDate:dSe,isFile:lSe,isBlob:uSe,isFunction:gK,isStream:fSe,isURLSearchParams:mSe,isStandardBrowserEnv:vSe,forEach:L1,merge:k1,extend:hSe,trim:pSe,stripBOM:ySe}});var B1=C((MJe,EK)=>{"use strict";var oc=Cr();function bK(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}EK.exports=function(n,r,t){if(!r)return n;var i;if(t)i=t(r);else if(oc.isURLSearchParams(r))i=r.toString();else{var a=[];oc.forEach(r,function(d,o){d===null||typeof d>"u"||(oc.isArray(d)?o=o+"[]":d=[d],oc.forEach(d,function(f){oc.isDate(f)?f=f.toISOString():oc.isObject(f)&&(f=JSON.stringify(f)),a.push(bK(o)+"="+bK(f))}))}),i=a.join("&")}if(i){var s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}});var SK=C((DJe,_K)=>{"use strict";var gSe=Cr();function qp(){this.handlers=[]}qp.prototype.use=function(n,r,t){return this.handlers.push({fulfilled:n,rejected:r,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1};qp.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)};qp.prototype.forEach=function(n){gSe.forEach(this.handlers,function(t){t!==null&&n(t)})};_K.exports=qp});var CK=C((kJe,xK)=>{"use strict";var wSe=Cr();xK.exports=function(n,r){wSe.forEach(n,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(n[r]=i,delete n[a])})}});var U1=C((zJe,AK)=>{"use strict";AK.exports=function(n,r,t,i,a){return n.config=r,t&&(n.code=t),n.request=i,n.response=a,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},n}});var F1=C((LJe,TK)=>{"use strict";var bSe=U1();TK.exports=function(n,r,t,i,a){var s=new Error(n);return bSe(s,r,t,i,a)}});var IK=C((BJe,PK)=>{"use strict";var ESe=F1();PK.exports=function(n,r,t){var i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):r(ESe("Request failed with status code "+t.status,t.config,null,t.request,t))}});var RK=C((UJe,NK)=>{"use strict";var $p=Cr();NK.exports=$p.isStandardBrowserEnv()?function(){return{write:function(r,t,i,a,s,c){var d=[];d.push(r+"="+encodeURIComponent(t)),$p.isNumber(i)&&d.push("expires="+new Date(i).toGMTString()),$p.isString(a)&&d.push("path="+a),$p.isString(s)&&d.push("domain="+s),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){var t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var MK=C((FJe,OK)=>{"use strict";OK.exports=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)}});var kK=C((jJe,DK)=>{"use strict";DK.exports=function(n,r){return r?n.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):n}});var LK=C((qJe,zK)=>{"use strict";var _Se=MK(),SSe=kK();zK.exports=function(n,r){return n&&!_Se(r)?SSe(n,r):r}});var UK=C(($Je,BK)=>{"use strict";var j1=Cr(),xSe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];BK.exports=function(n){var r={},t,i,a;return n&&j1.forEach(n.split(`
`),function(c){if(a=c.indexOf(":"),t=j1.trim(c.substr(0,a)).toLowerCase(),i=j1.trim(c.substr(a+1)),t){if(r[t]&&xSe.indexOf(t)>=0)return;t==="set-cookie"?r[t]=(r[t]?r[t]:[]).concat([i]):r[t]=r[t]?r[t]+", "+i:i}}),r}});var qK=C((HJe,jK)=>{"use strict";var FK=Cr();jK.exports=FK.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),t;function i(a){var s=a;return n&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(s){var c=FK.isString(s)?i(s):s;return c.protocol===t.protocol&&c.host===t.host}}():function(){return function(){return!0}}()});var $1=C((GJe,$K)=>{"use strict";var Hp=Cr(),CSe=IK(),ASe=RK(),TSe=B1(),PSe=LK(),ISe=UK(),NSe=qK(),q1=F1();$K.exports=function(n){return new Promise(function(t,i){var a=n.data,s=n.headers,c=n.responseType;Hp.isFormData(a)&&delete s["Content-Type"];var d=new XMLHttpRequest;if(n.auth){var o=n.auth.username||"",l=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.Authorization="Basic "+btoa(o+":"+l)}var f=PSe(n.baseURL,n.url);d.open(n.method.toUpperCase(),TSe(f,n.params,n.paramsSerializer),!0),d.timeout=n.timeout;function m(){if(d){var v="getAllResponseHeaders"in d?ISe(d.getAllResponseHeaders()):null,h=!c||c==="text"||c==="json"?d.responseText:d.response,y={data:h,status:d.status,statusText:d.statusText,headers:v,config:n,request:d};CSe(t,i,y),d=null}}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(i(q1("Request aborted",n,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(q1("Network Error",n,null,d)),d=null},d.ontimeout=function(){var h="timeout of "+n.timeout+"ms exceeded";n.timeoutErrorMessage&&(h=n.timeoutErrorMessage),i(q1(h,n,n.transitional&&n.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Hp.isStandardBrowserEnv()){var p=(n.withCredentials||NSe(f))&&n.xsrfCookieName?ASe.read(n.xsrfCookieName):void 0;p&&(s[n.xsrfHeaderName]=p)}"setRequestHeader"in d&&Hp.forEach(s,function(h,y){typeof a>"u"&&y.toLowerCase()==="content-type"?delete s[y]:d.setRequestHeader(y,h)}),Hp.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),c&&c!=="json"&&(d.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&d.addEventListener("progress",n.onDownloadProgress),typeof n.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",n.onUploadProgress),n.cancelToken&&n.cancelToken.promise.then(function(h){d&&(d.abort(),i(h),d=null)}),a||(a=null),d.send(a)})}});var Vp=C((VJe,VK)=>{"use strict";var Pn=Cr(),HK=CK(),RSe=U1(),OSe={"Content-Type":"application/x-www-form-urlencoded"};function GK(e,n){!Pn.isUndefined(e)&&Pn.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}function MSe(){var e;return typeof XMLHttpRequest<"u"?e=$1():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(e=$1()),e}function DSe(e,n,r){if(Pn.isString(e))try{return(n||JSON.parse)(e),Pn.trim(e)}catch(t){if(t.name!=="SyntaxError")throw t}return(r||JSON.stringify)(e)}var Gp={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:MSe(),transformRequest:[function(n,r){return HK(r,"Accept"),HK(r,"Content-Type"),Pn.isFormData(n)||Pn.isArrayBuffer(n)||Pn.isBuffer(n)||Pn.isStream(n)||Pn.isFile(n)||Pn.isBlob(n)?n:Pn.isArrayBufferView(n)?n.buffer:Pn.isURLSearchParams(n)?(GK(r,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):Pn.isObject(n)||r&&r["Content-Type"]==="application/json"?(GK(r,"application/json"),DSe(n)):n}],transformResponse:[function(n){var r=this.transitional,t=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,a=!t&&this.responseType==="json";if(a||i&&Pn.isString(n)&&n.length)try{return JSON.parse(n)}catch(s){if(a)throw s.name==="SyntaxError"?RSe(s,this,"E_JSON_PARSE"):s}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(n){return n>=200&&n<300}};Gp.headers={common:{Accept:"application/json, text/plain, */*"}};Pn.forEach(["delete","get","head"],function(n){Gp.headers[n]={}});Pn.forEach(["post","put","patch"],function(n){Gp.headers[n]=Pn.merge(OSe)});VK.exports=Gp});var JK=C((KJe,KK)=>{"use strict";var kSe=Cr(),zSe=Vp();KK.exports=function(n,r,t){var i=this||zSe;return kSe.forEach(t,function(s){n=s.call(i,n,r)}),n}});var H1=C((JJe,WK)=>{"use strict";WK.exports=function(n){return!!(n&&n.__CANCEL__)}});var QK=C((WJe,YK)=>{"use strict";var XK=Cr(),G1=JK(),LSe=H1(),BSe=Vp();function V1(e){e.cancelToken&&e.cancelToken.throwIfRequested()}YK.exports=function(n){V1(n),n.headers=n.headers||{},n.data=G1.call(n,n.data,n.headers,n.transformRequest),n.headers=XK.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),XK.forEach(["delete","get","head","post","put","patch","common"],function(i){delete n.headers[i]});var r=n.adapter||BSe.adapter;return r(n).then(function(i){return V1(n),i.data=G1.call(n,i.data,i.headers,n.transformResponse),i},function(i){return LSe(i)||(V1(n),i&&i.response&&(i.response.data=G1.call(n,i.response.data,i.response.headers,n.transformResponse))),Promise.reject(i)})}});var K1=C((XJe,ZK)=>{"use strict";var ar=Cr();ZK.exports=function(n,r){r=r||{};var t={},i=["url","method","data"],a=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function d(m,p){return ar.isPlainObject(m)&&ar.isPlainObject(p)?ar.merge(m,p):ar.isPlainObject(p)?ar.merge({},p):ar.isArray(p)?p.slice():p}function o(m){ar.isUndefined(r[m])?ar.isUndefined(n[m])||(t[m]=d(void 0,n[m])):t[m]=d(n[m],r[m])}ar.forEach(i,function(p){ar.isUndefined(r[p])||(t[p]=d(void 0,r[p]))}),ar.forEach(a,o),ar.forEach(s,function(p){ar.isUndefined(r[p])?ar.isUndefined(n[p])||(t[p]=d(void 0,n[p])):t[p]=d(void 0,r[p])}),ar.forEach(c,function(p){p in r?t[p]=d(n[p],r[p]):p in n&&(t[p]=d(void 0,n[p]))});var l=i.concat(a).concat(s).concat(c),f=Object.keys(n).concat(Object.keys(r)).filter(function(p){return l.indexOf(p)===-1});return ar.forEach(f,o),t}});var e5=C((YJe,USe)=>{USe.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}});var i5=C((QJe,a5)=>{"use strict";var r5=e5(),J1={};["object","boolean","number","function","string","symbol"].forEach(function(e,n){J1[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});var n5={},FSe=r5.version.split(".");function t5(e,n){for(var r=n?n.split("."):FSe,t=e.split("."),i=0;i<3;i++){if(r[i]>t[i])return!0;if(r[i]<t[i])return!1}return!1}J1.transitional=function(n,r,t){var i=r&&t5(r);function a(s,c){return"[Axios v"+r5.version+"] Transitional option '"+s+"'"+c+(t?". "+t:"")}return function(s,c,d){if(n===!1)throw new Error(a(c," has been removed in "+r));return i&&!n5[c]&&(n5[c]=!0,console.warn(a(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(s,c,d):!0}};function jSe(e,n,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var t=Object.keys(e),i=t.length;i-- >0;){var a=t[i],s=n[a];if(s){var c=e[a],d=c===void 0||s(c,a,e);if(d!==!0)throw new TypeError("option "+a+" must be "+d);continue}if(r!==!0)throw Error("Unknown option "+a)}}a5.exports={isOlderVersion:t5,assertOptions:jSe,validators:J1}});var u5=C((ZJe,l5)=>{"use strict";var c5=Cr(),qSe=B1(),o5=SK(),s5=QK(),Kp=K1(),d5=i5(),sc=d5.validators;function ml(e){this.defaults=e,this.interceptors={request:new o5,response:new o5}}ml.prototype.request=function(n){typeof n=="string"?(n=arguments[1]||{},n.url=arguments[0]):n=n||{},n=Kp(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&d5.assertOptions(r,{silentJSONParsing:sc.transitional(sc.boolean,"1.0.0"),forcedJSONParsing:sc.transitional(sc.boolean,"1.0.0"),clarifyTimeoutError:sc.transitional(sc.boolean,"1.0.0")},!1);var t=[],i=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(i=i&&m.synchronous,t.unshift(m.fulfilled,m.rejected))});var a=[];this.interceptors.response.forEach(function(m){a.push(m.fulfilled,m.rejected)});var s;if(!i){var c=[s5,void 0];for(Array.prototype.unshift.apply(c,t),c=c.concat(a),s=Promise.resolve(n);c.length;)s=s.then(c.shift(),c.shift());return s}for(var d=n;t.length;){var o=t.shift(),l=t.shift();try{d=o(d)}catch(f){l(f);break}}try{s=s5(d)}catch(f){return Promise.reject(f)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};ml.prototype.getUri=function(n){return n=Kp(this.defaults,n),qSe(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")};c5.forEach(["delete","get","head","options"],function(n){ml.prototype[n]=function(r,t){return this.request(Kp(t||{},{method:n,url:r,data:(t||{}).data}))}});c5.forEach(["post","put","patch"],function(n){ml.prototype[n]=function(r,t,i){return this.request(Kp(i||{},{method:n,url:r,data:t}))}});l5.exports=ml});var X1=C((eWe,f5)=>{"use strict";function W1(e){this.message=e}W1.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};W1.prototype.__CANCEL__=!0;f5.exports=W1});var p5=C((nWe,m5)=>{"use strict";var $Se=X1();function Jp(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(i){n=i});var r=this;e(function(i){r.reason||(r.reason=new $Se(i),n(r.reason))})}Jp.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Jp.source=function(){var n,r=new Jp(function(i){n=i});return{token:r,cancel:n}};m5.exports=Jp});var h5=C((rWe,v5)=>{"use strict";v5.exports=function(n){return function(t){return n.apply(null,t)}}});var g5=C((tWe,y5)=>{"use strict";y5.exports=function(n){return typeof n=="object"&&n.isAxiosError===!0}});var E5=C((aWe,Y1)=>{"use strict";var w5=Cr(),HSe=M1(),Wp=u5(),GSe=K1(),VSe=Vp();function b5(e){var n=new Wp(e),r=HSe(Wp.prototype.request,n);return w5.extend(r,Wp.prototype,n),w5.extend(r,n),r}var At=b5(VSe);At.Axios=Wp;At.create=function(n){return b5(GSe(At.defaults,n))};At.Cancel=X1();At.CancelToken=p5();At.isCancel=H1();At.all=function(n){return Promise.all(n)};At.spread=h5();At.isAxiosError=g5();Y1.exports=At;Y1.exports.default=At});var S5=C((iWe,_5)=>{_5.exports=E5()});var $5=C((Sl,lE)=>{(function(n,r){typeof Sl=="object"&&typeof lE=="object"?lE.exports=r():typeof define=="function"&&define.amd?define(r):typeof Sl=="object"?Sl=r():n.Paho=r()})(Sl,function(){var n=function(r){var t="@VERSION@-@BUILDLEVEL@",i=r.localStorage||function(){var _={};return{setItem:function(x,T){_[x]=T},getItem:function(x){return _[x]},removeItem:function(x){delete _[x]}}}(),a={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},s=function(_,x){for(var T in _)if(_.hasOwnProperty(T))if(x.hasOwnProperty(T)){if(typeof _[T]!==x[T])throw new Error(l(d.INVALID_TYPE,[typeof _[T],T]))}else{var M="Unknown property, "+T+". Valid properties are:";for(var D in x)x.hasOwnProperty(D)&&(M=M+" "+D);throw new Error(M)}},c=function(_,x){return function(){return _.apply(x,arguments)}},d={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},o={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},l=function(_,x){var T=_.text;if(x){for(var M,D,B=0;B<x.length;B++)if(M="{"+B+"}",D=T.indexOf(M),D>0){var j=T.substring(0,D),F=T.substring(D+M.length);T=j+x[B]+F}}return T},f=[0,6,77,81,73,115,100,112,3],m=[0,4,77,81,84,84,4],p=function(_,x){this.type=_;for(var T in x)x.hasOwnProperty(T)&&(this[T]=x[T])};p.prototype.encode=function(){var _=(this.type&15)<<4,x=0,T=[],M=0,D;switch(this.messageIdentifier!==void 0&&(x+=2),this.type){case a.CONNECT:switch(this.mqttVersion){case 3:x+=f.length+3;break;case 4:x+=m.length+3;break}x+=b(this.clientId)+2,this.willMessage!==void 0&&(x+=b(this.willMessage.destinationName)+2,D=this.willMessage.payloadBytes,D instanceof Uint8Array||(D=new Uint8Array(j)),x+=D.byteLength+2),this.userName!==void 0&&(x+=b(this.userName)+2),this.password!==void 0&&(x+=b(this.password)+2);break;case a.SUBSCRIBE:_|=2;for(var B=0;B<this.topics.length;B++)T[B]=b(this.topics[B]),x+=T[B]+2;x+=this.requestedQos.length;break;case a.UNSUBSCRIBE:_|=2;for(var B=0;B<this.topics.length;B++)T[B]=b(this.topics[B]),x+=T[B]+2;break;case a.PUBREL:_|=2;break;case a.PUBLISH:this.payloadMessage.duplicate&&(_|=8),_=_|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(_|=1),M=b(this.payloadMessage.destinationName),x+=M+2;var j=this.payloadMessage.payloadBytes;x+=j.byteLength,j instanceof ArrayBuffer?j=new Uint8Array(j):j instanceof Uint8Array||(j=new Uint8Array(j.buffer));break;case a.DISCONNECT:break;default:break}var F=w(x),U=F.length+1,z=new ArrayBuffer(x+U),H=new Uint8Array(z);if(H[0]=_,H.set(F,1),this.type==a.PUBLISH)U=y(this.payloadMessage.destinationName,M,H,U);else if(this.type==a.CONNECT){switch(this.mqttVersion){case 3:H.set(f,U),U+=f.length;break;case 4:H.set(m,U),U+=m.length;break}var L=0;this.cleanSession&&(L=2),this.willMessage!==void 0&&(L|=4,L|=this.willMessage.qos<<3,this.willMessage.retained&&(L|=32)),this.userName!==void 0&&(L|=128),this.password!==void 0&&(L|=64),H[U++]=L,U=h(this.keepAliveInterval,H,U)}switch(this.messageIdentifier!==void 0&&(U=h(this.messageIdentifier,H,U)),this.type){case a.CONNECT:U=y(this.clientId,b(this.clientId),H,U),this.willMessage!==void 0&&(U=y(this.willMessage.destinationName,b(this.willMessage.destinationName),H,U),U=h(D.byteLength,H,U),H.set(D,U),U+=D.byteLength),this.userName!==void 0&&(U=y(this.userName,b(this.userName),H,U)),this.password!==void 0&&(U=y(this.password,b(this.password),H,U));break;case a.PUBLISH:H.set(j,U);break;case a.SUBSCRIBE:for(var B=0;B<this.topics.length;B++)U=y(this.topics[B],T[B],H,U),H[U++]=this.requestedQos[B];break;case a.UNSUBSCRIBE:for(var B=0;B<this.topics.length;B++)U=y(this.topics[B],T[B],H,U);break;default:}return z};function v(_,x){var T=x,M=_[x],D=M>>4,B=M&=15;x+=1;var j,F=0,U=1;do{if(x==_.length)return[null,T];j=_[x++],F+=(j&127)*U,U*=128}while(j&128);var z=x+F;if(z>_.length)return[null,T];var H=new p(D);switch(D){case a.CONNACK:var L=_[x++];L&1&&(H.sessionPresent=!0),H.returnCode=_[x++];break;case a.PUBLISH:var Q=B>>1&3,Y=g(_,x);x+=2;var le=S(_,x,Y);x+=Y,Q>0&&(H.messageIdentifier=g(_,x),x+=2);var re=new k(_.subarray(x,z));(B&1)==1&&(re.retained=!0),(B&8)==8&&(re.duplicate=!0),re.qos=Q,re.destinationName=le,H.payloadMessage=re;break;case a.PUBACK:case a.PUBREC:case a.PUBREL:case a.PUBCOMP:case a.UNSUBACK:H.messageIdentifier=g(_,x);break;case a.SUBACK:H.messageIdentifier=g(_,x),x+=2,H.returnCode=_.subarray(x,z);break;default:break}return[H,z]}function h(_,x,T){return x[T++]=_>>8,x[T++]=_%256,T}function y(_,x,T,M){return M=h(x,T,M),E(_,T,M),M+x}function g(_,x){return 256*_[x]+_[x+1]}function w(_){var x=new Array(1),T=0;do{var M=_%128;_=_>>7,_>0&&(M|=128),x[T++]=M}while(_>0&&T<4);return x}function b(_){for(var x=0,T=0;T<_.length;T++){var M=_.charCodeAt(T);M>2047?(55296<=M&&M<=56319&&(T++,x++),x+=3):M>127?x+=2:x++}return x}function E(_,x,T){for(var M=T,D=0;D<_.length;D++){var B=_.charCodeAt(D);if(55296<=B&&B<=56319){var j=_.charCodeAt(++D);if(isNaN(j))throw new Error(l(d.MALFORMED_UNICODE,[B,j]));B=(B-55296<<10)+(j-56320)+65536}B<=127?x[M++]=B:B<=2047?(x[M++]=B>>6&31|192,x[M++]=B&63|128):B<=65535?(x[M++]=B>>12&15|224,x[M++]=B>>6&63|128,x[M++]=B&63|128):(x[M++]=B>>18&7|240,x[M++]=B>>12&63|128,x[M++]=B>>6&63|128,x[M++]=B&63|128)}return x}function S(_,x,T){for(var M="",D,B=x;B<x+T;){var j=_[B++];if(j<128)D=j;else{var F=_[B++]-128;if(F<0)throw new Error(l(d.MALFORMED_UTF,[j.toString(16),F.toString(16),""]));if(j<224)D=64*(j-192)+F;else{var U=_[B++]-128;if(U<0)throw new Error(l(d.MALFORMED_UTF,[j.toString(16),F.toString(16),U.toString(16)]));if(j<240)D=4096*(j-224)+64*F+U;else{var z=_[B++]-128;if(z<0)throw new Error(l(d.MALFORMED_UTF,[j.toString(16),F.toString(16),U.toString(16),z.toString(16)]));if(j<248)D=262144*(j-240)+4096*F+64*U+z;else throw new Error(l(d.MALFORMED_UTF,[j.toString(16),F.toString(16),U.toString(16),z.toString(16)]))}}}D>65535&&(D-=65536,M+=String.fromCharCode(55296+(D>>10)),D=56320+(D&1023)),M+=String.fromCharCode(D)}return M}var A=function(_,x){this._client=_,this._keepAliveInterval=x*1e3,this.isReset=!1;var T=new p(a.PINGREQ).encode(),M=function(B){return function(){return D.apply(B)}},D=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(T),this.timeout=setTimeout(M(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(d.PING_TIMEOUT.code,l(d.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(M(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},I=function(_,x,T,M){x||(x=30);var D=function(B,j,F){return function(){return B.apply(j,F)}};this.timeout=setTimeout(D(T,_,M),x*1e3),this.cancel=function(){clearTimeout(this.timeout)}},P=function(_,x,T,M,D){if(!("WebSocket"in r&&r.WebSocket!==null))throw new Error(l(d.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in r&&r.ArrayBuffer!==null))throw new Error(l(d.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.Client",_,x,T,M,D),this.host=x,this.port=T,this.path=M,this.uri=_,this.clientId=D,this._wsuri=null,this._localKey=x+":"+T+(M!="/mqtt"?":"+M:"")+":"+D+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0;for(var B in i)(B.indexOf("Sent:"+this._localKey)===0||B.indexOf("Received:"+this._localKey)===0)&&this.restore(B)};P.prototype.host=null,P.prototype.port=null,P.prototype.path=null,P.prototype.uri=null,P.prototype.clientId=null,P.prototype.socket=null,P.prototype.connected=!1,P.prototype.maxMessageIdentifier=65536,P.prototype.connectOptions=null,P.prototype.hostIndex=null,P.prototype.onConnected=null,P.prototype.onConnectionLost=null,P.prototype.onMessageDelivered=null,P.prototype.onMessageArrived=null,P.prototype.traceFunction=null,P.prototype._msg_queue=null,P.prototype._buffered_msg_queue=null,P.prototype._connectTimeout=null,P.prototype.sendPinger=null,P.prototype.receivePinger=null,P.prototype._reconnectInterval=1,P.prototype._reconnecting=!1,P.prototype._reconnectTimeout=null,P.prototype.disconnectedPublishing=!1,P.prototype.disconnectedBufferSize=5e3,P.prototype.receiveBuffer=null,P.prototype._traceBuffer=null,P.prototype._MAX_TRACE_ENTRIES=100,P.prototype.connect=function(_){var x=this._traceMask(_,"password");if(this._trace("Client.connect",x,this.socket,this.connected),this.connected)throw new Error(l(d.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(l(d.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=_,this._reconnectInterval=1,this._reconnecting=!1,_.uris?(this.hostIndex=0,this._doConnect(_.uris[0])):this._doConnect(this.uri)},P.prototype.subscribe=function(_,x){if(this._trace("Client.subscribe",_,x),!this.connected)throw new Error(l(d.INVALID_STATE,["not connected"]));var T=new p(a.SUBSCRIBE);T.topics=_.constructor===Array?_:[_],x.qos===void 0&&(x.qos=0),T.requestedQos=[];for(var M=0;M<T.topics.length;M++)T.requestedQos[M]=x.qos;x.onSuccess&&(T.onSuccess=function(D){x.onSuccess({invocationContext:x.invocationContext,grantedQos:D})}),x.onFailure&&(T.onFailure=function(D){x.onFailure({invocationContext:x.invocationContext,errorCode:D,errorMessage:l(D)})}),x.timeout&&(T.timeOut=new I(this,x.timeout,x.onFailure,[{invocationContext:x.invocationContext,errorCode:d.SUBSCRIBE_TIMEOUT.code,errorMessage:l(d.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(T),this._schedule_message(T)},P.prototype.unsubscribe=function(_,x){if(this._trace("Client.unsubscribe",_,x),!this.connected)throw new Error(l(d.INVALID_STATE,["not connected"]));var T=new p(a.UNSUBSCRIBE);T.topics=_.constructor===Array?_:[_],x.onSuccess&&(T.callback=function(){x.onSuccess({invocationContext:x.invocationContext})}),x.timeout&&(T.timeOut=new I(this,x.timeout,x.onFailure,[{invocationContext:x.invocationContext,errorCode:d.UNSUBSCRIBE_TIMEOUT.code,errorMessage:l(d.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(T),this._schedule_message(T)},P.prototype.send=function(_){this._trace("Client.send",_);var x=new p(a.PUBLISH);if(x.payloadMessage=_,this.connected)_.qos>0?this._requires_ack(x):this.onMessageDelivered&&(this._notify_msg_sent[x]=this.onMessageDelivered(x.payloadMessage)),this._schedule_message(x);else if(this._reconnecting&&this.disconnectedPublishing){var T=Object.keys(this._sentMessages).length+this._buffered_msg_queue.length;if(T>this.disconnectedBufferSize)throw new Error(l(d.BUFFER_FULL,[this.disconnectedBufferSize]));_.qos>0?this._requires_ack(x):(x.sequence=++this._sequence,this._buffered_msg_queue.unshift(x))}else throw new Error(l(d.INVALID_STATE,["not connected"]))},P.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(l(d.INVALID_STATE,["not connecting or connected"]));var _=new p(a.DISCONNECT);this._notify_msg_sent[_]=c(this._disconnected,this),this._schedule_message(_)},P.prototype.getTraceLog=function(){if(this._traceBuffer!==null){this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var _ in this._sentMessages)this._trace("_sentMessages ",_,this._sentMessages[_]);for(var _ in this._receivedMessages)this._trace("_receivedMessages ",_,this._receivedMessages[_]);return this._traceBuffer}},P.prototype.startTrace=function(){this._traceBuffer===null&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,t)},P.prototype.stopTrace=function(){delete this._traceBuffer},P.prototype._doConnect=function(_){if(this.connectOptions.useSSL){var x=_.split(":");x[0]="wss",_=x.join(":")}this._wsuri=_,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(_,["mqttv3.1"]):this.socket=new WebSocket(_,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=c(this._on_socket_open,this),this.socket.onmessage=c(this._on_socket_message,this),this.socket.onerror=c(this._on_socket_error,this),this.socket.onclose=c(this._on_socket_close,this),this.sendPinger=new A(this,this.connectOptions.keepAliveInterval),this.receivePinger=new A(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new I(this,this.connectOptions.timeout,this._disconnected,[d.CONNECT_TIMEOUT.code,l(d.CONNECT_TIMEOUT)])},P.prototype._schedule_message=function(_){this._msg_queue.unshift(_),this.connected&&this._process_queue()},P.prototype.store=function(_,x){var T={type:x.type,messageIdentifier:x.messageIdentifier,version:1};switch(x.type){case a.PUBLISH:x.pubRecReceived&&(T.pubRecReceived=!0),T.payloadMessage={};for(var M="",D=x.payloadMessage.payloadBytes,B=0;B<D.length;B++)D[B]<=15?M=M+"0"+D[B].toString(16):M=M+D[B].toString(16);T.payloadMessage.payloadHex=M,T.payloadMessage.qos=x.payloadMessage.qos,T.payloadMessage.destinationName=x.payloadMessage.destinationName,x.payloadMessage.duplicate&&(T.payloadMessage.duplicate=!0),x.payloadMessage.retained&&(T.payloadMessage.retained=!0),_.indexOf("Sent:")===0&&(x.sequence===void 0&&(x.sequence=++this._sequence),T.sequence=x.sequence);break;default:throw Error(l(d.INVALID_STORED_DATA,[_+this._localKey+x.messageIdentifier,T]))}i.setItem(_+this._localKey+x.messageIdentifier,JSON.stringify(T))},P.prototype.restore=function(_){var x=i.getItem(_),T=JSON.parse(x),M=new p(T.type,T);switch(T.type){case a.PUBLISH:for(var D=T.payloadMessage.payloadHex,B=new ArrayBuffer(D.length/2),j=new Uint8Array(B),F=0;D.length>=2;){var U=parseInt(D.substring(0,2),16);D=D.substring(2,D.length),j[F++]=U}var z=new k(j);z.qos=T.payloadMessage.qos,z.destinationName=T.payloadMessage.destinationName,T.payloadMessage.duplicate&&(z.duplicate=!0),T.payloadMessage.retained&&(z.retained=!0),M.payloadMessage=z;break;default:throw Error(l(d.INVALID_STORED_DATA,[_,x]))}_.indexOf("Sent:"+this._localKey)===0?(M.payloadMessage.duplicate=!0,this._sentMessages[M.messageIdentifier]=M):_.indexOf("Received:"+this._localKey)===0&&(this._receivedMessages[M.messageIdentifier]=M)},P.prototype._process_queue=function(){for(var _=null;_=this._msg_queue.pop();)this._socket_send(_),this._notify_msg_sent[_]&&(this._notify_msg_sent[_](),delete this._notify_msg_sent[_])},P.prototype._requires_ack=function(_){var x=Object.keys(this._sentMessages).length;if(x>this.maxMessageIdentifier)throw Error("Too many messages:"+x);for(;this._sentMessages[this._message_identifier]!==void 0;)this._message_identifier++;_.messageIdentifier=this._message_identifier,this._sentMessages[_.messageIdentifier]=_,_.type===a.PUBLISH&&this.store("Sent:",_),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},P.prototype._on_socket_open=function(){var _=new p(a.CONNECT,this.connectOptions);_.clientId=this.clientId,this._socket_send(_)},P.prototype._on_socket_message=function(_){this._trace("Client._on_socket_message",_.data);for(var x=this._deframeMessages(_.data),T=0;T<x.length;T+=1)this._handleMessage(x[T])},P.prototype._deframeMessages=function(_){var x=new Uint8Array(_),T=[];if(this.receiveBuffer){var M=new Uint8Array(this.receiveBuffer.length+x.length);M.set(this.receiveBuffer),M.set(x,this.receiveBuffer.length),x=M,delete this.receiveBuffer}try{for(var D=0;D<x.length;){var B=v(x,D),j=B[0];if(D=B[1],j!==null)T.push(j);else break}D<x.length&&(this.receiveBuffer=x.subarray(D))}catch(U){var F=U.hasOwnProperty("stack")=="undefined"?U.stack.toString():"No Error Stack Available";this._disconnected(d.INTERNAL_ERROR.code,l(d.INTERNAL_ERROR,[U.message,F]));return}return T},P.prototype._handleMessage=function(_){this._trace("Client._handleMessage",_);try{switch(_.type){case a.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var x in this._sentMessages){var L=this._sentMessages[x];i.removeItem("Sent:"+this._localKey+L.messageIdentifier)}this._sentMessages={};for(var x in this._receivedMessages){var z=this._receivedMessages[x];i.removeItem("Received:"+this._localKey+z.messageIdentifier)}this._receivedMessages={}}if(_.returnCode===0)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(d.CONNACK_RETURNCODE.code,l(d.CONNACK_RETURNCODE,[_.returnCode,o[_.returnCode]]));break}var D=[];for(var T in this._sentMessages)this._sentMessages.hasOwnProperty(T)&&D.push(this._sentMessages[T]);if(this._buffered_msg_queue.length>0)for(var M=null;M=this._buffered_msg_queue.pop();)D.push(M),this.onMessageDelivered&&(this._notify_msg_sent[M]=this.onMessageDelivered(M.payloadMessage));for(var D=D.sort(function(Y,le){return Y.sequence-le.sequence}),B=0,j=D.length;B<j;B++){var L=D[B];if(L.type==a.PUBLISH&&L.pubRecReceived){var F=new p(a.PUBREL,{messageIdentifier:L.messageIdentifier});this._schedule_message(F)}else this._schedule_message(L)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var U=!1;this._reconnecting&&(U=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(U,this._wsuri),this._process_queue();break;case a.PUBLISH:this._receivePublish(_);break;case a.PUBACK:var L=this._sentMessages[_.messageIdentifier];L&&(delete this._sentMessages[_.messageIdentifier],i.removeItem("Sent:"+this._localKey+_.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(L.payloadMessage));break;case a.PUBREC:var L=this._sentMessages[_.messageIdentifier];if(L){L.pubRecReceived=!0;var F=new p(a.PUBREL,{messageIdentifier:_.messageIdentifier});this.store("Sent:",L),this._schedule_message(F)}break;case a.PUBREL:var z=this._receivedMessages[_.messageIdentifier];i.removeItem("Received:"+this._localKey+_.messageIdentifier),z&&(this._receiveMessage(z),delete this._receivedMessages[_.messageIdentifier]);var H=new p(a.PUBCOMP,{messageIdentifier:_.messageIdentifier});this._schedule_message(H);break;case a.PUBCOMP:var L=this._sentMessages[_.messageIdentifier];delete this._sentMessages[_.messageIdentifier],i.removeItem("Sent:"+this._localKey+_.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(L.payloadMessage);break;case a.SUBACK:var L=this._sentMessages[_.messageIdentifier];L&&(L.timeOut&&L.timeOut.cancel(),_.returnCode[0]===128?L.onFailure&&L.onFailure(_.returnCode):L.onSuccess&&L.onSuccess(_.returnCode),delete this._sentMessages[_.messageIdentifier]);break;case a.UNSUBACK:var L=this._sentMessages[_.messageIdentifier];L&&(L.timeOut&&L.timeOut.cancel(),L.callback&&L.callback(),delete this._sentMessages[_.messageIdentifier]);break;case a.PINGRESP:this.sendPinger.reset();break;case a.DISCONNECT:this._disconnected(d.INVALID_MQTT_MESSAGE_TYPE.code,l(d.INVALID_MQTT_MESSAGE_TYPE,[_.type]));break;default:this._disconnected(d.INVALID_MQTT_MESSAGE_TYPE.code,l(d.INVALID_MQTT_MESSAGE_TYPE,[_.type]))}}catch(Y){var Q=Y.hasOwnProperty("stack")=="undefined"?Y.stack.toString():"No Error Stack Available";this._disconnected(d.INTERNAL_ERROR.code,l(d.INTERNAL_ERROR,[Y.message,Q]));return}},P.prototype._on_socket_error=function(_){this._reconnecting||this._disconnected(d.SOCKET_ERROR.code,l(d.SOCKET_ERROR,[_.data]))},P.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(d.SOCKET_CLOSE.code,l(d.SOCKET_CLOSE))},P.prototype._socket_send=function(_){if(_.type==1){var x=this._traceMask(_,"password");this._trace("Client._socket_send",x)}else this._trace("Client._socket_send",_);this.socket.send(_.encode()),this.sendPinger.reset()},P.prototype._receivePublish=function(_){switch(_.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(_);break;case 1:var x=new p(a.PUBACK,{messageIdentifier:_.messageIdentifier});this._schedule_message(x),this._receiveMessage(_);break;case 2:this._receivedMessages[_.messageIdentifier]=_,this.store("Received:",_);var T=new p(a.PUBREC,{messageIdentifier:_.messageIdentifier});this._schedule_message(T);break;default:throw Error("Invaild qos="+_.payloadMessage.qos)}},P.prototype._receiveMessage=function(_){this.onMessageArrived&&this.onMessageArrived(_.payloadMessage)},P.prototype._connected=function(_,x){this.onConnected&&this.onConnected(_,x)},P.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=this._reconnectInterval*2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},P.prototype._disconnected=function(_,x){if(this._trace("Client._disconnected",_,x),_!==void 0&&this._reconnecting){this._reconnectTimeout=new I(this,this._reconnectInterval,this._reconnect);return}if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.readyState===1&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(_===void 0&&(_=d.OK.code,x=l(d.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:_,errorMessage:x,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),_!==d.OK.code&&this.connectOptions.reconnect){this._reconnectInterval=1,this._reconnect();return}}else this.connectOptions.mqttVersion===4&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:_,errorMessage:x})},P.prototype._trace=function(){if(this.traceFunction){var _=Array.prototype.slice.call(arguments);for(var x in _)typeof _[x]<"u"&&_.splice(x,1,JSON.stringify(_[x]));var T=_.join("");this.traceFunction({severity:"Debug",message:T})}if(this._traceBuffer!==null)for(var x=0,M=arguments.length;x<M;x++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),x===0?this._traceBuffer.push(arguments[x]):typeof arguments[x]>"u"?this._traceBuffer.push(arguments[x]):this._traceBuffer.push("  "+JSON.stringify(arguments[x]))},P.prototype._traceMask=function(_,x){var T={};for(var M in _)_.hasOwnProperty(M)&&(M==x?T[M]="******":T[M]=_[M]);return T};var O=function(_,x,T,M){var D;if(typeof _!="string")throw new Error(l(d.INVALID_TYPE,[typeof _,"host"]));if(arguments.length==2){M=x,D=_;var B=D.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(B)_=B[4]||B[2],x=parseInt(B[7]),T=B[8];else throw new Error(l(d.INVALID_ARGUMENT,[_,"host"]))}else{if(arguments.length==3&&(M=T,T="/mqtt"),typeof x!="number"||x<0)throw new Error(l(d.INVALID_TYPE,[typeof x,"port"]));if(typeof T!="string")throw new Error(l(d.INVALID_TYPE,[typeof T,"path"]));var j=_.indexOf(":")!==-1&&_.slice(0,1)!=="["&&_.slice(-1)!=="]";D="ws://"+(j?"["+_+"]":_)+":"+x+T}for(var F=0,U=0;U<M.length;U++){var z=M.charCodeAt(U);55296<=z&&z<=56319&&U++,F++}if(typeof M!="string"||F>65535)throw new Error(l(d.INVALID_ARGUMENT,[M,"clientId"]));var H=new P(D,_,x,T,M);Object.defineProperties(this,{host:{get:function(){return _},set:function(){throw new Error(l(d.UNSUPPORTED_OPERATION))}},port:{get:function(){return x},set:function(){throw new Error(l(d.UNSUPPORTED_OPERATION))}},path:{get:function(){return T},set:function(){throw new Error(l(d.UNSUPPORTED_OPERATION))}},uri:{get:function(){return D},set:function(){throw new Error(l(d.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return H.clientId},set:function(){throw new Error(l(d.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return H.onConnected},set:function(L){if(typeof L=="function")H.onConnected=L;else throw new Error(l(d.INVALID_TYPE,[typeof L,"onConnected"]))}},disconnectedPublishing:{get:function(){return H.disconnectedPublishing},set:function(L){H.disconnectedPublishing=L}},disconnectedBufferSize:{get:function(){return H.disconnectedBufferSize},set:function(L){H.disconnectedBufferSize=L}},onConnectionLost:{get:function(){return H.onConnectionLost},set:function(L){if(typeof L=="function")H.onConnectionLost=L;else throw new Error(l(d.INVALID_TYPE,[typeof L,"onConnectionLost"]))}},onMessageDelivered:{get:function(){return H.onMessageDelivered},set:function(L){if(typeof L=="function")H.onMessageDelivered=L;else throw new Error(l(d.INVALID_TYPE,[typeof L,"onMessageDelivered"]))}},onMessageArrived:{get:function(){return H.onMessageArrived},set:function(L){if(typeof L=="function")H.onMessageArrived=L;else throw new Error(l(d.INVALID_TYPE,[typeof L,"onMessageArrived"]))}},trace:{get:function(){return H.traceFunction},set:function(L){if(typeof L=="function")H.traceFunction=L;else throw new Error(l(d.INVALID_TYPE,[typeof L,"onTrace"]))}}}),this.connect=function(L){if(L=L||{},s(L,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),L.keepAliveInterval===void 0&&(L.keepAliveInterval=60),L.mqttVersion>4||L.mqttVersion<3)throw new Error(l(d.INVALID_ARGUMENT,[L.mqttVersion,"connectOptions.mqttVersion"]));if(L.mqttVersion===void 0?(L.mqttVersionExplicit=!1,L.mqttVersion=4):L.mqttVersionExplicit=!0,L.password!==void 0&&L.userName===void 0)throw new Error(l(d.INVALID_ARGUMENT,[L.password,"connectOptions.password"]));if(L.willMessage){if(!(L.willMessage instanceof k))throw new Error(l(d.INVALID_TYPE,[L.willMessage,"connectOptions.willMessage"]));if(L.willMessage.stringPayload=null,typeof L.willMessage.destinationName>"u")throw new Error(l(d.INVALID_TYPE,[typeof L.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(typeof L.cleanSession>"u"&&(L.cleanSession=!0),L.hosts){if(!(L.hosts instanceof Array))throw new Error(l(d.INVALID_ARGUMENT,[L.hosts,"connectOptions.hosts"]));if(L.hosts.length<1)throw new Error(l(d.INVALID_ARGUMENT,[L.hosts,"connectOptions.hosts"]));for(var Q=!1,Y=0;Y<L.hosts.length;Y++){if(typeof L.hosts[Y]!="string")throw new Error(l(d.INVALID_TYPE,[typeof L.hosts[Y],"connectOptions.hosts["+Y+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(L.hosts[Y])){if(Y===0)Q=!0;else if(!Q)throw new Error(l(d.INVALID_ARGUMENT,[L.hosts[Y],"connectOptions.hosts["+Y+"]"]))}else if(Q)throw new Error(l(d.INVALID_ARGUMENT,[L.hosts[Y],"connectOptions.hosts["+Y+"]"]))}if(Q)L.uris=L.hosts;else{if(!L.ports)throw new Error(l(d.INVALID_ARGUMENT,[L.ports,"connectOptions.ports"]));if(!(L.ports instanceof Array))throw new Error(l(d.INVALID_ARGUMENT,[L.ports,"connectOptions.ports"]));if(L.hosts.length!==L.ports.length)throw new Error(l(d.INVALID_ARGUMENT,[L.ports,"connectOptions.ports"]));L.uris=[];for(var Y=0;Y<L.hosts.length;Y++){if(typeof L.ports[Y]!="number"||L.ports[Y]<0)throw new Error(l(d.INVALID_TYPE,[typeof L.ports[Y],"connectOptions.ports["+Y+"]"]));var le=L.hosts[Y],re=L.ports[Y],De=le.indexOf(":")!==-1;D="ws://"+(De?"["+le+"]":le)+":"+re+T,L.uris.push(D)}}}H.connect(L)},this.subscribe=function(L,Q){if(typeof L!="string"&&L.constructor!==Array)throw new Error("Invalid argument:"+L);if(Q=Q||{},s(Q,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),Q.timeout&&!Q.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(typeof Q.qos<"u"&&!(Q.qos===0||Q.qos===1||Q.qos===2))throw new Error(l(d.INVALID_ARGUMENT,[Q.qos,"subscribeOptions.qos"]));H.subscribe(L,Q)},this.unsubscribe=function(L,Q){if(typeof L!="string"&&L.constructor!==Array)throw new Error("Invalid argument:"+L);if(Q=Q||{},s(Q,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),Q.timeout&&!Q.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");H.unsubscribe(L,Q)},this.send=function(L,Q,Y,le){var re;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(L instanceof k)&&typeof L!="string")throw new Error("Invalid argument:"+typeof L);if(re=L,typeof re.destinationName>"u")throw new Error(l(d.INVALID_ARGUMENT,[re.destinationName,"Message.destinationName"]));H.send(re)}else re=new k(Q),re.destinationName=L,arguments.length>=3&&(re.qos=Y),arguments.length>=4&&(re.retained=le),H.send(re)},this.publish=function(L,Q,Y,le){var re;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(L instanceof k)&&typeof L!="string")throw new Error("Invalid argument:"+typeof L);if(re=L,typeof re.destinationName>"u")throw new Error(l(d.INVALID_ARGUMENT,[re.destinationName,"Message.destinationName"]));H.send(re)}else re=new k(Q),re.destinationName=L,arguments.length>=3&&(re.qos=Y),arguments.length>=4&&(re.retained=le),H.send(re)},this.disconnect=function(){H.disconnect()},this.getTraceLog=function(){return H.getTraceLog()},this.startTrace=function(){H.startTrace()},this.stopTrace=function(){H.stopTrace()},this.isConnected=function(){return H.connected}},k=function(_){var x;if(typeof _=="string"||_ instanceof ArrayBuffer||ArrayBuffer.isView(_)&&!(_ instanceof DataView))x=_;else throw l(d.INVALID_ARGUMENT,[_,"newPayload"]);var T,M=0,D=!1,B=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return typeof x=="string"?x:S(x,0,x.length)}},payloadBytes:{enumerable:!0,get:function(){if(typeof x=="string"){var j=new ArrayBuffer(b(x)),F=new Uint8Array(j);return E(x,F,0),F}else return x}},destinationName:{enumerable:!0,get:function(){return T},set:function(j){if(typeof j=="string")T=j;else throw new Error(l(d.INVALID_ARGUMENT,[j,"newDestinationName"]))}},qos:{enumerable:!0,get:function(){return M},set:function(j){if(j===0||j===1||j===2)M=j;else throw new Error("Invalid argument:"+j)}},retained:{enumerable:!0,get:function(){return D},set:function(j){if(typeof j=="boolean")D=j;else throw new Error(l(d.INVALID_ARGUMENT,[j,"newRetained"]))}},topic:{enumerable:!0,get:function(){return T},set:function(j){T=j}},duplicate:{enumerable:!0,get:function(){return B},set:function(j){B=j}}})};return{Client:O,Message:k}}(typeof window<"u"?window:typeof self<"u"?self:typeof window<"u"?window:{});return n})});var RE=C((kXe,NE)=>{var yJ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);yJ?(PE=new Uint8Array(16),NE.exports=function(){return yJ(PE),PE}):(IE=new Array(16),NE.exports=function(){for(var n=0,r;n<16;n++)n&3||(r=Math.random()*4294967296),IE[n]=r>>>((n&3)<<3)&255;return IE});var PE,IE});var OE=C((zXe,wJ)=>{var gJ=[];for(Tl=0;Tl<256;++Tl)gJ[Tl]=(Tl+256).toString(16).substr(1);var Tl;function fCe(e,n){var r=n||0,t=gJ;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}wJ.exports=fCe});var _J=C((LXe,EJ)=>{var mCe=RE(),pCe=OE(),bJ,ME,DE=0,kE=0;function vCe(e,n,r){var t=n&&r||0,i=n||[];e=e||{};var a=e.node||bJ,s=e.clockseq!==void 0?e.clockseq:ME;if(a==null||s==null){var c=mCe();a==null&&(a=bJ=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),s==null&&(s=ME=(c[6]<<8|c[7])&16383)}var d=e.msecs!==void 0?e.msecs:new Date().getTime(),o=e.nsecs!==void 0?e.nsecs:kE+1,l=d-DE+(o-kE)/1e4;if(l<0&&e.clockseq===void 0&&(s=s+1&16383),(l<0||d>DE)&&e.nsecs===void 0&&(o=0),o>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");DE=d,kE=o,ME=s,d+=122192928e5;var f=((d&268435455)*1e4+o)%4294967296;i[t++]=f>>>24&255,i[t++]=f>>>16&255,i[t++]=f>>>8&255,i[t++]=f&255;var m=d/4294967296*1e4&268435455;i[t++]=m>>>8&255,i[t++]=m&255,i[t++]=m>>>24&15|16,i[t++]=m>>>16&255,i[t++]=s>>>8|128,i[t++]=s&255;for(var p=0;p<6;++p)i[t+p]=a[p];return n||pCe(i)}EJ.exports=vCe});var xJ=C((BXe,SJ)=>{var hCe=RE(),yCe=OE();function gCe(e,n,r){var t=n&&r||0;typeof e=="string"&&(n=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||hCe)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,n)for(var a=0;a<16;++a)n[t+a]=i[a];return n||yCe(i)}SJ.exports=gCe});var LE=C((UXe,AJ)=>{var wCe=_J(),CJ=xJ(),zE=CJ;zE.v1=wCe;zE.v4=CJ;AJ.exports=zE});var TJ=C(()=>{});var iW=C((WE,aW)=>{"use strict";(function(e,n){if(typeof WE<"u")e(WE,aW);else if(typeof self<"u"){var r=n==="*"?self:n?self[n]={}:{};e(r,{exports:r})}})(function(e,n){function r(h){return typeof Symbol=="function"&&!!Symbol[h]}function t(h){return r(h)?Symbol[h]:"@@"+h}typeof Symbol=="function"&&!Symbol.observable&&(Symbol.observable=Symbol("observable"));function i(h){setTimeout(function(){throw h})}function a(h,y){var g=h[y];if(g!=null){if(typeof g!="function")throw new TypeError(g+" is not a function");return g}}function s(h){var y=h.constructor;return y!==void 0&&(y=y[t("species")],y===null&&(y=void 0)),y!==void 0?y:v}function c(h,y){Object.keys(y).forEach(function(g){var w=Object.getOwnPropertyDescriptor(y,g);w.enumerable=!1,Object.defineProperty(h,g,w)})}function d(h){var y=h._cleanup;if(y){h._cleanup=void 0;try{y()}catch(g){i(g)}}}function o(h){return h._observer===void 0}function l(h){o(h)||(h._observer=void 0,d(h))}function f(h){return function(){h.unsubscribe()}}function m(h,y){if(Object(h)!==h)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=h;try{var g=a(h,"start");g&&g.call(h,this)}catch(b){i(b)}if(!o(this)){h=new p(this);try{var w=y.call(void 0,h);if(w!=null){if(typeof w.unsubscribe=="function")w=f(w);else if(typeof w!="function")throw new TypeError(w+" is not a function");this._cleanup=w}}catch(b){h.error(b);return}o(this)&&d(this)}}c(m.prototype={},{get closed(){return o(this)},unsubscribe:function(){l(this)}});function p(h){this._subscription=h}c(p.prototype={},{get closed(){return o(this._subscription)},next:function(h){var y=this._subscription;if(!o(y)){var g=y._observer;try{var w=a(g,"next");w&&w.call(g,h)}catch(b){i(b)}}},error:function(h){var y=this._subscription;if(o(y)){i(h);return}var g=y._observer;y._observer=void 0;try{var w=a(g,"error");if(w)w.call(g,h);else throw h}catch(b){i(b)}d(y)},complete:function(){var h=this._subscription;if(!o(h)){var y=h._observer;h._observer=void 0;try{var g=a(y,"complete");g&&g.call(y)}catch(w){i(w)}d(h)}}});function v(h){if(!(this instanceof v))throw new TypeError("Observable cannot be called as a function");if(typeof h!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=h}c(v.prototype,{subscribe:function(h){for(var y=[],g=1;g<arguments.length;++g)y.push(arguments[g]);return typeof h=="function"?h={next:h,error:y[0],complete:y[1]}:(typeof h!="object"||h===null)&&(h={}),new m(h,this._subscriber)},forEach:function(h){var y=this;return new Promise(function(g,w){if(typeof h!="function")return Promise.reject(new TypeError(h+" is not a function"));y.subscribe({_subscription:null,start:function(b){if(Object(b)!==b)throw new TypeError(b+" is not an object");this._subscription=b},next:function(b){var E=this._subscription;if(!E.closed)try{h(b)}catch(S){w(S),E.unsubscribe()}},error:w,complete:g})})},map:function(h){var y=this;if(typeof h!="function")throw new TypeError(h+" is not a function");var g=s(this);return new g(function(w){return y.subscribe({next:function(b){if(!w.closed){try{b=h(b)}catch(E){return w.error(E)}w.next(b)}},error:function(b){w.error(b)},complete:function(){w.complete()}})})},filter:function(h){var y=this;if(typeof h!="function")throw new TypeError(h+" is not a function");var g=s(this);return new g(function(w){return y.subscribe({next:function(b){if(!w.closed){try{if(!h(b))return}catch(E){return w.error(E)}w.next(b)}},error:function(b){w.error(b)},complete:function(){w.complete()}})})},reduce:function(h){var y=this;if(typeof h!="function")throw new TypeError(h+" is not a function");var g=s(this),w=arguments.length>1,b=!1,E=arguments[1],S=E;return new g(function(A){return y.subscribe({next:function(I){if(!A.closed){var P=!b;if(b=!0,!P||w)try{S=h(S,I)}catch(O){return A.error(O)}else S=I}},error:function(I){A.error(I)},complete:function(){if(!b&&!w)return A.error(new TypeError("Cannot reduce an empty sequence"));A.next(S),A.complete()}})})}}),Object.defineProperty(v.prototype,t("observable"),{value:function(){return this},writable:!0,configurable:!0}),c(v,{from:function(h){var y=typeof this=="function"?this:v;if(h==null)throw new TypeError(h+" is not an object");var g=a(h,t("observable"));if(g){var w=g.call(h);if(Object(w)!==w)throw new TypeError(w+" is not an object");return w.constructor===y?w:new y(function(b){return w.subscribe(b)})}if(r("iterator")&&(g=a(h,t("iterator"))))return new y(function(b){for(var E=g.call(h)[Symbol.iterator](),S;S=E.next(),!S.done;){var A=S.value;if(b.next(A),b.closed)return}b.complete()});if(Array.isArray(h))return new y(function(b){for(var E=0;E<h.length;++E)if(b.next(h[E]),b.closed)return;b.complete()});throw new TypeError(h+" is not observable")},of:function(){for(var h=[],y=0;y<arguments.length;++y)h.push(arguments[y]);var g=typeof this=="function"?this:v;return new g(function(w){for(var b=0;b<h.length;++b)if(w.next(h[b]),w.closed)return;w.complete()})}}),Object.defineProperty(v,t("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(v,"extensions",{value:{observableSymbol:t("observable"),setHostReportError:function(h){i=h}}}),e.Observable=v},"*")});var sW=C((fYe,oW)=>{oW.exports=iW().Observable});var uW=C((mYe,lW)=>{"use strict";var DCe=sW();function kCe(e,n){Object.keys(n).forEach(function(r){var t=Object.getOwnPropertyDescriptor(n,r);t.enumerable=!1,Object.defineProperty(e,r,t)})}function XE(e,n,r){if(e._observer)cW(e._observer,n,r);else if(e._observers){var t=[];e._observers.forEach(function(i){t.push(i)}),t.forEach(function(i){cW(i,n,r)})}}function cW(e,n,r){if(!e.closed)switch(n){case"next":return e.next(r);case"error":return e.error(r);case"complete":return e.complete(r)}}function YE(e){return e._observer||e._observers&&e._observers.size>0}function zCe(e,n){e._observers?e._observers.add(n):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(n),e._observer=null):e._observer=n}function LCe(e,n){e._observers?e._observers.delete(n):e._observer===n&&(e._observer=null)}function BCe(e,n){!YE(e)&&n&&n.start&&n.start()}function UCe(e,n){!YE(e)&&n&&n.pause&&n.pause()}function dW(e){var n=this;this._observer=null,this._observers=null,this._observable=new DCe(function(r){return BCe(n,e),zCe(n,r),function(){LCe(n,r),UCe(n,e)}})}kCe(dW.prototype,{get observable(){return this._observable},get observed(){return YE(this)},next:function(e){XE(this,"next",e)},error:function(e){XE(this,"error",e)},complete:function(e){XE(this,"complete",e)}});lW.exports=dW});var tX=C((zl,T_)=>{(function(e,n){typeof zl=="object"&&typeof T_=="object"?T_.exports=n():typeof define=="function"&&define.amd?define("aws_amplify_ui",[],n):typeof zl=="object"?zl.aws_amplify_ui=n():e.aws_amplify_ui=n()})(zl,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=n,r.d=function(t,i,a){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},r.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i||4&i&&typeof t=="object"&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&typeof t!="string")for(var s in t)r.d(a,s,function(c){return t[c]}.bind(null,s));return a},r.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="",r(r.s=0)}([function(e,n,r){"use strict";function t(i){for(var a in i)n.hasOwnProperty(a)||(n[a]=i[a])}Object.defineProperty(n,"__esModule",{value:!0}),t(r(1)),t(r(2)),t(r(3)),t(r(4)),t(r(5)),t(r(6)),t(r(7)),t(r(8)),t(r(9)),t(r(10)),t(r(11)),t(r(12)),t(r(13))},function(e,n,r){e.exports={a:"Anchor__a___1_Iz8"}},function(e,n,r){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,n,r){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,n,r){e.exports={hint:"Hint__hint___2XngB"}},function(e,n,r){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,n,r){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,n,r){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,n,r){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,n,r){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,n,r){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,n,r){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,n,r){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,n,r){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])})});var gX=C((qen,R_)=>{"use strict";var hX=e=>typeof e=="object"&&e!==null,yX=Symbol("skip"),vX=e=>hX(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),N_=(e,n,r,t=new WeakMap)=>{if(r={deep:!1,target:{},...r},t.has(e))return t.get(e);t.set(e,r.target);let{target:i}=r;delete r.target;let a=s=>s.map(c=>vX(c)?N_(c,n,r,t):c);if(Array.isArray(e))return a(e);for(let[s,c]of Object.entries(e)){let d=n(s,c,e);if(d===yX)continue;let[o,l,{shouldRecurse:f=!0}={}]=d;o!=="__proto__"&&(r.deep&&f&&vX(l)&&(l=Array.isArray(l)?a(l):N_(l,n,r,t)),i[o]=l)}return i};R_.exports=(e,n,r)=>{if(!hX(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return N_(e,n,r)};R_.exports.mapObjectSkip=yX});var bX=C(($en,O_)=>{"use strict";var RTe=e=>{let n=!1,r=!1,t=!1;for(let i=0;i<e.length;i++){let a=e[i];n&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(e=e.slice(0,i)+"-"+e.slice(i),n=!1,t=r,r=!0,i++):r&&t&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(e=e.slice(0,i-1)+"-"+e.slice(i-1),t=r,r=!1,n=!0):(n=a.toLowerCase()===a&&a.toUpperCase()!==a,t=r,r=a.toUpperCase()===a&&a.toLowerCase()!==a)}return e},wX=(e,n)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");n=Object.assign({pascalCase:!1},n);let r=i=>n.pascalCase?i.charAt(0).toUpperCase()+i.slice(1):i;return Array.isArray(e)?e=e.map(i=>i.trim()).filter(i=>i.length).join("-"):e=e.trim(),e.length===0?"":e.length===1?n.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=RTe(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(i,a)=>a.toUpperCase()).replace(/\d+(\w|$)/g,i=>i.toUpperCase()),r(e))};O_.exports=wX;O_.exports.default=wX});var _X=C((Hen,EX)=>{"use strict";var M_=class{constructor(n={}){if(!(n.maxSize&&n.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=n.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(n,r){this.cache.set(n,r),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(n){if(this.cache.has(n))return this.cache.get(n);if(this.oldCache.has(n)){let r=this.oldCache.get(n);return this.oldCache.delete(n),this._set(n,r),r}}set(n,r){return this.cache.has(n)?this.cache.set(n,r):this._set(n,r),this}has(n){return this.cache.has(n)||this.oldCache.has(n)}peek(n){if(this.cache.has(n))return this.cache.get(n);if(this.oldCache.has(n))return this.oldCache.get(n)}delete(n){let r=this.cache.delete(n);return r&&this._size--,this.oldCache.delete(n)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[n]of this)yield n}*values(){for(let[,n]of this)yield n}*[Symbol.iterator](){for(let n of this.cache)yield n;for(let n of this.oldCache){let[r]=n;this.cache.has(r)||(yield n)}}get size(){let n=0;for(let r of this.oldCache.keys())this.cache.has(r)||n++;return this._size+n}};EX.exports=M_});var TX=C((Gen,AX)=>{"use strict";var SX=gX(),OTe=bX(),MTe=_X(),DTe=(e,n)=>e.some(r=>typeof r=="string"?r===n:(r.lastIndex=0,r.test(n))),D_=new MTe({maxSize:1e5}),xX=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),CX=(e,n)=>{if(!xX(e))return e;n={deep:!1,pascalCase:!1,...n};let{exclude:r,pascalCase:t,stopPaths:i,deep:a}=n,s=new Set(i),c=d=>(o,l)=>{if(a&&xX(l)){let f=d===void 0?o:`${d}.${o}`;s.has(f)||(l=SX(l,c(f)))}if(!(r&&DTe(r,o))){let f=t?`${o}_`:o;if(D_.has(f))o=D_.get(f);else{let m=OTe(o,{pascalCase:t});o.length<100&&D_.set(f,m),o=m}}return[o,l]};return SX(e,c(void 0))};AX.exports=(e,n)=>Array.isArray(e)?Object.keys(e).map(r=>CX(e[r],n)):CX(e,n)});var See={};zt(See,{__assign:()=>PS,__asyncDelegator:()=>V3e,__asyncGenerator:()=>G3e,__asyncValues:()=>K3e,__await:()=>Fl,__awaiter:()=>U3e,__classPrivateFieldGet:()=>Y3e,__classPrivateFieldSet:()=>Q3e,__createBinding:()=>j3e,__decorate:()=>z3e,__exportStar:()=>q3e,__extends:()=>D3e,__generator:()=>F3e,__importDefault:()=>X3e,__importStar:()=>W3e,__makeTemplateObject:()=>J3e,__metadata:()=>B3e,__param:()=>L3e,__read:()=>_ee,__rest:()=>k3e,__spread:()=>$3e,__spreadArrays:()=>H3e,__values:()=>IS});function D3e(e,n){TS(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function k3e(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function z3e(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function L3e(e,n){return function(r,t){n(r,t,e)}}function B3e(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function U3e(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function F3e(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function j3e(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function q3e(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function IS(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function _ee(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function $3e(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(_ee(arguments[n]));return e}function H3e(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function Fl(e){return this instanceof Fl?(this.v=e,this):new Fl(e)}function G3e(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof Fl?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function V3e(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:Fl(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function K3e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof IS=="function"?IS(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function J3e(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function W3e(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function X3e(e){return e&&e.__esModule?e:{default:e}}function Y3e(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function Q3e(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var TS,PS,xee=la(()=>{TS=function(e,n){return TS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},TS(e,n)};PS=function(){return PS=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},PS.apply(this,arguments)}});var Cee=C(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.isEmptyData=void 0;function Z3e(e){return typeof e=="string"?e.length===0:e.byteLength===0}Uh.isEmptyData=Z3e});var NS=C(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.EMPTY_DATA_SHA_256=Fa.SHA_256_HMAC_ALGO=Fa.SHA_256_HASH=void 0;Fa.SHA_256_HASH={name:"SHA-256"};Fa.SHA_256_HMAC_ALGO={name:"HMAC",hash:Fa.SHA_256_HASH};Fa.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])});var Aee=C(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.toUtf8=Hc.fromUtf8=void 0;var ePe=e=>{let n=[];for(let r=0,t=e.length;r<t;r++){let i=e.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let a=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);n.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else n.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(n)};Hc.fromUtf8=ePe;var nPe=e=>{let n="";for(let r=0,t=e.length;r<t;r++){let i=e[r];if(i<128)n+=String.fromCharCode(i);else if(192<=i&&i<224){let a=e[++r];n+=String.fromCharCode((i&31)<<6|a&63)}else if(240<=i&&i<365){let s="%"+[i,e[++r],e[++r],e[++r]].map(c=>c.toString(16)).join("%");n+=decodeURIComponent(s)}else n+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return n};Hc.toUtf8=nPe});var Tee=C(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.toUtf8=Gc.fromUtf8=void 0;function rPe(e){return new TextEncoder().encode(e)}Gc.fromUtf8=rPe;function tPe(e){return new TextDecoder("utf-8").decode(e)}Gc.toUtf8=tPe});var Fh=C(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.toUtf8=Vc.fromUtf8=void 0;var Pee=Aee(),Iee=Tee(),aPe=e=>typeof TextEncoder=="function"?Iee.fromUtf8(e):Pee.fromUtf8(e);Vc.fromUtf8=aPe;var iPe=e=>typeof TextDecoder=="function"?Iee.toUtf8(e):Pee.toUtf8(e);Vc.toUtf8=iPe});var OS=C(jh=>{"use strict";Object.defineProperty(jh,"__esModule",{value:!0});jh.Sha256=void 0;var oPe=Cee(),Nee=NS(),sPe=Fh(),RS=Di(),cPe=function(){function e(n){n?(this.operation=dPe(n).then(function(r){return(0,RS.locateWindow)().msCrypto.subtle.sign(Nee.SHA_256_HMAC_ALGO,r)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,RS.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(n){var r=this;(0,oPe.isEmptyData)(n)||(this.operation=this.operation.then(function(t){return t.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},t.process(Ree(n)),t}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(n){return new Promise(function(r,t){n.onerror=function(){t(new Error("Error encountered finalizing hash"))},n.oncomplete=function(){n.result&&r(new Uint8Array(n.result)),t(new Error("Error encountered finalizing hash"))},n.finish()})})},e}();jh.Sha256=cPe;function dPe(e){return new Promise(function(n,r){var t=(0,RS.locateWindow)().msCrypto.subtle.importKey("raw",Ree(e),Nee.SHA_256_HMAC_ALGO,!1,["sign"]);t.oncomplete=function(){t.result&&n(t.result),r(new Error("ImportKey completed without importing key."))},t.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function Ree(e){return typeof e=="string"?(0,sPe.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}});var Oee=C(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.convertToBuffer=void 0;var lPe=Fh(),uPe=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:lPe.fromUtf8;function fPe(e){return e instanceof Uint8Array?e:typeof e=="string"?uPe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}qh.convertToBuffer=fPe});var Mee=C($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.isEmptyData=void 0;function mPe(e){return typeof e=="string"?e.length===0:e.byteLength===0}$h.isEmptyData=mPe});var Dee=C(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});Hh.numToUint8=void 0;function pPe(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Hh.numToUint8=pPe});var kee=C(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.uint32ArrayFrom=void 0;function vPe(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),r=0;r<e.length;)n[r]=e[r],r+=1;return n}return Uint32Array.from(e)}Gh.uint32ArrayFrom=vPe});var MS=C(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.uint32ArrayFrom=oa.numToUint8=oa.isEmptyData=oa.convertToBuffer=void 0;var hPe=Oee();Object.defineProperty(oa,"convertToBuffer",{enumerable:!0,get:function(){return hPe.convertToBuffer}});var yPe=Mee();Object.defineProperty(oa,"isEmptyData",{enumerable:!0,get:function(){return yPe.isEmptyData}});var gPe=Dee();Object.defineProperty(oa,"numToUint8",{enumerable:!0,get:function(){return gPe.numToUint8}});var wPe=kee();Object.defineProperty(oa,"uint32ArrayFrom",{enumerable:!0,get:function(){return wPe.uint32ArrayFrom}})});var kS=C(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.Sha256=void 0;var Vh=MS(),Kh=NS(),DS=Di(),bPe=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(r,t){(0,DS.locateWindow)().crypto.subtle.importKey("raw",(0,Vh.convertToBuffer)(n),Kh.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,t)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!(0,Vh.isEmptyData)(n)){var r=(0,Vh.convertToBuffer)(n),t=new Uint8Array(this.toHash.byteLength+r.byteLength);t.set(this.toHash,0),t.set(r,this.toHash.byteLength),this.toHash=t}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(r){return(0,DS.locateWindow)().crypto.subtle.sign(Kh.SHA_256_HMAC_ALGO,r,n.toHash).then(function(t){return new Uint8Array(t)})}):(0,Vh.isEmptyData)(this.toHash)?Promise.resolve(Kh.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,DS.locateWindow)().crypto.subtle.digest(Kh.SHA_256_HASH,n.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e}();Jh.Sha256=bPe});var US={};zt(US,{__assign:()=>LS,__asyncDelegator:()=>MPe,__asyncGenerator:()=>OPe,__asyncValues:()=>DPe,__await:()=>jl,__awaiter:()=>APe,__classPrivateFieldGet:()=>BPe,__classPrivateFieldSet:()=>UPe,__createBinding:()=>PPe,__decorate:()=>SPe,__exportStar:()=>IPe,__extends:()=>EPe,__generator:()=>TPe,__importDefault:()=>LPe,__importStar:()=>zPe,__makeTemplateObject:()=>kPe,__metadata:()=>CPe,__param:()=>xPe,__read:()=>zee,__rest:()=>_Pe,__spread:()=>NPe,__spreadArrays:()=>RPe,__values:()=>BS});function EPe(e,n){zS(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function _Pe(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function SPe(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function xPe(e,n){return function(r,t){n(r,t,e)}}function CPe(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function APe(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function TPe(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function PPe(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function IPe(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function BS(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function zee(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function NPe(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(zee(arguments[n]));return e}function RPe(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function jl(e){return this instanceof jl?(this.v=e,this):new jl(e)}function OPe(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof jl?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function MPe(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:jl(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function DPe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof BS=="function"?BS(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function kPe(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function zPe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function LPe(e){return e&&e.__esModule?e:{default:e}}function BPe(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function UPe(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var zS,LS,FS=la(()=>{zS=function(e,n){return zS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},zS(e,n)};LS=function(){return LS=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},LS.apply(this,arguments)}});var jS=C(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.MAX_HASHABLE_LENGTH=pt.INIT=pt.KEY=pt.DIGEST_LENGTH=pt.BLOCK_SIZE=void 0;pt.BLOCK_SIZE=64;pt.DIGEST_LENGTH=32;pt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);pt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];pt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var Lee=C(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.RawSha256=void 0;var vt=jS(),FPe=function(){function e(){this.state=Int32Array.from(vt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,t=n.byteLength;if(this.bytesHashed+=t,this.bytesHashed*8>vt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;t>0;)this.buffer[this.bufferLength++]=n[r++],t--,this.bufferLength===vt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),t=this.bufferLength;if(r.setUint8(this.bufferLength++,128),t%vt.BLOCK_SIZE>=vt.BLOCK_SIZE-8){for(var i=this.bufferLength;i<vt.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<vt.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(vt.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),r.setUint32(vt.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(vt.DIGEST_LENGTH),i=0;i<8;i++)a[i*4]=this.state[i]>>>24&255,a[i*4+1]=this.state[i]>>>16&255,a[i*4+2]=this.state[i]>>>8&255,a[i*4+3]=this.state[i]>>>0&255;return a},e.prototype.hashBuffer=function(){for(var n=this,r=n.buffer,t=n.state,i=t[0],a=t[1],s=t[2],c=t[3],d=t[4],o=t[5],l=t[6],f=t[7],m=0;m<vt.BLOCK_SIZE;m++){if(m<16)this.temp[m]=(r[m*4]&255)<<24|(r[m*4+1]&255)<<16|(r[m*4+2]&255)<<8|r[m*4+3]&255;else{var p=this.temp[m-2],v=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[m-15];var h=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[m]=(v+this.temp[m-7]|0)+(h+this.temp[m-16]|0)}var y=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&o^~d&l)|0)+(f+(vt.KEY[m]+this.temp[m]|0)|0)|0,g=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&a^i&s^a&s)|0;f=l,l=o,o=d,d=c+y|0,c=s,s=a,a=i,i=y+g|0}t[0]+=i,t[1]+=a,t[2]+=s,t[3]+=c,t[4]+=d,t[5]+=o,t[6]+=l,t[7]+=f},e}();Wh.RawSha256=FPe});var Uee=C(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.Sha256=void 0;var Bee=(FS(),On(US)),Xh=jS(),qS=Lee(),$S=MS(),jPe=function(){function e(n){if(this.hash=new qS.RawSha256,n){this.outer=new qS.RawSha256;var r=qPe(n),t=new Uint8Array(Xh.BLOCK_SIZE);t.set(r);for(var i=0;i<Xh.BLOCK_SIZE;i++)r[i]^=54,t[i]^=92;this.hash.update(r),this.outer.update(t);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(n){if(!((0,$S.isEmptyData)(n)||this.error))try{this.hash.update((0,$S.convertToBuffer)(n))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,Bee.__awaiter)(this,void 0,void 0,function(){return(0,Bee.__generator)(this,function(n){return[2,this.digestSync()]})})},e}();Yh.Sha256=jPe;function qPe(e){var n=(0,$S.convertToBuffer)(e);if(n.byteLength>Xh.BLOCK_SIZE){var r=new qS.RawSha256;r.update(n),n=r.digest()}var t=new Uint8Array(Xh.BLOCK_SIZE);return t.set(n),t}});var Fee=C(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});var $Pe=(FS(),On(US));(0,$Pe.__exportStar)(Uee(),HS)});var JS={};zt(JS,{__assign:()=>VS,__asyncDelegator:()=>rIe,__asyncGenerator:()=>nIe,__asyncValues:()=>tIe,__await:()=>ql,__awaiter:()=>WPe,__classPrivateFieldGet:()=>sIe,__classPrivateFieldSet:()=>cIe,__createBinding:()=>YPe,__decorate:()=>VPe,__exportStar:()=>QPe,__extends:()=>HPe,__generator:()=>XPe,__importDefault:()=>oIe,__importStar:()=>iIe,__makeTemplateObject:()=>aIe,__metadata:()=>JPe,__param:()=>KPe,__read:()=>jee,__rest:()=>GPe,__spread:()=>ZPe,__spreadArrays:()=>eIe,__values:()=>KS});function HPe(e,n){GS(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function GPe(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function VPe(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function KPe(e,n){return function(r,t){n(r,t,e)}}function JPe(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function WPe(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function XPe(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function YPe(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function QPe(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function KS(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function jee(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function ZPe(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(jee(arguments[n]));return e}function eIe(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function ql(e){return this instanceof ql?(this.v=e,this):new ql(e)}function nIe(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof ql?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function rIe(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:ql(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function tIe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof KS=="function"?KS(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function aIe(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function iIe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function oIe(e){return e&&e.__esModule?e:{default:e}}function sIe(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function cIe(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var GS,VS,WS=la(()=>{GS=function(e,n){return GS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},GS(e,n)};VS=function(){return VS=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},VS.apply(this,arguments)}});var Hee=C(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.supportsZeroByteGCM=sa.supportsSubtleCrypto=sa.supportsSecureRandom=sa.supportsWebCrypto=void 0;var qee=(WS(),On(JS)),dIe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function lIe(e){if($ee(e)&&typeof e.crypto.subtle=="object"){var n=e.crypto.subtle;return XS(n)}return!1}sa.supportsWebCrypto=lIe;function $ee(e){if(typeof e=="object"&&typeof e.crypto=="object"){var n=e.crypto.getRandomValues;return typeof n=="function"}return!1}sa.supportsSecureRandom=$ee;function XS(e){return e&&dIe.every(function(n){return typeof e[n]=="function"})}sa.supportsSubtleCrypto=XS;function uIe(e){return qee.__awaiter(this,void 0,void 0,function(){var n,r,t;return qee.__generator(this,function(i){switch(i.label){case 0:if(!XS(e))return[2,!1];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return n=i.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},n,new Uint8Array(0))];case 3:return r=i.sent(),[2,r.byteLength===16];case 4:return t=i.sent(),[2,!1];case 5:return[2]}})})}sa.supportsZeroByteGCM=uIe});var Gee=C(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});var fIe=(WS(),On(JS));fIe.__exportStar(Hee(),YS)});var Kee={};zt(Kee,{__assign:()=>ZS,__asyncDelegator:()=>CIe,__asyncGenerator:()=>xIe,__asyncValues:()=>AIe,__await:()=>$l,__awaiter:()=>gIe,__classPrivateFieldGet:()=>NIe,__classPrivateFieldSet:()=>RIe,__createBinding:()=>bIe,__decorate:()=>vIe,__exportStar:()=>EIe,__extends:()=>mIe,__generator:()=>wIe,__importDefault:()=>IIe,__importStar:()=>PIe,__makeTemplateObject:()=>TIe,__metadata:()=>yIe,__param:()=>hIe,__read:()=>Vee,__rest:()=>pIe,__spread:()=>_Ie,__spreadArrays:()=>SIe,__values:()=>ex});function mIe(e,n){QS(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function pIe(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function vIe(e,n,r,t){var i=arguments.length,a=i<3?n:t===null?t=Object.getOwnPropertyDescriptor(n,r):t,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,n,r,t);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(a=(i<3?s(a):i>3?s(n,r,a):s(n,r))||a);return i>3&&a&&Object.defineProperty(n,r,a),a}function hIe(e,n){return function(r,t){n(r,t,e)}}function yIe(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function gIe(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function wIe(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function bIe(e,n,r,t){t===void 0&&(t=r),e[t]=n[r]}function EIe(e,n){for(var r in e)r!=="default"&&!n.hasOwnProperty(r)&&(n[r]=e[r])}function ex(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vee(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function _Ie(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Vee(arguments[n]));return e}function SIe(){for(var e=0,n=0,r=arguments.length;n<r;n++)e+=arguments[n].length;for(var t=Array(e),i=0,n=0;n<r;n++)for(var a=arguments[n],s=0,c=a.length;s<c;s++,i++)t[i]=a[s];return t}function $l(e){return this instanceof $l?(this.v=e,this):new $l(e)}function xIe(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof $l?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function CIe(e){var n,r;return n={},t("next"),t("throw",function(i){throw i}),t("return"),n[Symbol.iterator]=function(){return this},n;function t(i,a){n[i]=e[i]?function(s){return(r=!r)?{value:$l(e[i](s)),done:i==="return"}:a?a(s):s}:a}}function AIe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof ex=="function"?ex(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function TIe(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function PIe(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function IIe(e){return e&&e.__esModule?e:{default:e}}function NIe(e,n){if(!n.has(e))throw new TypeError("attempted to get private field on non-instance");return n.get(e)}function RIe(e,n,r){if(!n.has(e))throw new TypeError("attempted to set private field on non-instance");return n.set(e,r),r}var QS,ZS,Jee=la(()=>{QS=function(e,n){return QS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},QS(e,n)};ZS=function(){return ZS=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},ZS.apply(this,arguments)}});var Xee=C(Wee=>{"use strict";Object.defineProperty(Wee,"__esModule",{value:!0})});var Qee=C(Yee=>{"use strict";Object.defineProperty(Yee,"__esModule",{value:!0})});var ene=C(Zee=>{"use strict";Object.defineProperty(Zee,"__esModule",{value:!0})});var rne=C(nne=>{"use strict";Object.defineProperty(nne,"__esModule",{value:!0})});var tne=C(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.isMsWindow=void 0;var OIe=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function MIe(e){return"MSInputMethodContext"in e&&"msCrypto"in e}function DIe(e){if(MIe(e)&&e.msCrypto.subtle!==void 0){var n=e.msCrypto,r=n.getRandomValues,t=n.subtle;return OIe.map(function(i){return t[i]}).concat(r).every(function(i){return typeof i=="function"})}return!1}Qh.isMsWindow=DIe});var ane=C(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var Hl=(Jee(),On(Kee));Hl.__exportStar(Xee(),Do);Hl.__exportStar(Qee(),Do);Hl.__exportStar(ene(),Do);Hl.__exportStar(rne(),Do);Hl.__exportStar(tne(),Do)});var one=C(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0});Zh.Sha256=void 0;var kIe=OS(),zIe=kS(),LIe=Fee(),BIe=Gee(),UIe=ane(),ine=Di(),FIe=function(){function e(n){(0,BIe.supportsWebCrypto)((0,ine.locateWindow)())?this.hash=new zIe.Sha256(n):(0,UIe.isMsWindow)((0,ine.locateWindow)())?this.hash=new kIe.Sha256(n):this.hash=new LIe.Sha256(n)}return e.prototype.update=function(n,r){this.hash.update(n,r)},e.prototype.digest=function(){return this.hash.digest()},e}();Zh.Sha256=FIe});var sne=C(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.WebCryptoSha256=ko.Ie11Sha256=void 0;var jIe=(xee(),On(See));(0,jIe.__exportStar)(one(),ko);var qIe=OS();Object.defineProperty(ko,"Ie11Sha256",{enumerable:!0,get:function(){return qIe.Sha256}});var $Ie=kS();Object.defineProperty(ko,"WebCryptoSha256",{enumerable:!0,get:function(){return $Ie.Sha256}})});var Ie={};zt(Ie,{API:()=>vc,APIClass:()=>bv,AWSCloudWatchProvider:()=>hN,AWSKinesisFirehoseProvider:()=>Mw,AWSKinesisProvider:()=>Bd,AWSPinpointProvider:()=>Od,AmazonPersonalizeProvider:()=>sb,Amplify:()=>se,Analytics:()=>sm,Auth:()=>zr,AuthModeStrategyType:()=>wi,Cache:()=>fn,ClientDevice:()=>Wc,DataStore:()=>zc,Geo:()=>ty,Hub:()=>ye,I18n:()=>eu,Interactions:()=>sh,JS:()=>Se,Logger:()=>q,Predicates:()=>JE,Predictions:()=>fh,PubSub:()=>xl,ServiceWorker:()=>Es,Signer:()=>yt,SortDirection:()=>xc,Storage:()=>O1,StorageClass:()=>ul,XR:()=>lh,default:()=>YIe,graphqlOperation:()=>yv,syncExpression:()=>nW,withSSRContext:()=>pX});var ox=26,sx=1048576,cx=256e3,Ql="Logging",dx="AWSCloudWatch",ua="No credentials",lx=["ResourceNotFoundException","InvalidSequenceTokenException"];var Mne=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Dne=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Bo=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Dne(arguments[n]));return e},ux={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},ht;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(ht||(ht={}));var q=function(){function e(n,r){r===void 0&&(r=ht.WARN),this.name=n,this.level=r,this._pluggables=[]}return e.prototype._padding=function(n){return n<10?"0"+n:""+n},e.prototype._ts=function(){var n=new Date;return[this._padding(n.getMinutes()),this._padding(n.getSeconds())].join(":")+"."+n.getMilliseconds()},e.prototype.configure=function(n){return n?(this._config=n,this._config):this._config},e.prototype._log=function(n){for(var r,t,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var c=ux[s],d=ux[n];if(d>=c){var o=console.log.bind(console);n===ht.ERROR&&console.error&&(o=console.error.bind(console)),n===ht.WARN&&console.warn&&(o=console.warn.bind(console));var l="["+n+"] "+this._ts()+" "+this.name,f="";if(i.length===1&&typeof i[0]=="string")f=l+" - "+i[0],o(f);else if(i.length===1)f=l+" "+i[0],o(l,i[0]);else if(typeof i[0]=="string"){var m=i.slice(1);m.length===1&&(m=m[0]),f=l+" - "+i[0]+" "+m,o(l+" - "+i[0],m)}else f=l+" "+i,o(l,i);try{for(var p=Mne(this._pluggables),v=p.next();!v.done;v=p.next()){var h=v.value,y={message:f,timestamp:Date.now()};h.pushLogs([y])}}catch(g){r={error:g}}finally{try{v&&!v.done&&(t=p.return)&&t.call(p)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._log.apply(this,Bo([ht.INFO],n))},e.prototype.info=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._log.apply(this,Bo([ht.INFO],n))},e.prototype.warn=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._log.apply(this,Bo([ht.WARN],n))},e.prototype.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._log.apply(this,Bo([ht.ERROR],n))},e.prototype.debug=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._log.apply(this,Bo([ht.DEBUG],n))},e.prototype.verbose=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._log.apply(this,Bo([ht.VERBOSE],n))},e.prototype.addPluggable=function(n){n&&n.getCategoryName()===Ql&&(this._pluggables.push(n),n.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}();var kne=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},iy=new q("Amplify"),Zl=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=q,this.ServiceWorker=null}return e.prototype.register=function(n){iy.debug("component registered in amplify",n),this._components.push(n),typeof n.getModuleName=="function"?(this._modules[n.getModuleName()]=n,this[n.getModuleName()]=n):iy.debug("no getModuleName method for component",n),n.configure(this._config)},e.prototype.configure=function(n){var r=this;return n?(this._config=Object.assign(this._config,n),iy.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(t){var i=kne(t,2),a=i[0],s=i[1];Object.keys(s).forEach(function(c){r._modules[c]&&(s[c]=r._modules[c])})}),this._components.map(function(t){t.configure(r._config)}),this._config):this._config},e.prototype.addPluggable=function(n){n&&n.getCategory&&typeof n.getCategory=="function"&&this._components.map(function(r){r.addPluggable&&typeof r.addPluggable=="function"&&r.addPluggable(n)})},e}();var se=new Zl;var fx="4.3.10";var oy="aws-amplify/"+fx,cr={userAgent:oy+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(cr.product=navigator.product||"",cr.navigator=navigator||null,navigator.product){case"ReactNative":cr.userAgent=oy+" react-native",cr.isReactNative=!0;break;default:cr.userAgent=oy+" js",cr.isReactNative=!1;break}var Ye=function(){return cr.userAgent};var sy=new q("ClientDevice_Browser");function mx(){return typeof window>"u"?{}:zne()}function zne(){if(typeof window>"u")return sy.warn("No window object available to get browser client info"),{};var e=window.navigator;if(!e)return sy.warn("No navigator object available to get browser client info"),{};var n=e.platform,r=e.product,t=e.vendor,i=e.userAgent,a=e.language,s=Bne(i),c=Lne();return{platform:n,make:r||t,model:s.type,version:s.version,appVersion:[s.type,s.version].join("/"),language:a,timezone:c}}function px(){return typeof window>"u"?(sy.warn("No window object available to get browser client info"),{width:320,height:320}):{width:window.innerWidth,height:window.innerHeight}}function Lne(){var e=/\(([A-Za-z\s].*)\)/.exec(new Date().toString());return e&&e[1]||""}function Bne(e){var n=/.+(Opera[\s[A-Z]*|OPR[\sA-Z]*)\/([0-9\.]+).*/i.exec(e);if(n)return{type:n[1],version:n[2]};var r=/.+(Trident|Edge)\/([0-9\.]+).*/i.exec(e);if(r)return{type:r[1],version:r[2]};var t=/.+(Chrome|Firefox|FxiOS)\/([0-9\.]+).*/i.exec(e);if(t)return{type:t[1],version:t[2]};var i=/.+(Safari)\/([0-9\.]+).*/i.exec(e);if(i)return{type:i[1],version:i[2]};var a=/.+(AppleWebKit)\/([0-9\.]+).*/i.exec(e);if(a)return{type:a[1],version:a[2]};var s=/.*([A-Z]+)\/([0-9\.]+).*/i.exec(e);return s?{type:s[1],version:s[2]}:{type:"",version:""}}var Wc=function(){function e(){}return e.clientInfo=function(){return mx()},e.dimension=function(){return px()},e}();var Xc=function(){return Xc=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xc.apply(this,arguments)},hx=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},vx=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(hx(arguments[n]));return e},fa=new q("Hub"),Une=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function Fne(e){return e.onHubCapsule!==void 0}var jne=function(){function e(n){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","xr"],this.name=n}return e.prototype.remove=function(n,r){if(n instanceof RegExp){var t=this.patterns.find(function(a){var s=a.pattern;return s.source===n.source});if(!t){fa.warn("No listeners for "+n);return}this.patterns=vx(this.patterns.filter(function(a){return a!==t}))}else{var i=this.listeners[n];if(!i){fa.warn("No listeners for "+n);return}this.listeners[n]=vx(i.filter(function(a){var s=a.callback;return s!==r}))}},e.prototype.dispatch=function(n,r,t,i){if(t===void 0&&(t=""),this.protectedChannels.indexOf(n)>-1){var a=i===Une;a||fa.warn("WARNING: "+n+" is protected and dispatching on it can have unintended consequences")}var s={channel:n,payload:Xc({},r),source:t,patternInfo:[]};try{this._toListeners(s)}catch(c){fa.error(c)}},e.prototype.listen=function(n,r,t){var i=this;t===void 0&&(t="noname");var a;if(Fne(r))fa.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),a=r.onHubCapsule.bind(r);else{if(typeof r!="function")throw new Error("No callback supplied to Hub");a=r}if(n instanceof RegExp)this.patterns.push({pattern:n,callback:a});else{var s=this.listeners[n];s||(s=[],this.listeners[n]=s),s.push({name:t,callback:a})}return function(){i.remove(n,a)}},e.prototype._toListeners=function(n){var r=n.channel,t=n.payload,i=this.listeners[r];if(i&&i.forEach(function(s){fa.debug("Dispatching to "+r+" with ",t);try{s.callback(n)}catch(c){fa.error(c)}}),this.patterns.length>0){if(!t.message){fa.warn("Cannot perform pattern matching without a message key");return}var a=t.message;this.patterns.forEach(function(s){var c=a.match(s.pattern);if(c){var d=hx(c),o=d.slice(1),l=Xc(Xc({},n),{patternInfo:o});try{s.callback(l)}catch(f){fa.error(f)}}})}},e}();var ye=new jne("__default__");var qne=new q("I18n"),cy=function(){function e(n){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},n),this._lang=this._options.language,!this._lang&&typeof window<"u"&&window&&window.navigator&&(this._lang=window.navigator.language),qne.debug(this._lang)}return e.prototype.setLanguage=function(n){this._lang=n},e.prototype.get=function(n,r){if(r===void 0&&(r=void 0),!this._lang)return typeof r<"u"?r:n;var t=this._lang,i=this.getByLanguage(n,t);return i||(t.indexOf("-")>0&&(i=this.getByLanguage(n,t.split("-")[0])),i)?i:typeof r<"u"?r:n},e.prototype.getByLanguage=function(n,r,t){if(t===void 0&&(t=null),!r)return t;var i=this._dict[r];return i?i[n]:t},e.prototype.putVocabulariesForLanguage=function(n,r){var t=this._dict[n];t||(t=this._dict[n]={}),Object.assign(t,r)},e.prototype.putVocabularies=function(n){var r=this;Object.keys(n).map(function(t){r.putVocabulariesForLanguage(t,n[t])})},e}();var yx=new q("I18n"),Uo=null,qa=null,eu=function(){function e(){}return e.configure=function(n){return yx.debug("configure I18n"),n&&(Uo=Object.assign({},Uo,n.I18n||n),e.createInstance()),Uo},e.getModuleName=function(){return"I18n"},e.createInstance=function(){yx.debug("create I18n instance"),!qa&&(qa=new cy(Uo))},e.setLanguage=function(n){return e.checkConfig(),qa.setLanguage(n)},e.get=function(n,r){return e.checkConfig()?qa.get(n,r):typeof r>"u"?n:r},e.putVocabulariesForLanguage=function(n,r){return e.checkConfig(),qa.putVocabulariesForLanguage(n,r)},e.putVocabularies=function(n){return e.checkConfig(),qa.putVocabularies(n)},e.checkConfig=function(){return qa||(qa=new cy(Uo)),!0},e}();se.register(eu);var $ne=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],Hne=function(e){return e===void 0&&(e={}),Object.keys(e).length===0},Gne=function(e,n,r){if(!e||!e.sort)return!1;var t=r&&r==="desc"?-1:1;return e.sort(function(i,a){var s=i[n],c=a[n];return typeof c>"u"?typeof s>"u"?0:1*t:typeof s>"u"||s<c?-1*t:s>c?1*t:0}),!0},Vne=function(e,n){var r=Object.assign({},e);return n&&(typeof n=="string"?delete r[n]:n.forEach(function(t){delete r[t]})),r},Kne=function(e,n){n===void 0&&(n="application/octet-stream");var r=e.toLowerCase(),t=$ne.filter(function(i){return r.endsWith("."+i.ext)});return t.length>0?t[0].type:n},Jne=function(e){var n=e.toLowerCase();return n.startsWith("text/")?!0:n==="application/json"||n==="application/xml"||n==="application/sh"},Wne=function(){for(var e="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=32;r>0;r-=1)e+=n[Math.floor(Math.random()*n.length)];return e},dy=function(e){if(e.isResolved)return e;var n=!0,r=!1,t=!1,i=e.then(function(a){return t=!0,n=!1,a},function(a){throw r=!0,n=!1,a});return i.isFullfilled=function(){return t},i.isPending=function(){return n},i.isRejected=function(){return r},i},Yc=function(){if(typeof self>"u")return!1;var e=self;return typeof e.WorkerGlobalScope<"u"&&self instanceof e.WorkerGlobalScope},cn=function(){var e=typeof window<"u"&&typeof window.document<"u",n=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:n}},gx=function(e,n,r){if(n===void 0&&(n=[]),r===void 0&&(r=[]),!ly(e))return e;var t={};for(var i in e)if(e.hasOwnProperty(i)){var a=n.includes(i)?i:i[0].toLowerCase()+i.slice(1);t[a]=r.includes(i)?e[i]:gx(e[i],n,r)}return t},wx=function(e,n,r){if(n===void 0&&(n=[]),r===void 0&&(r=[]),!ly(e))return e;var t={};for(var i in e)if(e.hasOwnProperty(i)){var a=n.includes(i)?i:i[0].toUpperCase()+i.slice(1);t[a]=r.includes(i)?e[i]:wx(e[i],n,r)}return t},ly=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},Se=function(){function e(){}return e.isEmpty=Hne,e.sortByField=Gne,e.objectLessAttributes=Vne,e.filenameToContentType=Kne,e.isTextFile=Jne,e.generateRandomString=Wne,e.makeQuerablePromise=dy,e.isWebWorker=Yc,e.browserOrNode=cn,e.transferKeyToLowerCase=gx,e.transferKeyToUpperCase=wx,e.isStrictObject=ly,e}();var sg=W(Nx());var Rx={},Ey={};for($o=0;$o<256;$o++)Ho=$o.toString(16).toLowerCase(),Ho.length===1&&(Ho="0"+Ho),Rx[$o]=Ho,Ey[Ho]=$o;var Ho,$o;function Ox(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var n=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var t=e.substr(r,2).toLowerCase();if(t in Ey)n[r/2]=Ey[t];else throw new Error("Cannot decode unrecognized sequence "+t+" as hexadecimal")}return n}function Qe(e){for(var n="",r=0;r<e.byteLength;r++)n+=Rx[e[r]];return n}var ma=W(as());var Lae=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),Bae=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Uae=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Fae=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},jae=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Fae(arguments[n]));return e},yu=new q("Util"),yn=function(e){Lae(n,e);function n(r){var t=e.call(this,r)||this;return t.nonRetryable=!0,t}return n}(Error);var qae=function(e){var n="nonRetryable";return e&&e[n]};function EA(e,n,r,t){return t===void 0&&(t=1),Bae(this,void 0,void 0,function(){var i,a;return Uae(this,function(s){switch(s.label){case 0:if(typeof e!="function")throw Error("functionToRetry must be a function");yu.debug(e.name+" attempt #"+t+" with this vars: "+JSON.stringify(n)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,jae(n))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),yu.debug("error on "+e.name,i),qae(i))throw yu.debug(e.name+" non retryable error",i),i;return a=r(t,n,i),yu.debug(e.name+" retrying in "+a+" ms"),a===!1?[3,6]:[4,new Promise(function(c){return setTimeout(c,a)})];case 4:return s.sent(),[4,EA(e,n,r,t+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}})})}var $ae=5*60*1e3;function Hae(e){var n=100,r=100;return function(t){var i=Math.pow(2,t)*n+r*Math.random();return i>e?!1:i}}var Va=function(e,n,r){return r===void 0&&(r=$ae),EA(e,n,Hae(r))};var Gae=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var n=this,r=new Promise(function(t){return n._queue.push(t)});return this._pending||this._dispatchNext(),r},e.prototype.runExclusive=function(n){return this.acquire().then(function(r){var t;try{t=n()}catch(i){throw r(),i}return Promise.resolve(t).then(function(i){return r(),i},function(i){throw r(),i})})},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}(),Yy=Gae;var IA=W(PA()),Yae=IA.default,xe=Yae;var Qae=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Zae=function(){function e(){}return e.prototype.networkMonitor=function(n){if(cn().isNode)return xe.from([{online:!0}]);var r=Yc()?self:window;return new xe(function(t){t.next({online:r.navigator.onLine});var i=function(){return t.next({online:!0})},a=function(){return t.next({online:!1})};return r.addEventListener("online",i),r.addEventListener("offline",a),e._observers.push(t),function(){r.removeEventListener("online",i),r.removeEventListener("offline",a),e._observers=e._observers.filter(function(s){return s!==t})}})},e._observerOverride=function(n){var r,t,i=function(d){if(d.closed)return e._observers=e._observers.filter(function(o){return o!==d}),"continue";d.next(n)};try{for(var a=Qae(e._observers),s=a.next();!s.done;s=a.next()){var c=s.value;i(c)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}},e._observers=[],e}(),og=Zae;var eie=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},nie=3e5,vr={clockOffset:0,getDateWithClockOffset:function(){return vr.clockOffset?new Date(new Date().getTime()+vr.clockOffset):new Date},getClockOffset:function(){return vr.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=vr.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var n=eie(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),r=n[1],t=n[2],i=n[3],a=n[4],s=n[5],c=n[6];return new Date(Date.UTC(Number(r),Number(t)-1,Number(i),Number(a),Number(s),Number(c)))},isClockSkewed:function(e){return Math.abs(e.getTime()-vr.getDateWithClockOffset().getTime())>=nie},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var n=e.response.headers;return!!(["BadRequestException","InvalidSignatureException"].includes(n["x-amzn-errortype"])&&(n.date||n.Date))},setClockOffset:function(e){vr.clockOffset=e}};function NA(e){return e.split("").map(function(n){return n.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function RA(e){return e.match(/.{2}/g).map(function(n){return String.fromCharCode(parseInt(n,16))}).join("")}var Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mr.apply(this,arguments)},rie=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},BA=new q("Signer"),_u="AWS4-HMAC-SHA256",tie="iotdevicegateway",od=function(e,n){var r=new sg.Sha256(e);return r.update(n),r.digestSync()},UA=function(e){var n=e||"",r=new sg.Sha256;return r.update(n),Qe(r.digestSync())},aie=function(e){return e.replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})},iie=function(e){return!e||e.length===0?"":e.split("&").map(function(n){var r=n.split("=");if(r.length===1)return n;var t=aie(r[1]);return r[0]+"="+t}).sort(function(n,r){var t=n.split("=")[0],i=r.split("=")[0];return t===i?n<r?-1:1:t<i?-1:1}).join("&")},oie=function(e){return!e||Object.keys(e).length===0?"":Object.keys(e).map(function(n){return{key:n.toLowerCase(),value:e[n]?e[n].trim().replace(/\s+/g," "):""}}).sort(function(n,r){return n.key<r.key?-1:1}).map(function(n){return n.key+":"+n.value}).join(`
`)+`
`},FA=function(e){return Object.keys(e).map(function(n){return n.toLowerCase()}).sort().join(";")},OA=function(e){var n=(0,ma.parse)(e.url);return[e.method||"/",encodeURIComponent(n.pathname).replace(/%2F/gi,"/"),iie(n.query),oie(e.headers),FA(e.headers),UA(e.data)].join(`
`)},MA=function(e){var n=(0,ma.parse)(e.url),r=n.host,t=r.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),i=(t||[]).slice(1,3);return i[1]==="es"&&(i=i.reverse()),{service:e.service||i[0],region:e.region||i[1]}},DA=function(e,n,r){return[e,n,r,"aws4_request"].join("/")},kA=function(e,n,r,t){return[e,r,t,UA(n)].join(`
`)},zA=function(e,n,r){BA.debug(r);var t="AWS4"+e,i=od(t,n),a=od(i,r.region),s=od(a,r.service),c=od(s,"aws4_request");return c},LA=function(e,n){return Qe(od(e,n))},sie=function(e,n,r,t,i){return[e+" Credential="+n+"/"+r,"SignedHeaders="+t,"Signature="+i].join(", ")},yt=function(){function e(){}return e.sign=function(n,r,t){t===void 0&&(t=null),n.headers=n.headers||{};var i=vr.getDateWithClockOffset(),a=i.toISOString().replace(/[:\-]|\.\d{3}/g,""),s=a.substr(0,8),c=(0,ma.parse)(n.url);n.headers.host=c.host,n.headers["x-amz-date"]=a,r.session_token&&(n.headers["X-Amz-Security-Token"]=r.session_token);var d=OA(n);BA.debug(d);var o=t||MA(n),l=DA(s,o.region,o.service),f=kA(_u,d,a,l),m=zA(r.secret_key,s,o),p=LA(m,f),v=sie(_u,r.access_key,l,FA(n.headers),p);return n.headers.Authorization=v,n},e.signUrl=function(n,r,t,i){var a=typeof n=="object"?n.url:n,s=typeof n=="object"?n.method:"GET",c=typeof n=="object"?n.body:void 0,d=vr.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=d.substr(0,8),l=(0,ma.parse)(a,!0,!0),f=l.search,m=rie(l,["search"]),p=m.host,v={host:p},h=t||MA({url:(0,ma.format)(m)}),y=h.region,g=h.service,w=DA(o,y,g),b=r.session_token&&g!==tie,E=Mr(Mr(Mr({"X-Amz-Algorithm":_u,"X-Amz-Credential":[r.access_key,w].join("/"),"X-Amz-Date":d.substr(0,16)},b?{"X-Amz-Security-Token":""+r.session_token}:{}),i?{"X-Amz-Expires":""+i}:{}),{"X-Amz-SignedHeaders":Object.keys(v).join(",")}),S=OA({method:s,url:(0,ma.format)(Mr(Mr({},m),{query:Mr(Mr({},m.query),E)})),headers:v,data:c}),A=kA(_u,S,d,w),I=zA(r.secret_key,o,{region:y,service:g}),P=LA(I,A),O=Mr({"X-Amz-Signature":P},r.session_token&&{"X-Amz-Security-Token":r.session_token}),k=(0,ma.format)({protocol:m.protocol,slashes:!0,hostname:m.hostname,port:m.port,pathname:m.pathname,query:Mr(Mr(Mr({},m.query),E),O)});return k},e}();var Su=function(){return Su=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Su.apply(this,arguments)},cie=new q("Parser"),sd=function(e){var n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable"});var t;return e.aws_user_files_s3_bucket?t={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:t=e?e.Storage||e:{},e.Logging&&(n.Logging=Su(Su({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),cie.debug("parse config",e,"to amplifyconfig",n),n},Ka=function(){function e(){}return e.parseMobilehubConfig=sd,e}();var cg=function(e,n){return cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])},cg(e,n)};function J(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");cg(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var u=function(){return u=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},u.apply(this,arguments)};function os(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function R(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function N(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(r=0)),r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function je(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function ln(e,n,r){if(r||arguments.length===2)for(var t=0,i=n.length,a;t<i;t++)(a||!(t in n))&&(a||(a=Array.prototype.slice.call(n,0,t)),a[t]=n[t]);return e.concat(a||Array.prototype.slice.call(n))}var jA={name:"@aws-sdk/client-cloudwatch-logs",description:"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudwatch-logs"}};var h3=W(va());function Rg(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function Og(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function TT(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ja=function(){function e(n){this.statusCode=n.statusCode,this.headers=n.headers||{},this.body=n.body}return e.isInstance=function(n){if(!n)return!1;var r=n;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}();var Wa=function(){return Wa=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Wa.apply(this,arguments)};function dse(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function PT(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(dse(arguments[n]));return e}var ae=function(){function e(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.substr(-1)!==":"?n.protocol+":":n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?"/"+n.path:n.path:"/"}return e.isInstance=function(n){if(!n)return!1;var r=n;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var n=new e(Wa(Wa({},this),{headers:Wa({},this.headers)}));return n.query&&(n.query=lse(n.query)),n},e}();function lse(e){return Object.keys(e).reduce(function(n,r){var t,i=e[r];return Wa(Wa({},n),(t={},t[r]=Array.isArray(i)?PT(i):i,t))},{})}function IT(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var qt=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,use)},use=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function ls(e){var n,r,t=[];try{for(var i=IT(Object.keys(e).sort()),a=i.next();!a.done;a=i.next()){var s=a.value,c=e[s];if(s=qt(s),Array.isArray(c))for(var d=0,o=c.length;d<o;d++)t.push(s+"="+qt(c[d]));else{var l=s;(c||typeof c=="string")&&(l+="="+qt(c)),t.push(l)}}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t.join("&")}function NT(e){return e===void 0&&(e=0),new Promise(function(n,r){e&&setTimeout(function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",r(t)},e)})}var Dn=function(){function e(n){var r=n===void 0?{}:n,t=r.requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(n,r){var t=r===void 0?{}:r,i=t.abortSignal,a=this.requestTimeout;if(i?.aborted){var s=new Error("Request aborted");return s.name="AbortError",Promise.reject(s)}var c=n.path;if(n.query){var d=ls(n.query);d&&(c+="?"+d)}var o=n.port,l=n.method,f=n.protocol+"//"+n.hostname+(o?":"+o:"")+c,m=l==="GET"||l==="HEAD"?void 0:n.body,p={body:m,headers:new Headers(n.headers),method:l};typeof AbortController<"u"&&(p.signal=i);var v=new Request(f,p),h=[fetch(v).then(function(y){var g,w,b=y.headers,E={};try{for(var S=TT(b.entries()),A=S.next();!A.done;A=S.next()){var I=A.value;E[I[0]]=I[1]}}catch(O){g={error:O}}finally{try{A&&!A.done&&(w=S.return)&&w.call(S)}finally{if(g)throw g.error}}var P=y.body!==void 0;return P?{response:new Ja({headers:E,statusCode:y.status,body:y.body})}:y.blob().then(function(O){return{response:new Ja({headers:E,statusCode:y.status,body:O})}})}),NT(a)];return i&&h.push(new Promise(function(y,g){i.onabort=function(){var w=new Error("Request aborted");w.name="AbortError",g(w)}})),Promise.race(h)},e}();var Ui={},fs=new Array(64);for(Ze=0,Li=65,pd=90;Ze+Li<=pd;Ze++)gt=String.fromCharCode(Ze+Li),Ui[gt]=Ze,fs[Ze]=gt;var gt,Ze,Li,pd;for(Ze=0,Li=97,pd=122;Ze+Li<=pd;Ze++)gt=String.fromCharCode(Ze+Li),Bi=Ze+26,Ui[gt]=Bi,fs[Bi]=gt;var gt,Bi,Ze,Li,pd;for(Ze=0;Ze<10;Ze++)Ui[Ze.toString(10)]=Ze+52,gt=Ze.toString(10),Bi=Ze+52,Ui[gt]=Bi,fs[Bi]=gt;var gt,Bi,Ze;Ui["+"]=62;fs[62]="+";Ui["/"]=63;fs[63]="/";var us=6,md=8,fse=63;function gn(e){var n=e.length/4*3;e.substr(-2)==="=="?n-=2:e.substr(-1)==="="&&n--;for(var r=new ArrayBuffer(n),t=new DataView(r),i=0;i<e.length;i+=4){for(var a=0,s=0,c=i,d=i+3;c<=d;c++)e[c]!=="="?(a|=Ui[e[c]]<<(d-c)*us,s+=us):a>>=us;var o=i/4*3;a>>=s%md;for(var l=Math.floor(s/md),f=0;f<l;f++){var m=(l-f-1)*md;t.setUint8(o+f,(a&255<<m)>>m)}}return new Uint8Array(r)}function kn(e){for(var n="",r=0;r<e.length;r+=3){for(var t=0,i=0,a=r,s=Math.min(r+3,e.length);a<s;a++)t|=e[a]<<(s-a-1)*md,i+=md;var c=Math.ceil(i/us);t<<=c*us-i;for(var d=1;d<=c;d++){var o=(c-d)*us;n+=fs[(t&fse<<o)>>o]}n+="==".slice(0,4-c)}return n}var zn=function(e){return typeof Blob=="function"&&e instanceof Blob?mse(e):pse(e)};function mse(e){return Rg(this,void 0,void 0,function(){var n,r;return Og(this,function(t){switch(t.label){case 0:return[4,vse(e)];case 1:return n=t.sent(),r=gn(n),[2,new Uint8Array(r)]}})})}function pse(e){return Rg(this,void 0,void 0,function(){var n,r,t,i,a,s,c;return Og(this,function(d){switch(d.label){case 0:n=new Uint8Array(0),r=e.getReader(),t=!1,d.label=1;case 1:return t?[3,3]:[4,r.read()];case 2:return i=d.sent(),a=i.done,s=i.value,s&&(c=n,n=new Uint8Array(c.length+s.length),n.set(c),n.set(s,c.length)),t=a,[3,1];case 3:return[2,n]}})})}function vse(e){return new Promise(function(n,r){var t=new FileReader;t.onloadend=function(){var i;if(t.readyState!==2)return r(new Error("Reader aborted too early"));var a=(i=t.result)!==null&&i!==void 0?i:"",s=a.indexOf(","),c=s>-1?s+1:a.length;n(a.substring(c))},t.onabort=function(){return r(new Error("Read aborted"))},t.onerror=function(){return r(t.error)},t.readAsDataURL(e)})}var Ln=function(e){return function(){return Promise.reject(e)}};var vd=function(){return vd=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},vd.apply(this,arguments)};function hd(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function ms(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function hse(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function RT(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(hse(arguments[n]));return e}var yse=function(e){return function(n,r){return function(t){return hd(void 0,void 0,void 0,function(){var i;return ms(this,function(a){return!((i=e?.retryStrategy)===null||i===void 0)&&i.mode&&(r.userAgent=RT(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(n,t)]})})}}},gse={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Bn=function(e){return{applyToStack:function(n){n.add(yse(e),gse)}}};var OT=100,MT=20*1e3,DT=500,kT=500,zT=5,LT=10,BT=1,Mg="amz-sdk-invocation-id",Dg="amz-sdk-request";var UT=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],FT=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],jT=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],qT=[500,502,503,504];var $T=function(e){return e.$retryable!==void 0},HT=function(e){return UT.includes(e.name)},ju=function(e){var n,r;return((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)===429||FT.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},GT=function(e){var n;return jT.includes(e.name)||qT.includes(((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)||0)};var i3=W(ps());var r3=function(e){var n=e,r=e,t=function(c){return c.name==="TimeoutError"?LT:zT},i=function(c){return t(c)<=r},a=function(c){if(!i(c))throw new Error("No retry token available");var d=t(c);return r-=d,d},s=function(c){r+=c??BT,r=Math.min(r,n)};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:a,releaseRetryTokens:s})};var t3=function(e,n){return Math.floor(Math.min(MT,Math.random()*Math.pow(2,n)*e))};var a3=function(e){return e?$T(e)||HT(e)||ju(e)||GT(e):!1};var un=3,o3="standard",s3=function(){function e(n,r){var t,i,a;this.maxAttemptsProvider=n,this.mode=o3,this.retryDecider=(t=r?.retryDecider)!==null&&t!==void 0?t:a3,this.delayDecider=(i=r?.delayDecider)!==null&&i!==void 0?i:t3,this.retryQuota=(a=r?.retryQuota)!==null&&a!==void 0?a:r3(kT)}return e.prototype.shouldRetry=function(n,r,t){return r<t&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)},e.prototype.getMaxAttempts=function(){return hd(this,void 0,void 0,function(){var n,r;return ms(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return n=t.sent(),[3,3];case 2:return r=t.sent(),n=un,[3,3];case 3:return[2,n]}})})},e.prototype.retry=function(n,r){return hd(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l;return ms(this,function(f){switch(f.label){case 0:return i=0,a=0,[4,this.getMaxAttempts()];case 1:s=f.sent(),c=r.request,ae.isInstance(c)&&(c.headers[Mg]=(0,i3.v4)()),d=function(){var m,p,v,h,y;return ms(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,5]),ae.isInstance(c)&&(c.headers[Dg]="attempt="+(i+1)+"; max="+s),[4,n(r)];case 1:return m=g.sent(),p=m.response,v=m.output,o.retryQuota.releaseRetryTokens(t),v.$metadata.attempts=i+1,v.$metadata.totalRetryDelay=a,[2,{value:{response:p,output:v}}];case 2:return h=g.sent(),i++,o.shouldRetry(h,i,s)?(t=o.retryQuota.retrieveRetryTokens(h),y=o.delayDecider(ju(h)?DT:OT,i),a+=y,[4,new Promise(function(w){return setTimeout(w,y)})]):[3,4];case 3:return g.sent(),[2,"continue"];case 4:throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=i,h.$metadata.totalRetryDelay=a,h;case 5:return[2]}})},o=this,f.label=2;case 2:return[5,d()];case 3:return l=f.sent(),typeof l=="object"?[2,l.value]:[3,2];case 4:return[2]}})})},e}();var Un=function(e){var n=Tse(e.maxAttempts);return vd(vd({},e),{maxAttempts:n,retryStrategy:e.retryStrategy||new s3(n)})},Tse=function(e){if(e===void 0&&(e=un),typeof e=="number"){var n=Promise.resolve(e);return function(){return n}}return e};function Fn(e){if(typeof e=="string"){for(var n=e.length,r=n-1;r>=0;r--){var t=e.charCodeAt(r);t>127&&t<=2047?n++:t>2047&&t<=65535&&(n+=2)}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}function c3(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function d3(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var l3=W(Gg()),jn=function(e){var n=e.serviceId,r=e.clientVersion;return function(){return c3(void 0,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f;return d3(this,function(m){return t=!((a=window?.navigator)===null||a===void 0)&&a.userAgent?l3.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+(((s=t?.os)===null||s===void 0?void 0:s.name)||"other"),(c=t?.os)===null||c===void 0?void 0:c.version],["lang/js"],["md/browser",((o=(d=t?.browser)===null||d===void 0?void 0:d.name)!==null&&o!==void 0?o:"unknown")+"_"+((f=(l=t?.browser)===null||l===void 0?void 0:l.version)!==null&&f!==void 0?f:"unknown")]],n&&i.push(["api/"+n,r]),[2,i]})})}};var qu=W(hr());var u3="logs.{region}.amazonaws.com",Pse="logs.{region}.amazonaws.com.cn",Ise="logs.{region}.c2s.ic.gov",Nse="logs.{region}.sc2s.sgov.gov",Rse="logs.{region}.amazonaws.com",Ose=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Mse=new Set(["cn-north-1","cn-northwest-1"]),Dse=new Set(["us-iso-east-1"]),kse=new Set(["us-isob-east-1"]),zse=new Set(["us-gov-east-1","us-gov-west-1"]),f3=function(e,n){var r=void 0;switch(e){case"af-south-1":r={hostname:"logs.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"logs.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"logs.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"logs.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"logs.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"logs.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"logs.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"logs.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"logs.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"logs.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"logs.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"logs.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"logs.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"logs.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"logs.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"logs.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"logs-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"logs-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":r={hostname:"logs-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":r={hostname:"logs-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":r={hostname:"logs.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":r={hostname:"logs.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"logs.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"logs.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"logs.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":r={hostname:"logs.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":r={hostname:"logs.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"logs.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"logs.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"logs.us-west-2.amazonaws.com",partition:"aws"};break;default:Ose.has(e)&&(r={hostname:u3.replace("{region}",e),partition:"aws"}),Mse.has(e)&&(r={hostname:Pse.replace("{region}",e),partition:"aws-cn"}),Dse.has(e)&&(r={hostname:Ise.replace("{region}",e),partition:"aws-iso"}),kse.has(e)&&(r={hostname:Nse.replace("{region}",e),partition:"aws-iso-b"}),zse.has(e)&&(r={hostname:Rse.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:u3.replace("{region}",e),partition:"aws"})}return Promise.resolve(u({signingService:"logs"},r))};function m3(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function p3(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function v3(e){var n,r,t={};if(e=e.replace(/^\?/,""),e)try{for(var i=m3(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value,c=p3(s.split("="),2),d=c[0],o=c[1],l=o===void 0?null:o;d=decodeURIComponent(d),l&&(l=decodeURIComponent(l)),d in t?Array.isArray(t[d])?t[d].push(l):t[d]=[t[d],l]:t[d]=l}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t}var qn=function(e){var n=new URL(e),r=n.hostname,t=n.pathname,i=n.port,a=n.protocol,s=n.search,c;return s&&(c=v3(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:t,query:c}};var Vg={apiVersion:"2014-03-28",disableHostPrefix:!1,logger:{},regionInfoProvider:f3,serviceId:"CloudWatch Logs",urlParser:qn};var y3=u(u({},Vg),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:Vg.serviceId,clientVersion:jA.version}),maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:h3.Sha256,streamCollector:zn,utf8Decoder:qu.fromUtf8,utf8Encoder:qu.toUtf8});var Xa=function(){return Xa=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Xa.apply(this,arguments)};function g3(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function w3(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var $n=function(e){var n;return Xa(Xa({},e),{tls:(n=e.tls)!==null&&n!==void 0?n:!0,endpoint:e.endpoint?Lse(e):function(){return Bse(e)},isCustomEndpoint:!!e.endpoint})},Lse=function(e){var n=e.endpoint,r=e.urlParser;if(typeof n=="string"){var t=Promise.resolve(r(n));return function(){return t}}else if(typeof n=="object"){var i=Promise.resolve(n);return function(){return i}}return n},Bse=function(e){return g3(void 0,void 0,void 0,function(){var n,r,t,i,a,s;return w3(this,function(c){switch(c.label){case 0:return n=e.tls,r=n===void 0?!0:n,[4,e.region()];case 1:if(t=c.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(t))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(t)];case 2:if(a=((s=c.sent())!==null&&s!==void 0?s:{}).hostname,!a)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+a)]}})})};var Hn=function(e){if(!e.region)throw new Error("Region is missing");return Xa(Xa({},e),{region:Use(e.region)})},Use=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}return e};var Fi=function(){return Fi=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Fi.apply(this,arguments)};function b3(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function E3(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var _3="content-length";function Fse(e){var n=this;return function(r){return function(t){return b3(n,void 0,void 0,function(){var i,a,s,c,d;return E3(this,function(o){return i=t.request,ae.isInstance(i)&&(a=i.body,s=i.headers,a&&Object.keys(s).map(function(l){return l.toLowerCase()}).indexOf(_3)===-1&&(c=e(a),c!==void 0&&(i.headers=Fi(Fi({},i.headers),(d={},d[_3]=String(c),d))))),[2,r(Fi(Fi({},t),{request:i}))]})})}}}var jse={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Gn=function(e){return{applyToStack:function(n){n.add(Fse(e.bodyLengthChecker),jse)}}};function S3(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function x3(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var qse=function(e){return function(n){return function(r){return S3(void 0,void 0,void 0,function(){var t,i,a;return x3(this,function(s){return ae.isInstance(r.request)?(t=r.request,i=(e.requestHandler.metadata||{}).handlerProtocol,a=i===void 0?"":i,a.indexOf("h2")>=0&&!t.headers[":authority"]?(delete t.headers.host,t.headers[":authority"]=""):t.headers.host||(t.headers.host=t.hostname),[2,n(r)]):[2,n(r)]})})}}},$se={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Vn=function(e){return{applyToStack:function(n){n.add(qse(e),$se)}}};function C3(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function A3(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function T3(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var Hse=function(){return function(e,n){return function(r){return A3(void 0,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f;return T3(this,function(m){switch(m.label){case 0:return t=n.clientName,i=n.commandName,a=n.inputFilterSensitiveLog,s=n.logger,c=n.outputFilterSensitiveLog,[4,e(r)];case 1:return d=m.sent(),s?(typeof s.info=="function"&&(o=d.output,l=o.$metadata,f=C3(o,["$metadata"]),s.info({clientName:t,commandName:i,input:a(r.input),output:c(f),metadata:l})),[2,d]):[2,d]}})})}}},Gse={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Kn=function(e){return{applyToStack:function(n){n.add(Hse(),Gse)}}};var Ya=function(){return Ya=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Ya.apply(this,arguments)};function $u(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function Hu(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function P3(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}var wt=function(){return wt=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},wt.apply(this,arguments)};function I3(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function nt(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function rt(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function yr(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vse(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function N3(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Vse(arguments[n]));return e}var R3="X-Amz-Algorithm",O3="X-Amz-Credential",Kg="X-Amz-Date",M3="X-Amz-SignedHeaders",D3="X-Amz-Expires",Jg="X-Amz-Signature",Wg="X-Amz-Security-Token",Xg="authorization",Yg=Kg.toLowerCase(),Kse="date",k3=[Xg,Yg,Kse],z3=Jg.toLowerCase(),wd="x-amz-content-sha256",L3=Wg.toLowerCase();var B3={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},U3=/^proxy-/,F3=/^sec-/;var Gu="AWS4-HMAC-SHA256",j3="AWS4-HMAC-SHA256-PAYLOAD",q3="UNSIGNED-PAYLOAD",$3=50,Qg="aws4_request",H3=60*60*24*7;var Vu={},Zg=[];function Ku(e,n,r){return e+"/"+n+"/"+r+"/"+Qg}var V3=function(e,n,r,t,i){return nt(void 0,void 0,void 0,function(){var a,s,c,d,o,l,f,m,p;return rt(this,function(v){switch(v.label){case 0:return[4,G3(e,n.secretAccessKey,n.accessKeyId)];case 1:if(a=v.sent(),s=r+":"+t+":"+i+":"+Qe(a)+":"+n.sessionToken,s in Vu)return[2,Vu[s]];for(Zg.push(s);Zg.length>$3;)delete Vu[Zg.shift()];c="AWS4"+n.secretAccessKey,v.label=2;case 2:v.trys.push([2,7,8,9]),d=yr([r,t,i,Qg]),o=d.next(),v.label=3;case 3:return o.done?[3,6]:(l=o.value,[4,G3(e,c,l)]);case 4:c=v.sent(),v.label=5;case 5:return o=d.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),m={error:f},[3,9];case 8:try{o&&!o.done&&(p=d.return)&&p.call(d)}finally{if(m)throw m.error}return[7];case 9:return[2,Vu[s]=c]}})})};function G3(e,n,r){var t=new e(n);return t.update(r),t.digest()}function e0(e,n,r){var t,i,a=e.headers,s={};try{for(var c=yr(Object.keys(a).sort()),d=c.next();!d.done;d=c.next()){var o=d.value,l=o.toLowerCase();(l in B3||n?.has(l)||U3.test(l)||F3.test(l))&&(!r||r&&!r.has(l))||(s[l]=a[o].trim().replace(/\s+/g," "))}}catch(f){t={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}return s}function K3(e){var n,r,t=e.query,i=t===void 0?{}:t,a=[],s={},c=function(f){if(f.toLowerCase()===z3)return"continue";a.push(f);var m=i[f];typeof m=="string"?s[f]=qt(f)+"="+qt(m):Array.isArray(m)&&(s[f]=m.slice(0).sort().reduce(function(p,v){return p.concat([qt(f)+"="+qt(v)])},[]).join("&"))};try{for(var d=yr(Object.keys(i).sort()),o=d.next();!o.done;o=d.next()){var l=o.value;c(l)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return a.map(function(f){return s[f]}).filter(function(f){return f}).join("&")}var J3=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function Ju(e,n){var r=e.headers,t=e.body;return nt(this,void 0,void 0,function(){var i,a,s,c,d,o,l;return rt(this,function(f){switch(f.label){case 0:try{for(i=yr(Object.keys(r)),a=i.next();!a.done;a=i.next())if(s=a.value,s.toLowerCase()===wd)return[2,r[s]]}catch(m){o={error:m}}finally{try{a&&!a.done&&(l=i.return)&&l.call(i)}finally{if(o)throw o.error}}return t!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof t=="string"||ArrayBuffer.isView(t)||J3(t)?(c=new n,c.update(t),d=Qe,[4,c.digest()]):[3,3];case 2:return[2,d.apply(void 0,[f.sent()])];case 3:return[2,q3]}})})}function W3(e,n){var r,t;e=e.toLowerCase();try{for(var i=yr(Object.keys(n)),a=i.next();!a.done;a=i.next()){var s=a.value;if(e===s.toLowerCase())return!0}}catch(c){r={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return!1}function Wu(e){var n=e.headers,r=e.query,t=I3(e,["headers","query"]);return wt(wt({},t),{headers:wt({},n),query:r?Jse(r):void 0})}function Jse(e){return Object.keys(e).reduce(function(n,r){var t,i=e[r];return wt(wt({},n),(t={},t[r]=Array.isArray(i)?N3(i):i,t))},{})}function X3(e,n){var r,t,i;n===void 0&&(n={});var a=typeof e.clone=="function"?e.clone():Wu(e),s=a.headers,c=a.query,d=c===void 0?{}:c;try{for(var o=yr(Object.keys(s)),l=o.next();!l.done;l=o.next()){var f=l.value,m=f.toLowerCase();m.substr(0,6)==="x-amz-"&&!(!((i=n.unhoistableHeaders)===null||i===void 0)&&i.has(m))&&(d[f]=s[f],delete s[f])}}catch(p){r={error:p}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return wt(wt({},e),{headers:s,query:d})}function n0(e){var n,r;e=typeof e.clone=="function"?e.clone():Wu(e);try{for(var t=yr(Object.keys(e.headers)),i=t.next();!i.done;i=t.next()){var a=i.value;k3.indexOf(a.toLowerCase())>-1&&delete e.headers[a]}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return e}function Y3(e){return Wse(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function Wse(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var Yu=function(){function e(n){var r=n.applyChecksum,t=n.credentials,i=n.region,a=n.service,s=n.sha256,c=n.uriEscapePath,d=c===void 0?!0:c;this.service=a,this.sha256=s,this.uriEscapePath=d,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=Xse(i),this.credentialProvider=Yse(t)}return e.prototype.presign=function(n,r){return r===void 0&&(r={}),nt(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k;return rt(this,function(_){switch(_.label){case 0:return t=r.signingDate,i=t===void 0?new Date:t,a=r.expiresIn,s=a===void 0?3600:a,c=r.unsignableHeaders,d=r.unhoistableHeaders,o=r.signableHeaders,l=r.signingRegion,f=r.signingService,[4,this.credentialProvider()];case 1:return m=_.sent(),l==null?[3,2]:(v=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:v=_.sent(),_.label=4;case 4:return p=v,h=Xu(i),y=h.longDate,g=h.shortDate,s>H3?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(w=Ku(g,p,f??this.service),b=X3(n0(n),{unhoistableHeaders:d}),m.sessionToken&&(b.query[Wg]=m.sessionToken),b.query[R3]=Gu,b.query[O3]=m.accessKeyId+"/"+w,b.query[Kg]=y,b.query[D3]=s.toString(10),E=e0(b,c,o),b.query[M3]=Q3(E),S=b.query,A=Jg,I=this.getSignature,P=[y,w,this.getSigningKey(m,p,g,f)],O=this.createCanonicalRequest,k=[b,E],[4,Ju(n,this.sha256)]);case 5:return[4,I.apply(this,P.concat([O.apply(this,k.concat([_.sent()]))]))];case 6:return S[A]=_.sent(),[2,b]}})})},e.prototype.sign=function(n,r){return nt(this,void 0,void 0,function(){return rt(this,function(t){return typeof n=="string"?[2,this.signString(n,r)]:n.headers&&n.payload?[2,this.signEvent(n,r)]:[2,this.signRequest(n,r)]})})},e.prototype.signEvent=function(n,r){var t=n.headers,i=n.payload,a=r.signingDate,s=a===void 0?new Date:a,c=r.priorSignature,d=r.signingRegion,o=r.signingService;return nt(this,void 0,void 0,function(){var l,f,m,p,v,h,y,g,w,b,E;return rt(this,function(S){switch(S.label){case 0:return d==null?[3,1]:(f=d,[3,3]);case 1:return[4,this.regionProvider()];case 2:f=S.sent(),S.label=3;case 3:return l=f,m=Xu(s),p=m.shortDate,v=m.longDate,h=Ku(p,l,o??this.service),[4,Ju({headers:{},body:i},this.sha256)];case 4:return y=S.sent(),g=new this.sha256,g.update(t),b=Qe,[4,g.digest()];case 5:return w=b.apply(void 0,[S.sent()]),E=[j3,v,h,c,w,y].join(`
`),[2,this.signString(E,{signingDate:s,signingRegion:l,signingService:o})]}})})},e.prototype.signString=function(n,r){var t=r===void 0?{}:r,i=t.signingDate,a=i===void 0?new Date:i,s=t.signingRegion,c=t.signingService;return nt(this,void 0,void 0,function(){var d,o,l,f,m,p,v,h;return rt(this,function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return d=y.sent(),s==null?[3,2]:(l=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:l=y.sent(),y.label=4;case 4:return o=l,f=Xu(a).shortDate,v=(p=this.sha256).bind,[4,this.getSigningKey(d,o,f,c)];case 5:return m=new(v.apply(p,[void 0,y.sent()])),m.update(n),h=Qe,[4,m.digest()];case 6:return[2,h.apply(void 0,[y.sent()])]}})})},e.prototype.signRequest=function(n,r){var t=r===void 0?{}:r,i=t.signingDate,a=i===void 0?new Date:i,s=t.signableHeaders,c=t.unsignableHeaders,d=t.signingRegion,o=t.signingService;return nt(this,void 0,void 0,function(){var l,f,m,p,v,h,y,g,w,b,E;return rt(this,function(S){switch(S.label){case 0:return[4,this.credentialProvider()];case 1:return l=S.sent(),d==null?[3,2]:(m=d,[3,4]);case 2:return[4,this.regionProvider()];case 3:m=S.sent(),S.label=4;case 4:return f=m,p=n0(n),v=Xu(a),h=v.longDate,y=v.shortDate,g=Ku(y,f,o??this.service),p.headers[Yg]=h,l.sessionToken&&(p.headers[L3]=l.sessionToken),[4,Ju(p,this.sha256)];case 5:return w=S.sent(),!W3(wd,p.headers)&&this.applyChecksum&&(p.headers[wd]=w),b=e0(p,c,s),[4,this.getSignature(h,g,this.getSigningKey(l,f,y,o),this.createCanonicalRequest(p,b,w))];case 6:return E=S.sent(),p.headers[Xg]=Gu+" "+("Credential="+l.accessKeyId+"/"+g+", ")+("SignedHeaders="+Q3(b)+", ")+("Signature="+E),[2,p]}})})},e.prototype.createCanonicalRequest=function(n,r,t){var i=Object.keys(r).sort();return n.method+`
`+this.getCanonicalPath(n)+`
`+K3(n)+`
`+i.map(function(a){return a+":"+r[a]}).join(`
`)+`

`+i.join(";")+`
`+t},e.prototype.createStringToSign=function(n,r,t){return nt(this,void 0,void 0,function(){var i,a;return rt(this,function(s){switch(s.label){case 0:return i=new this.sha256,i.update(t),[4,i.digest()];case 1:return a=s.sent(),[2,Gu+`
`+n+`
`+r+`
`+Qe(a)]}})})},e.prototype.getCanonicalPath=function(n){var r=n.path;if(this.uriEscapePath){var t=encodeURIComponent(r.replace(/^\//,""));return"/"+t.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(n,r,t,i){return nt(this,void 0,void 0,function(){var a,s,c,d,o;return rt(this,function(l){switch(l.label){case 0:return[4,this.createStringToSign(n,r,i)];case 1:return a=l.sent(),d=(c=this.sha256).bind,[4,t];case 2:return s=new(d.apply(c,[void 0,l.sent()])),s.update(a),o=Qe,[4,s.digest()];case 3:return[2,o.apply(void 0,[l.sent()])]}})})},e.prototype.getSigningKey=function(n,r,t,i){return V3(this.sha256,n,t,r,i||this.service)},e}();var Xu=function(e){var n=Y3(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},Q3=function(e){return Object.keys(e).sort().join(";")},Xse=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}else return e},Yse=function(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}else return e};function Jn(e){var n=this,r=e.credentials||e.credentialDefaultProvider(e),t=r0(r),i=e.signingEscapePath,a=i===void 0?!0:i,s=e.systemClockOffset,c=s===void 0?e.systemClockOffset||0:s,d=e.sha256,o;return e.signer?o=r0(e.signer):o=function(){return r0(e.region)().then(function(l){return $u(n,void 0,void 0,function(){return Hu(this,function(f){switch(f.label){case 0:return[4,e.regionInfoProvider(l)];case 1:return[2,[f.sent()||{},l]]}})})}).then(function(l){var f=P3(l,2),m=f[0],p=f[1],v=m.signingRegion,h=m.signingService;return e.signingRegion=e.signingRegion||v||p,e.signingName=e.signingName||h||e.serviceId,new Yu({credentials:t,region:e.signingRegion,service:e.signingName,sha256:d,uriEscapePath:a})})},Ya(Ya({},e),{systemClockOffset:c,signingEscapePath:a,credentials:t,signer:o})}function r0(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}return e}var Qse=function(e,n){return Math.abs(Zse(n).getTime()-e)>=3e5},Zse=function(e){return new Date(Date.now()+e)};function ece(e){return function(n,r){return function(t){return $u(this,void 0,void 0,function(){var i,a,s,c,d,o,l,f,m;return Hu(this,function(p){switch(p.label){case 0:return ae.isInstance(t.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,n(t)];case 1:return a=p.sent(),[3,3];case 2:a=e.signer,p.label=3;case 3:return i=a,c=n,d=[Ya({},t)],m={},[4,i.sign(t.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 4:return[4,c.apply(void 0,[Ya.apply(void 0,d.concat([(m.request=p.sent(),m)]))])];case 5:return s=p.sent(),o=s.response.headers,l=o&&(o.date||o.Date),l&&(f=Date.parse(l),Qse(f,e.systemClockOffset)&&(e.systemClockOffset=f-Date.now())),[2,s]}})})}}}var nce={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},gr=function(e){return{applyToStack:function(n){n.addRelativeTo(ece(e),nce)}}};var Qa=function(){return Qa=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Qa.apply(this,arguments)};function Z3(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function eP(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function t0(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function a0(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(t0(arguments[n]));return e}function Wn(e){return Qa(Qa({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var Qu="user-agent",nP="x-amz-user-agent",i0=" ",rP=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var rce=function(e){return function(n,r){return function(t){return Z3(void 0,void 0,void 0,function(){var i,a,s,c,d,o,l,f;return eP(this,function(m){switch(m.label){case 0:return i=t.request,ae.isInstance(i)?(a=i.headers,s=((l=r?.userAgent)===null||l===void 0?void 0:l.map(o0))||[],[4,e.defaultUserAgentProvider()]):[2,n(t)];case 1:return c=m.sent().map(o0),d=((f=e?.customUserAgent)===null||f===void 0?void 0:f.map(o0))||[],a[nP]=a0(c,s,d).join(i0),o=a0(c.filter(function(p){return p.startsWith("aws-sdk-")}),d).join(i0),e.runtime!=="browser"&&o&&(a[Qu]=a[Qu]?a[Qu]+" "+o:o),[2,n(Qa(Qa({},t),{request:i}))]}})})}}},o0=function(e){var n=t0(e,2),r=n[0],t=n[1],i=r.indexOf("/"),a=r.substring(0,i),s=r.substring(i+1);return a==="api"&&(s=s.toLowerCase()),[a,s,t].filter(function(c){return c&&c.length>0}).map(function(c){return c?.replace(rP,"_")}).join("/")},tce={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Xn=function(e){return{applyToStack:function(n){n.add(rce(e),tce)}}};var bt=function(){return bt=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},bt.apply(this,arguments)};function tP(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ace(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function Zu(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(ace(arguments[n]));return e}var vs=function(){var e=[],n=[],r=new Set,t=function(l){return l.sort(function(f,m){return aP[m.step]-aP[f.step]||iP[m.priority||"normal"]-iP[f.priority||"normal"]})},i=function(l){var f=!1,m=function(p){return p.name&&p.name===l?(f=!0,r.delete(l),!1):!0};return e=e.filter(m),n=n.filter(m),f},a=function(l){var f=!1,m=function(p){return p.middleware===l?(f=!0,p.name&&r.delete(p.name),!1):!0};return e=e.filter(m),n=n.filter(m),f},s=function(l){return e.forEach(function(f){l.add(f.middleware,bt({},f))}),n.forEach(function(f){l.addRelativeTo(f.middleware,bt({},f))}),l},c=function(l){var f=[];return l.before.forEach(function(m){m.before.length===0&&m.after.length===0?f.push(m):f.push.apply(f,Zu(c(m)))}),f.push(l),l.after.reverse().forEach(function(m){m.before.length===0&&m.after.length===0?f.push(m):f.push.apply(f,Zu(c(m)))}),f},d=function(){var l=[],f=[],m={};e.forEach(function(v){var h=bt(bt({},v),{before:[],after:[]});h.name&&(m[h.name]=h),l.push(h)}),n.forEach(function(v){var h=bt(bt({},v),{before:[],after:[]});h.name&&(m[h.name]=h),f.push(h)}),f.forEach(function(v){if(v.toMiddleware){var h=m[v.toMiddleware];if(h===void 0)throw new Error(v.toMiddleware+" is not found when adding "+(v.name||"anonymous")+" middleware "+v.relation+" "+v.toMiddleware);v.relation==="after"&&h.after.push(v),v.relation==="before"&&h.before.push(v)}});var p=t(l).map(c).reduce(function(v,h){return v.push.apply(v,Zu(h)),v},[]);return p.map(function(v){return v.middleware})},o={add:function(l,f){f===void 0&&(f={});var m=f.name,p=f.override,v=bt({step:"initialize",priority:"normal",middleware:l},f);if(m){if(r.has(m)){if(!p)throw new Error("Duplicate middleware name '"+m+"'");var h=e.findIndex(function(g){return g.name===m}),y=e[h];if(y.step!==v.step||y.priority!==v.priority)throw new Error('"'+m+'" middleware with '+y.priority+" priority in "+y.step+" step cannot be "+("overridden by same-name middleware with "+v.priority+" priority in "+v.step+" step."));e.splice(h,1)}r.add(m)}e.push(v)},addRelativeTo:function(l,f){var m=f.name,p=f.override,v=bt({middleware:l},f);if(m){if(r.has(m)){if(!p)throw new Error("Duplicate middleware name '"+m+"'");var h=n.findIndex(function(g){return g.name===m}),y=n[h];if(y.toMiddleware!==v.toMiddleware||y.relation!==v.relation)throw new Error('"'+m+'" middleware '+y.relation+' "'+y.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+v.relation+' "'+v.toMiddleware+'" middleware.'));n.splice(h,1)}r.add(m)}n.push(v)},clone:function(){return s(vs())},use:function(l){l.applyToStack(o)},remove:function(l){return typeof l=="string"?i(l):a(l)},removeByTag:function(l){var f=!1,m=function(p){var v=p.tags,h=p.name;return v&&v.includes(l)?(h&&r.delete(h),f=!0,!1):!0};return e=e.filter(m),n=n.filter(m),f},concat:function(l){var f=s(vs());return f.use(l),f},applyToStack:s,resolve:function(l,f){var m,p;try{for(var v=tP(d().reverse()),h=v.next();!h.done;h=v.next()){var y=h.value;l=y(l,f)}}catch(g){m={error:g}}finally{try{h&&!h.done&&(p=v.return)&&p.call(v)}finally{if(m)throw m.error}}return l}};return o},aP={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},iP={high:3,normal:2,low:1};var Yn=function(){function e(n){this.middlewareStack=vs(),this.config=n}return e.prototype.send=function(n,r,t){var i=typeof r!="function"?r:void 0,a=typeof r=="function"?r:t,s=n.resolveMiddleware(this.middlewareStack,this.config,i);if(a)s(n).then(function(c){return a(null,c.output)},function(c){return a(c)}).catch(function(){});else return s(n).then(function(c){return c.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}();var ee=function(){function e(){this.middlewareStack=vs()}return e}();function be(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16)})}var hs=function(e){return Array.isArray(e)?e:[e]};var s0=function(e){var n="#text";for(var r in e)e.hasOwnProperty(r)&&e[r][n]!==void 0?e[r]=e[r][n]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=s0(e[r]));return e};var c0=function(e,n){return c0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},c0(e,n)};function oP(e,n){c0(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function ice(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function sP(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(ice(arguments[n]));return e}var ef=function(){var e=Object.getPrototypeOf(this).constructor,n=Function.bind.apply(String,sP([null],arguments)),r=new n;return Object.setPrototypeOf(r,e.prototype),r};ef.prototype=Object.create(String.prototype,{constructor:{value:ef,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(ef,String);var Et=function(e){oP(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},n.prototype.toJSON=function(){return e.prototype.toString.call(this)},n.fromObject=function(r){return r instanceof n?r:r instanceof String||typeof r=="string"?new n(r):new n(JSON.stringify(r))},n}(ef);var oce=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],sce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Za(e){var n=e.getUTCFullYear(),r=e.getUTCMonth(),t=e.getUTCDay(),i=e.getUTCDate(),a=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),d=i<10?"0"+i:""+i,o=a<10?"0"+a:""+a,l=s<10?"0"+s:""+s,f=c<10?"0"+c:""+c;return oce[t]+", "+d+" "+sce[r]+" "+n+" "+o+":"+l+":"+f+" GMT"}var X="***SensitiveInformation***";var cP=function(e){J(n,e);function n(r){var t=this,i=u(u({},y3),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var dP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dP||(dP={}));var lP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lP||(lP={}));var uP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uP||(uP={}));var fP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fP||(fP={}));var mP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mP||(mP={}));var pP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pP||(pP={}));var vP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vP||(vP={}));var hP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hP||(hP={}));var yP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yP||(yP={}));var gP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gP||(gP={}));var wP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wP||(wP={}));var nf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nf||(nf={}));var rf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rf||(rf={}));var bP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bP||(bP={}));var EP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EP||(EP={}));var _P;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_P||(_P={}));var SP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SP||(SP={}));var xP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xP||(xP={}));var CP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CP||(CP={}));var AP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AP||(AP={}));var TP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TP||(TP={}));var PP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PP||(PP={}));var IP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IP||(IP={}));var NP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NP||(NP={}));var RP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RP||(RP={}));var OP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OP||(OP={}));var MP;(function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PENDING="PENDING",e.PENDING_CANCEL="PENDING_CANCEL",e.RUNNING="RUNNING"})(MP||(MP={}));var DP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DP||(DP={}));var kP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kP||(kP={}));var zP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zP||(zP={}));var LP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LP||(LP={}));var BP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BP||(BP={}));var tf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tf||(tf={}));var UP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UP||(UP={}));var af;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(af||(af={}));var FP;(function(e){e.LastEventTime="LastEventTime",e.LogStreamName="LogStreamName"})(FP||(FP={}));var of;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(of||(of={}));var jP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jP||(jP={}));var sf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sf||(sf={}));var qP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qP||(qP={}));var $P;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($P||($P={}));var HP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HP||(HP={}));var GP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GP||(GP={}));var VP;(function(e){e.Cancelled="Cancelled",e.Complete="Complete",e.Failed="Failed",e.Running="Running",e.Scheduled="Scheduled"})(VP||(VP={}));var KP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KP||(KP={}));var JP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JP||(JP={}));var WP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WP||(WP={}));var XP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XP||(XP={}));var YP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(YP||(YP={}));var QP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QP||(QP={}));var ZP;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZP||(ZP={}));var eI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(eI||(eI={}));var nI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nI||(nI={}));var rI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rI||(rI={}));var tI;(function(e){e.ByLogStream="ByLogStream",e.Random="Random"})(tI||(tI={}));var aI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aI||(aI={}));var iI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iI||(iI={}));var oI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oI||(oI={}));var sI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sI||(sI={}));var cI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cI||(cI={}));var dI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dI||(dI={}));var lI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lI||(lI={}));var cf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cf||(cf={}));var uI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uI||(uI={}));var df;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(df||(df={}));var fI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fI||(fI={}));var mI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mI||(mI={}));var pI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pI||(pI={}));var vI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vI||(vI={}));var hI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hI||(hI={}));var yI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yI||(yI={}));var gI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gI||(gI={}));var wI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wI||(wI={}));var bI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bI||(bI={}));var EI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EI||(EI={}));var _I;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_I||(_I={}));var SI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SI||(SI={}));var xI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xI||(xI={}));var CI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CI||(CI={}));var AI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AI||(AI={}));var TI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TI||(TI={}));var lf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lf||(lf={}));var PI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PI||(PI={}));var uf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uf||(uf={}));var II;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(II||(II={}));var NI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NI||(NI={}));var RI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RI||(RI={}));var OI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OI||(OI={}));var MI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MI||(MI={}));var DI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DI||(DI={}));var kI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kI||(kI={}));var zI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zI||(zI={}));var LI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LI||(LI={}));var BI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BI||(BI={}));var UI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UI||(UI={}));var FI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FI||(FI={}));var jI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jI||(jI={}));var qI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qI||(qI={}));var $I;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($I||($I={}));var HI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HI||(HI={}));var GI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GI||(GI={}));var VI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VI||(VI={}));var KI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KI||(KI={}));var JI;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JI||(JI={}));var WI=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogGroup"},t=JSON.stringify(wce(e,n)),[2,ws(n,r,"/",void 0,t)]})})},XI=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.CreateLogStream"},t=JSON.stringify(bce(e,n)),[2,ws(n,r,"/",void 0,t)]})})};var YI=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogGroups"},t=JSON.stringify(Ece(e,n)),[2,ws(n,r,"/",void 0,t)]})})},QI=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.DescribeLogStreams"},t=JSON.stringify(_ce(e,n)),[2,ws(n,r,"/",void 0,t)]})})};var ZI=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.GetLogEvents"},t=JSON.stringify(Sce(e,n)),[2,ws(n,r,"/",void 0,t)]})})};var eN=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Logs_20140328.PutLogEvents"},t=JSON.stringify(Ace(e,n)),[2,ws(n,r,"/",void 0,t)]})})};var nN=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode>=300?[2,cce(e,n)]:[4,d0(e.body,n)];case 1:return t.sent(),r={$metadata:ce(e)},[2,Promise.resolve(r)]}})})},cce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v;return N(this,function(h){switch(h.label){case 0:return t=[u({},e)],v={},[4,$t(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(v.body=h.sent(),v)])),a="UnknownError",a=bs(e,r.body),s=a,s){case"InvalidParameterException":return[3,2];case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"LimitExceededException":return[3,4];case"com.amazonaws.cloudwatchlogs#LimitExceededException":return[3,4];case"OperationAbortedException":return[3,6];case"com.amazonaws.cloudwatchlogs#OperationAbortedException":return[3,6];case"ResourceAlreadyExistsException":return[3,8];case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,8];case"ServiceUnavailableException":return[3,10];case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ys(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([h.sent()])),{name:a,$metadata:ce(e)}]),[3,13];case 4:return d=[{}],[4,hce(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([h.sent()])),{name:a,$metadata:ce(e)}]),[3,13];case 6:return o=[{}],[4,yce(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([h.sent()])),{name:a,$metadata:ce(e)}]),[3,13];case 8:return l=[{}],[4,sN(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([h.sent()])),{name:a,$metadata:ce(e)}]),[3,13];case 10:return f=[{}],[4,gs(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([h.sent()])),{name:a,$metadata:ce(e)}]),[3,13];case 12:m=r.body,a=m.code||m.Code||a,i=u(u({},m),{name:""+a,message:m.message||m.Message||a,$fault:"client",$metadata:ce(e)}),h.label=13;case 13:return p=i.message||i.Message||a,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}})})},rN=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode>=300?[2,dce(e,n)]:[4,d0(e.body,n)];case 1:return t.sent(),r={$metadata:ce(e)},[2,Promise.resolve(r)]}})})},dce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p;return N(this,function(v){switch(v.label){case 0:return t=[u({},e)],p={},[4,$t(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(p.body=v.sent(),p)])),a="UnknownError",a=bs(e,r.body),s=a,s){case"InvalidParameterException":return[3,2];case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceAlreadyExistsException":return[3,4];case"com.amazonaws.cloudwatchlogs#ResourceAlreadyExistsException":return[3,4];case"ResourceNotFoundException":return[3,6];case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":return[3,8];case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return c=[{}],[4,ys(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([v.sent()])),{name:a,$metadata:ce(e)}]),[3,11];case 4:return d=[{}],[4,sN(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([v.sent()])),{name:a,$metadata:ce(e)}]),[3,11];case 6:return o=[{}],[4,ff(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([v.sent()])),{name:a,$metadata:ce(e)}]),[3,11];case 8:return l=[{}],[4,gs(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([v.sent()])),{name:a,$metadata:ce(e)}]),[3,11];case 10:f=r.body,a=f.code||f.Code||a,i=u(u({},f),{name:""+a,message:f.message||f.Message||a,$fault:"client",$metadata:ce(e)}),v.label=11;case 11:return m=i.message||i.Message||a,i.message=m,delete i.Message,[2,Promise.reject(Object.assign(new Error(m),i))]}})})};var tN=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,lce(e,n)]:[4,$t(e.body,n)];case 1:return r=a.sent(),t={},t=Ice(r,n),i=u({$metadata:ce(e)},t),[2,Promise.resolve(i)]}})})},lce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:return t=[u({},e)],f={},[4,$t(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(f.body=m.sent(),f)])),a="UnknownError",a=bs(e,r.body),s=a,s){case"InvalidParameterException":return[3,2];case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ServiceUnavailableException":return[3,4];case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,4]}return[3,6];case 2:return c=[{}],[4,ys(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([m.sent()])),{name:a,$metadata:ce(e)}]),[3,7];case 4:return d=[{}],[4,gs(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([m.sent()])),{name:a,$metadata:ce(e)}]),[3,7];case 6:o=r.body,a=o.code||o.Code||a,i=u(u({},o),{name:""+a,message:o.message||o.Message||a,$fault:"client",$metadata:ce(e)}),m.label=7;case 7:return l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}})})},aN=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,uce(e,n)]:[4,$t(e.body,n)];case 1:return r=a.sent(),t={},t=Nce(r,n),i=u({$metadata:ce(e)},t),[2,Promise.resolve(i)]}})})},uce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:return t=[u({},e)],m={},[4,$t(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(m.body=p.sent(),m)])),a="UnknownError",a=bs(e,r.body),s=a,s){case"InvalidParameterException":return[3,2];case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":return[3,4];case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":return[3,6];case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return c=[{}],[4,ys(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([p.sent()])),{name:a,$metadata:ce(e)}]),[3,9];case 4:return d=[{}],[4,ff(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([p.sent()])),{name:a,$metadata:ce(e)}]),[3,9];case 6:return o=[{}],[4,gs(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([p.sent()])),{name:a,$metadata:ce(e)}]),[3,9];case 8:l=r.body,a=l.code||l.Code||a,i=u(u({},l),{name:""+a,message:l.message||l.Message||a,$fault:"client",$metadata:ce(e)}),p.label=9;case 9:return f=i.message||i.Message||a,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}})})};var iN=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,fce(e,n)]:[4,$t(e.body,n)];case 1:return r=a.sent(),t={},t=Rce(r,n),i=u({$metadata:ce(e)},t),[2,Promise.resolve(i)]}})})},fce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:return t=[u({},e)],m={},[4,$t(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(m.body=p.sent(),m)])),a="UnknownError",a=bs(e,r.body),s=a,s){case"InvalidParameterException":return[3,2];case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,2];case"ResourceNotFoundException":return[3,4];case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,4];case"ServiceUnavailableException":return[3,6];case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,6]}return[3,8];case 2:return c=[{}],[4,ys(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([p.sent()])),{name:a,$metadata:ce(e)}]),[3,9];case 4:return d=[{}],[4,ff(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([p.sent()])),{name:a,$metadata:ce(e)}]),[3,9];case 6:return o=[{}],[4,gs(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([p.sent()])),{name:a,$metadata:ce(e)}]),[3,9];case 8:l=r.body,a=l.code||l.Code||a,i=u(u({},l),{name:""+a,message:l.message||l.Message||a,$fault:"client",$metadata:ce(e)}),p.label=9;case 9:return f=i.message||i.Message||a,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}})})};var oN=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,mce(e,n)]:[4,$t(e.body,n)];case 1:return r=a.sent(),t={},t=qce(r,n),i=u({$metadata:ce(e)},t),[2,Promise.resolve(i)]}})})},mce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h;return N(this,function(y){switch(y.label){case 0:return t=[u({},e)],h={},[4,$t(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(h.body=y.sent(),h)])),a="UnknownError",a=bs(e,r.body),s=a,s){case"DataAlreadyAcceptedException":return[3,2];case"com.amazonaws.cloudwatchlogs#DataAlreadyAcceptedException":return[3,2];case"InvalidParameterException":return[3,4];case"com.amazonaws.cloudwatchlogs#InvalidParameterException":return[3,4];case"InvalidSequenceTokenException":return[3,6];case"com.amazonaws.cloudwatchlogs#InvalidSequenceTokenException":return[3,6];case"ResourceNotFoundException":return[3,8];case"com.amazonaws.cloudwatchlogs#ResourceNotFoundException":return[3,8];case"ServiceUnavailableException":return[3,10];case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":return[3,10];case"UnrecognizedClientException":return[3,12];case"com.amazonaws.cloudwatchlogs#UnrecognizedClientException":return[3,12]}return[3,14];case 2:return c=[{}],[4,pce(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([y.sent()])),{name:a,$metadata:ce(e)}]),[3,15];case 4:return d=[{}],[4,ys(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([y.sent()])),{name:a,$metadata:ce(e)}]),[3,15];case 6:return o=[{}],[4,vce(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([y.sent()])),{name:a,$metadata:ce(e)}]),[3,15];case 8:return l=[{}],[4,ff(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([y.sent()])),{name:a,$metadata:ce(e)}]),[3,15];case 10:return f=[{}],[4,gs(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([y.sent()])),{name:a,$metadata:ce(e)}]),[3,15];case 12:return m=[{}],[4,gce(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([y.sent()])),{name:a,$metadata:ce(e)}]),[3,15];case 14:p=r.body,a=p.code||p.Code||a,i=u(u({},p),{name:""+a,message:p.message||p.Message||a,$fault:"client",$metadata:ce(e)}),y.label=15;case 15:return v=i.message||i.Message||a,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}})})};var pce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Pce(r,n),i=u({name:"DataAlreadyAcceptedException",$fault:"client",$metadata:ce(e)},t),[2,i]})})};var ys=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Oce(r,n),i=u({name:"InvalidParameterException",$fault:"client",$metadata:ce(e)},t),[2,i]})})},vce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Mce(r,n),i=u({name:"InvalidSequenceTokenException",$fault:"client",$metadata:ce(e)},t),[2,i]})})},hce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Dce(r,n),i=u({name:"LimitExceededException",$fault:"client",$metadata:ce(e)},t),[2,i]})})};var yce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Uce(r,n),i=u({name:"OperationAbortedException",$fault:"client",$metadata:ce(e)},t),[2,i]})})},sN=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Hce(r,n),i=u({name:"ResourceAlreadyExistsException",$fault:"client",$metadata:ce(e)},t),[2,i]})})},ff=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Gce(r,n),i=u({name:"ResourceNotFoundException",$fault:"client",$metadata:ce(e)},t),[2,i]})})},gs=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Vce(r,n),i=u({name:"ServiceUnavailableException",$fault:"server",$metadata:ce(e)},t),[2,i]})})},gce=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Kce(r,n),i=u({name:"UnrecognizedClientException",$fault:"client",$metadata:ce(e)},t),[2,i]})})};var wce=function(e,n){return u(u(u({},e.kmsKeyId!==void 0&&e.kmsKeyId!==null&&{kmsKeyId:e.kmsKeyId}),e.logGroupName!==void 0&&e.logGroupName!==null&&{logGroupName:e.logGroupName}),e.tags!==void 0&&e.tags!==null&&{tags:Tce(e.tags,n)})},bce=function(e,n){return u(u({},e.logGroupName!==void 0&&e.logGroupName!==null&&{logGroupName:e.logGroupName}),e.logStreamName!==void 0&&e.logStreamName!==null&&{logStreamName:e.logStreamName})};var Ece=function(e,n){return u(u(u({},e.limit!==void 0&&e.limit!==null&&{limit:e.limit}),e.logGroupNamePrefix!==void 0&&e.logGroupNamePrefix!==null&&{logGroupNamePrefix:e.logGroupNamePrefix}),e.nextToken!==void 0&&e.nextToken!==null&&{nextToken:e.nextToken})},_ce=function(e,n){return u(u(u(u(u(u({},e.descending!==void 0&&e.descending!==null&&{descending:e.descending}),e.limit!==void 0&&e.limit!==null&&{limit:e.limit}),e.logGroupName!==void 0&&e.logGroupName!==null&&{logGroupName:e.logGroupName}),e.logStreamNamePrefix!==void 0&&e.logStreamNamePrefix!==null&&{logStreamNamePrefix:e.logStreamNamePrefix}),e.nextToken!==void 0&&e.nextToken!==null&&{nextToken:e.nextToken}),e.orderBy!==void 0&&e.orderBy!==null&&{orderBy:e.orderBy})};var Sce=function(e,n){return u(u(u(u(u(u(u({},e.endTime!==void 0&&e.endTime!==null&&{endTime:e.endTime}),e.limit!==void 0&&e.limit!==null&&{limit:e.limit}),e.logGroupName!==void 0&&e.logGroupName!==null&&{logGroupName:e.logGroupName}),e.logStreamName!==void 0&&e.logStreamName!==null&&{logStreamName:e.logStreamName}),e.nextToken!==void 0&&e.nextToken!==null&&{nextToken:e.nextToken}),e.startFromHead!==void 0&&e.startFromHead!==null&&{startFromHead:e.startFromHead}),e.startTime!==void 0&&e.startTime!==null&&{startTime:e.startTime})};var xce=function(e,n){return u(u({},e.message!==void 0&&e.message!==null&&{message:e.message}),e.timestamp!==void 0&&e.timestamp!==null&&{timestamp:e.timestamp})},Cce=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:xce(r,n)})};var Ace=function(e,n){return u(u(u(u({},e.logEvents!==void 0&&e.logEvents!==null&&{logEvents:Cce(e.logEvents,n)}),e.logGroupName!==void 0&&e.logGroupName!==null&&{logGroupName:e.logGroupName}),e.logStreamName!==void 0&&e.logStreamName!==null&&{logStreamName:e.logStreamName}),e.sequenceToken!==void 0&&e.sequenceToken!==null&&{sequenceToken:e.sequenceToken})};var Tce=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})};var Pce=function(e,n){return{expectedSequenceToken:e.expectedSequenceToken!==void 0&&e.expectedSequenceToken!==null?e.expectedSequenceToken:void 0,message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Ice=function(e,n){return{logGroups:e.logGroups!==void 0&&e.logGroups!==null?zce(e.logGroups,n):void 0,nextToken:e.nextToken!==void 0&&e.nextToken!==null?e.nextToken:void 0}},Nce=function(e,n){return{logStreams:e.logStreams!==void 0&&e.logStreams!==null?Bce(e.logStreams,n):void 0,nextToken:e.nextToken!==void 0&&e.nextToken!==null?e.nextToken:void 0}};var Rce=function(e,n){return{events:e.events!==void 0&&e.events!==null?jce(e.events,n):void 0,nextBackwardToken:e.nextBackwardToken!==void 0&&e.nextBackwardToken!==null?e.nextBackwardToken:void 0,nextForwardToken:e.nextForwardToken!==void 0&&e.nextForwardToken!==null?e.nextForwardToken:void 0}};var Oce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Mce=function(e,n){return{expectedSequenceToken:e.expectedSequenceToken!==void 0&&e.expectedSequenceToken!==null?e.expectedSequenceToken:void 0,message:e.message!==void 0&&e.message!==null?e.message:void 0}},Dce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var kce=function(e,n){return{arn:e.arn!==void 0&&e.arn!==null?e.arn:void 0,creationTime:e.creationTime!==void 0&&e.creationTime!==null?e.creationTime:void 0,kmsKeyId:e.kmsKeyId!==void 0&&e.kmsKeyId!==null?e.kmsKeyId:void 0,logGroupName:e.logGroupName!==void 0&&e.logGroupName!==null?e.logGroupName:void 0,metricFilterCount:e.metricFilterCount!==void 0&&e.metricFilterCount!==null?e.metricFilterCount:void 0,retentionInDays:e.retentionInDays!==void 0&&e.retentionInDays!==null?e.retentionInDays:void 0,storedBytes:e.storedBytes!==void 0&&e.storedBytes!==null?e.storedBytes:void 0}};var zce=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:kce(r,n)})};var Lce=function(e,n){return{arn:e.arn!==void 0&&e.arn!==null?e.arn:void 0,creationTime:e.creationTime!==void 0&&e.creationTime!==null?e.creationTime:void 0,firstEventTimestamp:e.firstEventTimestamp!==void 0&&e.firstEventTimestamp!==null?e.firstEventTimestamp:void 0,lastEventTimestamp:e.lastEventTimestamp!==void 0&&e.lastEventTimestamp!==null?e.lastEventTimestamp:void 0,lastIngestionTime:e.lastIngestionTime!==void 0&&e.lastIngestionTime!==null?e.lastIngestionTime:void 0,logStreamName:e.logStreamName!==void 0&&e.logStreamName!==null?e.logStreamName:void 0,storedBytes:e.storedBytes!==void 0&&e.storedBytes!==null?e.storedBytes:void 0,uploadSequenceToken:e.uploadSequenceToken!==void 0&&e.uploadSequenceToken!==null?e.uploadSequenceToken:void 0}},Bce=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:Lce(r,n)})};var Uce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Fce=function(e,n){return{ingestionTime:e.ingestionTime!==void 0&&e.ingestionTime!==null?e.ingestionTime:void 0,message:e.message!==void 0&&e.message!==null?e.message:void 0,timestamp:e.timestamp!==void 0&&e.timestamp!==null?e.timestamp:void 0}},jce=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:Fce(r,n)})};var qce=function(e,n){return{nextSequenceToken:e.nextSequenceToken!==void 0&&e.nextSequenceToken!==null?e.nextSequenceToken:void 0,rejectedLogEventsInfo:e.rejectedLogEventsInfo!==void 0&&e.rejectedLogEventsInfo!==null?$ce(e.rejectedLogEventsInfo,n):void 0}};var $ce=function(e,n){return{expiredLogEventEndIndex:e.expiredLogEventEndIndex!==void 0&&e.expiredLogEventEndIndex!==null?e.expiredLogEventEndIndex:void 0,tooNewLogEventStartIndex:e.tooNewLogEventStartIndex!==void 0&&e.tooNewLogEventStartIndex!==null?e.tooNewLogEventStartIndex:void 0,tooOldLogEventEndIndex:e.tooOldLogEventEndIndex!==void 0&&e.tooOldLogEventEndIndex!==null?e.tooOldLogEventEndIndex:void 0}},Hce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Gce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Vce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Kce=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},ce=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},d0=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},Jce=function(e,n){return d0(e,n).then(function(r){return n.utf8Encoder(r)})},ws=function(e,n,r,t,i){return R(void 0,void 0,void 0,function(){var a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return a=f.sent(),s=a.hostname,c=a.protocol,d=c===void 0?"https":c,o=a.port,l={protocol:d,hostname:s,port:o,method:"POST",path:r,headers:n},t!==void 0&&(l.hostname=t),i!==void 0&&(l.body=i),[2,new ae(l)]}})})},$t=function(e,n){return Jce(e,n).then(function(r){return r.length?JSON.parse(r):{}})},bs=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var bd=function(){return bd=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},bd.apply(this,arguments)};function mf(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function pf(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var cN=function(e,n){return function(r,t){return function(i){return mf(void 0,void 0,void 0,function(){var a,s;return pf(this,function(c){switch(c.label){case 0:return[4,r(i)];case 1:return a=c.sent().response,[4,n(a,e)];case 2:return s=c.sent(),[2,{response:a,output:s}]}})})}}};var dN=function(e,n){return function(r,t){return function(i){return mf(void 0,void 0,void 0,function(){var a;return pf(this,function(s){switch(s.label){case 0:return[4,n(i.input,e)];case 1:return a=s.sent(),[2,r(bd(bd({},i),{request:a}))]}})})}}};var Wce={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Xce={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ne(e,n,r){return{applyToStack:function(t){t.add(cN(e,r),Wce),t.add(dN(e,n),Xce)}}}var lN=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CloudWatchLogsClient",d="CreateLogGroupCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:nf.filterSensitiveLog,outputFilterSensitiveLog:function(f){return f}},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return WI(r,t)},n.prototype.deserialize=function(r,t){return nN(r,t)},n}(ee);var uN=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CloudWatchLogsClient",d="CreateLogStreamCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:rf.filterSensitiveLog,outputFilterSensitiveLog:function(f){return f}},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return XI(r,t)},n.prototype.deserialize=function(r,t){return rN(r,t)},n}(ee);var fN=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CloudWatchLogsClient",d="DescribeLogGroupsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:tf.filterSensitiveLog,outputFilterSensitiveLog:af.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return YI(r,t)},n.prototype.deserialize=function(r,t){return tN(r,t)},n}(ee);var mN=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CloudWatchLogsClient",d="DescribeLogStreamsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:of.filterSensitiveLog,outputFilterSensitiveLog:sf.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return QI(r,t)},n.prototype.deserialize=function(r,t){return aN(r,t)},n}(ee);var pN=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CloudWatchLogsClient",d="GetLogEventsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:cf.filterSensitiveLog,outputFilterSensitiveLog:df.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return ZI(r,t)},n.prototype.deserialize=function(r,t){return iN(r,t)},n}(ee);var vN=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CloudWatchLogsClient",d="PutLogEventsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:lf.filterSensitiveLog,outputFilterSensitiveLog:uf.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return eN(r,t)},n.prototype.deserialize=function(r,t){return oN(r,t)},n}(ee);var Dr=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},kr=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Yce=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Qce=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Yce(arguments[n]));return e},qe=new q("AWSCloudWatch"),hN=function(){function e(n){this.configure(n),this._dataTracker={eventUploadInProgress:!1,logEvents:[]},this._currentLogBatch=[],this._initiateLogPushInterval()}return e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.getCategoryName=function(){return e.CATEGORY},e.prototype.getLogQueue=function(){return this._dataTracker.logEvents},e.prototype.configure=function(n){if(!n)return this._config||{};var r=Object.assign({},this._config,sd(n).Logging,n);return this._config=r,this._config},e.prototype.createLogGroup=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s;return kr(this,function(c){switch(c.label){case 0:qe.debug("creating new log group in CloudWatch - ",n.logGroupName),r=new lN(n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(t=c.sent(),!t)throw new Error(ua);return i=this._initCloudWatchLogs(),[4,i.send(r)];case 3:return a=c.sent(),[2,a];case 4:throw s=c.sent(),qe.error("error creating log group - "+s),s;case 5:return[2]}})})},e.prototype.getLogGroups=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s;return kr(this,function(c){switch(c.label){case 0:qe.debug("getting list of log groups"),r=new fN(n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(t=c.sent(),!t)throw new Error(ua);return i=this._initCloudWatchLogs(),[4,i.send(r)];case 3:return a=c.sent(),[2,a];case 4:throw s=c.sent(),qe.error("error getting log group - "+s),s;case 5:return[2]}})})},e.prototype.createLogStream=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s;return kr(this,function(c){switch(c.label){case 0:qe.debug("creating new log stream in CloudWatch - ",n.logStreamName),r=new uN(n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(t=c.sent(),!t)throw new Error(ua);return i=this._initCloudWatchLogs(),[4,i.send(r)];case 3:return a=c.sent(),[2,a];case 4:throw s=c.sent(),qe.error("error creating log stream - "+s),s;case 5:return[2]}})})},e.prototype.getLogStreams=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s;return kr(this,function(c){switch(c.label){case 0:qe.debug("getting list of log streams"),r=new mN(n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(t=c.sent(),!t)throw new Error(ua);return i=this._initCloudWatchLogs(),[4,i.send(r)];case 3:return a=c.sent(),[2,a];case 4:throw s=c.sent(),qe.error("error getting log stream - "+s),s;case 5:return[2]}})})},e.prototype.getLogEvents=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s;return kr(this,function(c){switch(c.label){case 0:qe.debug("getting log events from stream - ",n.logStreamName),r=new pN(n),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,this._ensureCredentials()];case 2:if(t=c.sent(),!t)throw new Error(ua);return i=this._initCloudWatchLogs(),[4,i.send(r)];case 3:return a=c.sent(),[2,a];case 4:throw s=c.sent(),qe.error("error getting log events - "+s),s;case 5:return[2]}})})},e.prototype.pushLogs=function(n){qe.debug("pushing log events to Cloudwatch..."),this._dataTracker.logEvents=Qce(this._dataTracker.logEvents,n)},e.prototype._validateLogGroupExistsAndCreate=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s;return kr(this,function(c){switch(c.label){case 0:if(this._dataTracker.verifiedLogGroup)return[2,this._dataTracker.verifiedLogGroup];c.label=1;case 1:return c.trys.push([1,5,,6]),[4,this._ensureCredentials()];case 2:if(r=c.sent(),!r)throw new Error(ua);return[4,this.getLogGroups({logGroupNamePrefix:n})];case 3:return t=c.sent(),typeof t!="string"&&t.logGroups&&(i=t.logGroups.filter(function(d){return d.logGroupName===n}),i.length>0)?(this._dataTracker.verifiedLogGroup=i[0],[2,i[0]]):[4,this.createLogGroup({logGroupName:n})];case 4:return c.sent(),[2,null];case 5:throw a=c.sent(),s="failure during log group search: "+a,qe.error(s),a;case 6:return[2]}})})},e.prototype._validateLogStreamExists=function(n,r){return Dr(this,void 0,void 0,function(){var t,i,a,s,c;return kr(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),[4,this._ensureCredentials()];case 1:if(t=d.sent(),!t)throw new Error(ua);return[4,this.getLogStreams({logGroupName:n,logStreamNamePrefix:r})];case 2:return i=d.sent(),i.logStreams&&(a=i.logStreams.filter(function(o){return o.logStreamName===r}),a.length>0)?(this._nextSequenceToken=a[0].uploadSequenceToken,[2,a[0]]):[4,this.createLogStream({logGroupName:n,logStreamName:r})];case 3:return d.sent(),[2,null];case 4:throw s=d.sent(),c="failure during log stream search: "+s,qe.error(c),s;case 5:return[2]}})})},e.prototype._sendLogEvents=function(n){return Dr(this,void 0,void 0,function(){var r,t,i,a,s,c;return kr(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,this._ensureCredentials()];case 1:if(r=d.sent(),!r)throw new Error(ua);return qe.debug("sending log events to stream - ",n.logStreamName),t=new vN(n),i=this._initCloudWatchLogs(),[4,i.send(t)];case 2:return a=d.sent(),[2,a];case 3:return s=d.sent(),c="failure during log push: "+s,qe.error(c),[3,4];case 4:return[2]}})})},e.prototype._initCloudWatchLogs=function(){return new cP({region:this._config.region,credentials:this._config.credentials,customUserAgent:Ye(),endpoint:this._config.endpoint})},e.prototype._ensureCredentials=function(){return Dr(this,void 0,void 0,function(){var n=this;return kr(this,function(r){switch(r.label){case 0:return[4,ie.get().then(function(t){if(!t)return!1;var i=ie.shear(t);return qe.debug("set credentials for logging",i),n._config.credentials=i,!0}).catch(function(t){return qe.warn("ensure credentials error",t),!1})];case 1:return[2,r.sent()]}})})},e.prototype._getNextSequenceToken=function(){return Dr(this,void 0,void 0,function(){var n,r;return kr(this,function(t){switch(t.label){case 0:if(this._nextSequenceToken&&this._nextSequenceToken.length>0)return[2,this._nextSequenceToken];t.label=1;case 1:return t.trys.push([1,4,,5]),[4,this._validateLogGroupExistsAndCreate(this._config.logGroupName)];case 2:return t.sent(),this._nextSequenceToken=void 0,[4,this._validateLogStreamExists(this._config.logGroupName,this._config.logStreamName)];case 3:return n=t.sent(),n&&(this._nextSequenceToken=n.uploadSequenceToken),[2,this._nextSequenceToken];case 4:throw r=t.sent(),qe.error("failure while getting next sequence token: "+r),r;case 5:return[2]}})})},e.prototype._safeUploadLogEvents=function(){return Dr(this,void 0,void 0,function(){var n,r,t,i,a;return kr(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this._getNextSequenceToken()];case 1:return n=s.sent(),r=this._currentLogBatch.length===0?this._getBufferedBatchOfLogs():this._currentLogBatch,t={logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName,logEvents:r,sequenceToken:n},this._dataTracker.eventUploadInProgress=!0,[4,this._sendLogEvents(t)];case 2:return i=s.sent(),this._nextSequenceToken=i.nextSequenceToken,this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,i];case 3:if(a=s.sent(),qe.error("error during _safeUploadLogEvents: "+a),lx.includes(a.name))this._getNewSequenceTokenAndSubmit({logEvents:this._currentLogBatch,logGroupName:this._config.logGroupName,logStreamName:this._config.logStreamName});else throw this._dataTracker.eventUploadInProgress=!1,a;return[3,4];case 4:return[2]}})})},e.prototype._getBufferedBatchOfLogs=function(){for(var n=0,r=0;n<this._dataTracker.logEvents.length;){var t=this._dataTracker.logEvents[n],i=t?new TextEncoder().encode(t.message).length+ox:0;if(i>cx){var a="Log entry exceeds maximum size for CloudWatch logs. Log size: "+i+". Truncating log message.";qe.warn(a),t.message=t.message.substring(0,i)}if(r+i>sx)break;r+=i,n++}return this._currentLogBatch=this._dataTracker.logEvents.splice(0,n),this._currentLogBatch},e.prototype._getNewSequenceTokenAndSubmit=function(n){return Dr(this,void 0,void 0,function(){var r,t,i;return kr(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),this._nextSequenceToken=void 0,this._dataTracker.eventUploadInProgress=!0,[4,this._getNextSequenceToken()];case 1:return r=a.sent(),n.sequenceToken=r,[4,this._sendLogEvents(n)];case 2:return t=a.sent(),this._dataTracker.eventUploadInProgress=!1,this._currentLogBatch=[],[2,t];case 3:throw i=a.sent(),qe.error("error when retrying log submission with new sequence token: "+i),this._dataTracker.eventUploadInProgress=!1,i;case 4:return[2]}})})},e.prototype._initiateLogPushInterval=function(){var n=this;this._timer&&clearInterval(this._timer),this._timer=setInterval(function(){return Dr(n,void 0,void 0,function(){var r;return kr(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this._getDocUploadPermissibility()?[4,this._safeUploadLogEvents()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return r=t.sent(),qe.error("error when calling _safeUploadLogEvents in the timer interval - "+r),[3,4];case 4:return[2]}})})},2e3)},e.prototype._getDocUploadPermissibility=function(){return(this._dataTracker.logEvents.length!==0||this._currentLogBatch.length!==0)&&!this._dataTracker.eventUploadInProgress},e.PROVIDER_NAME=dx,e.CATEGORY=Ql,e}();var Zce=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},ede=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ei=new q("CognitoCredentials"),nde=new Promise(function(e,n){if(!cn().isBrowser)return ei.debug("not in the browser, directly resolved"),e();var r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(r)return ei.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),yN=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return Zce(this,void 0,void 0,function(){return ede(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(ei.debug("need to wait for the Google SDK loaded"),[4,nde]);case 1:n.sent(),this.initialized=!0,ei.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var n=null;return cn().isBrowser&&(n=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),n?new Promise(function(r,t){n.getAuthInstance().then(function(i){i||(ei.debug("google Auth undefined"),t(new yn("google Auth undefined")));var a=i.currentUser.get();a.isSignedIn()?(ei.debug("refreshing the google access token"),a.reloadAuthResponse().then(function(s){var c=s.id_token,d=s.expires_at;r({token:c,expires_at:d})}).catch(function(s){s&&s.error==="network_error"?t("Network error reloading google auth response"):t(new yn("Failed to reload google auth response"))})):t(new yn("User is not signed in with Google"))}).catch(function(i){ei.debug("Failed to refresh google token",i),t(new yn("Failed to refresh google token"))})}):(ei.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}();var rde=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},tde=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},qi=new q("CognitoCredentials"),ade=new Promise(function(e,n){if(!cn().isBrowser)return qi.debug("not in the browser, directly resolved"),e();var r=window.FB;if(r)return qi.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),gN=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return rde(this,void 0,void 0,function(){return tde(this,function(n){switch(n.label){case 0:return this.initialized?[3,2]:(qi.debug("need to wait for the Facebook SDK loaded"),[4,ade]);case 1:n.sent(),this.initialized=!0,qi.debug("finish waiting"),n.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var n=null;if(cn().isBrowser&&(n=window.FB),!n){var r="no fb sdk available";return qi.debug(r),Promise.reject(new yn(r))}return new Promise(function(t,i){n.getLoginStatus(function(a){if(!a||!a.authResponse){var s="no response from facebook when refreshing the jwt token";qi.debug(s),i(new yn(s))}else{var c=a.authResponse,d=c.accessToken,o=c.expiresIn,l=new Date,f=o*1e3+l.getTime();if(!d){var s="the jwtToken is undefined";qi.debug(s),i(new yn(s))}t({token:d,expires_at:f})}},{scope:"public_profile,email"})})},e}();var wN=new yN,bN=new gN;var $i={},EN=function(){function e(){}return e.setItem=function(n,r){return $i[n]=r,$i[n]},e.getItem=function(n){return Object.prototype.hasOwnProperty.call($i,n)?$i[n]:void 0},e.removeItem=function(n){return delete $i[n]},e.clear=function(){return $i={},$i},e}();var ha=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=EN}}return e.prototype.getStorage=function(){return this.storageWindow},e}();function Ed(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function _d(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function _N(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}var SN={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}};var AN=W(va());var vf=W(hr());var xN="cognito-identity.{region}.amazonaws.com",ode="cognito-identity.{region}.amazonaws.com.cn",sde="cognito-identity.{region}.c2s.ic.gov",cde="cognito-identity.{region}.sc2s.sgov.gov",dde="cognito-identity.{region}.amazonaws.com",lde=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),ude=new Set(["cn-north-1","cn-northwest-1"]),fde=new Set(["us-iso-east-1"]),mde=new Set(["us-isob-east-1"]),pde=new Set(["us-gov-east-1","us-gov-west-1"]),CN=function(e,n){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:lde.has(e)&&(r={hostname:xN.replace("{region}",e),partition:"aws"}),ude.has(e)&&(r={hostname:ode.replace("{region}",e),partition:"aws-cn"}),fde.has(e)&&(r={hostname:sde.replace("{region}",e),partition:"aws-iso"}),mde.has(e)&&(r={hostname:cde.replace("{region}",e),partition:"aws-iso-b"}),pde.has(e)&&(r={hostname:dde.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:xN.replace("{region}",e),partition:"aws"})}return Promise.resolve(u({signingService:"cognito-identity"},r))};var l0={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:CN,serviceId:"Cognito Identity",urlParser:qn};var TN=u(u({},l0),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:l0.serviceId,clientVersion:SN.version}),maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:AN.Sha256,streamCollector:zn,utf8Decoder:vf.fromUtf8,utf8Encoder:vf.toUtf8});var hf=function(e){J(n,e);function n(r){var t=this,i=u(u({},TN),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var PN;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(PN||(PN={}));var IN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IN||(IN={}));var NN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NN||(NN={}));var RN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RN||(RN={}));var ON;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ON||(ON={}));var MN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MN||(MN={}));var DN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DN||(DN={}));var kN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kN||(kN={}));var zN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zN||(zN={}));var LN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LN||(LN={}));var BN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BN||(BN={}));var UN;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(UN||(UN={}));var FN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FN||(FN={}));var jN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jN||(jN={}));var qN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qN||(qN={}));var $N;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($N||($N={}));var HN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HN||(HN={}));var GN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GN||(GN={}));var VN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VN||(VN={}));var KN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KN||(KN={}));var yf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yf||(yf={}));var JN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JN||(JN={}));var gf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gf||(gf={}));var WN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WN||(WN={}));var wf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wf||(wf={}));var bf;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bf||(bf={}));var XN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XN||(XN={}));var YN;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(YN||(YN={}));var QN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QN||(QN={}));var ZN;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZN||(ZN={}));var eR;(function(e){e.RULES="Rules",e.TOKEN="Token"})(eR||(eR={}));var nR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nR||(nR={}));var rR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rR||(rR={}));var tR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tR||(tR={}));var aR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aR||(aR={}));var iR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iR||(iR={}));var oR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oR||(oR={}));var sR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sR||(sR={}));var cR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cR||(cR={}));var dR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dR||(dR={}));var lR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lR||(lR={}));var uR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uR||(uR={}));var fR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fR||(fR={}));var mR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mR||(mR={}));var pR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pR||(pR={}));var vR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vR||(vR={}));var hR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hR||(hR={}));var yR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yR||(yR={}));var gR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gR||(gR={}));var wR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wR||(wR={}));var bR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bR||(bR={}));var ER;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ER||(ER={}));var _R;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_R||(_R={}));var SR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SR||(SR={}));var xR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xR||(xR={}));var CR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CR||(CR={}));var AR;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AR||(AR={}));var TR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},t=JSON.stringify(wde(e,n)),[2,UR(n,r,"/",void 0,t)]})})},PR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},t=JSON.stringify(bde(e,n)),[2,UR(n,r,"/",void 0,t)]})})};var IR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,vde(e,n)]:[4,Ef(e.body,n)];case 1:return r=a.sent(),t={},t=Sde(r,n),i=u({$metadata:_e(e)},t),[2,Promise.resolve(i)]}})})},vde=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g;return N(this,function(w){switch(w.label){case 0:return t=[u({},e)],g={},[4,Ef(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(g.body=w.sent(),g)])),a="UnknownError",a=FR(e,r.body),s=a,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return c=[{}],[4,RR(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 4:return d=[{}],[4,OR(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 6:return o=[{}],[4,yde(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 8:return l=[{}],[4,MR(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 10:return f=[{}],[4,DR(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 12:return m=[{}],[4,kR(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 14:return p=[{}],[4,zR(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 16:return v=[{}],[4,LR(r,n)];case 17:return i=u.apply(void 0,[u.apply(void 0,v.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 18:h=r.body,a=h.code||h.Code||a,i=u(u({},h),{name:""+a,message:h.message||h.Message||a,$fault:"client",$metadata:_e(e)}),w.label=19;case 19:return y=i.message||i.Message||a,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}})})},NR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,hde(e,n)]:[4,Ef(e.body,n)];case 1:return r=a.sent(),t={},t=xde(r,n),i=u({$metadata:_e(e)},t),[2,Promise.resolve(i)]}})})},hde=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g;return N(this,function(w){switch(w.label){case 0:return t=[u({},e)],g={},[4,Ef(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(g.body=w.sent(),g)])),a="UnknownError",a=FR(e,r.body),s=a,s){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return c=[{}],[4,RR(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 4:return d=[{}],[4,OR(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 6:return o=[{}],[4,MR(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 8:return l=[{}],[4,gde(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 10:return f=[{}],[4,DR(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 12:return m=[{}],[4,kR(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 14:return p=[{}],[4,zR(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 16:return v=[{}],[4,LR(r,n)];case 17:return i=u.apply(void 0,[u.apply(void 0,v.concat([w.sent()])),{name:a,$metadata:_e(e)}]),[3,19];case 18:h=r.body,a=h.code||h.Code||a,i=u(u({},h),{name:""+a,message:h.message||h.Message||a,$fault:"client",$metadata:_e(e)}),w.label=19;case 19:return y=i.message||i.Message||a,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}})})};var RR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=_de(r,n),i=u({name:"ExternalServiceException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},OR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Cde(r,n),i=u({name:"InternalErrorException",$fault:"server",$metadata:_e(e)},t),[2,i]})})},yde=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Ade(r,n),i=u({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},MR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Tde(r,n),i=u({name:"InvalidParameterException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},gde=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Pde(r,n),i=u({name:"LimitExceededException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},DR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Ide(r,n),i=u({name:"NotAuthorizedException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},kR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Nde(r,n),i=u({name:"ResourceConflictException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},zR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Rde(r,n),i=u({name:"ResourceNotFoundException",$fault:"client",$metadata:_e(e)},t),[2,i]})})},LR=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Ode(r,n),i=u({name:"TooManyRequestsException",$fault:"client",$metadata:_e(e)},t),[2,i]})})};var wde=function(e,n){return u(u(u({},e.CustomRoleArn!==void 0&&e.CustomRoleArn!==null&&{CustomRoleArn:e.CustomRoleArn}),e.IdentityId!==void 0&&e.IdentityId!==null&&{IdentityId:e.IdentityId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:BR(e.Logins,n)})};var bde=function(e,n){return u(u(u({},e.AccountId!==void 0&&e.AccountId!==null&&{AccountId:e.AccountId}),e.IdentityPoolId!==void 0&&e.IdentityPoolId!==null&&{IdentityPoolId:e.IdentityPoolId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:BR(e.Logins,n)})};var BR=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})};var Ede=function(e,n){return{AccessKeyId:e.AccessKeyId!==void 0&&e.AccessKeyId!==null?e.AccessKeyId:void 0,Expiration:e.Expiration!==void 0&&e.Expiration!==null?new Date(Math.round(e.Expiration*1e3)):void 0,SecretKey:e.SecretKey!==void 0&&e.SecretKey!==null?e.SecretKey:void 0,SessionToken:e.SessionToken!==void 0&&e.SessionToken!==null?e.SessionToken:void 0}};var _de=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Sde=function(e,n){return{Credentials:e.Credentials!==void 0&&e.Credentials!==null?Ede(e.Credentials,n):void 0,IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}};var xde=function(e,n){return{IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}};var Cde=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Ade=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Tde=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Pde=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Ide=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Nde=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Rde=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Ode=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var _e=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Mde=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},Dde=function(e,n){return Mde(e,n).then(function(r){return n.utf8Encoder(r)})},UR=function(e,n,r,t,i){return R(void 0,void 0,void 0,function(){var a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return a=f.sent(),s=a.hostname,c=a.protocol,d=c===void 0?"https":c,o=a.port,l={protocol:d,hostname:s,port:o,method:"POST",path:r,headers:n},t!==void 0&&(l.hostname=t),i!==void 0&&(l.body=i),[2,new ae(l)]}})})},Ef=function(e,n){return Dde(e,n).then(function(r){return r.length?JSON.parse(r):{}})},FR=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var Sd=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CognitoIdentityClient",d="GetCredentialsForIdentityCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:yf.filterSensitiveLog,outputFilterSensitiveLog:gf.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return TR(r,t)},n.prototype.deserialize=function(r,t){return IR(r,t)},n}(ee);var Hi=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="CognitoIdentityClient",d="GetIdCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:wf.filterSensitiveLog,outputFilterSensitiveLog:bf.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return PR(r,t)},n.prototype.deserialize=function(r,t){return NR(r,t)},n}(ee);var u0=function(e,n){return u0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},u0(e,n)};function jR(e,n){u0(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Gi=function(e){jR(n,e);function n(r,t){t===void 0&&(t=!0);var i=e.call(this,r)||this;return i.tryNextLink=t,i}return n}(Error);function _f(e){return Promise.all(Object.keys(e).reduce(function(n,r){var t=e[r];return typeof t=="string"?n.push([r,t]):n.push(t().then(function(i){return[r,i]})),n},[])).then(function(n){return n.reduce(function(r,t){var i=_N(t,2),a=i[0],s=i[1];return r[a]=s,r},{})})}function Vi(e){var n=this;return function(){return Ed(n,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v;return _d(this,function(h){switch(h.label){case 0:return f=(l=e.client).send,m=Sd.bind,v={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,_f(e.logins)]:[3,2];case 1:return p=h.sent(),[3,3];case 2:p=void 0,h.label=3;case 3:return[4,f.apply(l,[new(m.apply(Sd,[void 0,(v.Logins=p,v)]))])];case 4:return r=h.sent().Credentials,t=r===void 0?zde():r,i=t.AccessKeyId,a=i===void 0?kde():i,s=t.Expiration,c=t.SecretKey,d=c===void 0?Lde():c,o=t.SessionToken,[2,{identityId:e.identityId,accessKeyId:a,secretAccessKey:d,sessionToken:o,expiration:s}]}})})}}function kde(){throw new Gi("Response from Amazon Cognito contained no access key ID")}function zde(){throw new Gi("Response from Amazon Cognito contained no credentials")}function Lde(){throw new Gi("Response from Amazon Cognito contained no secret key")}var f0="IdentityIds",qR=function(){function e(n){n===void 0&&(n="aws:cognito-identity-ids"),this.dbName=n}return e.prototype.getItem=function(n){return this.withObjectStore("readonly",function(r){var t=r.get(n);return new Promise(function(i){t.onerror=function(){return i(null)},t.onsuccess=function(){return i(t.result?t.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(n){return this.withObjectStore("readwrite",function(r){var t=r.delete(n);return new Promise(function(i,a){t.onerror=function(){return a(t.error)},t.onsuccess=function(){return i()}})})},e.prototype.setItem=function(n,r){return this.withObjectStore("readwrite",function(t){var i=t.put({id:n,value:r});return new Promise(function(a,s){i.onerror=function(){return s(i.error)},i.onsuccess=function(){return a()}})})},e.prototype.getDb=function(){var n=self.indexedDB.open(this.dbName,1);return new Promise(function(r,t){n.onsuccess=function(){r(n.result)},n.onerror=function(){t(n.error)},n.onblocked=function(){t(new Error("Unable to access DB"))},n.onupgradeneeded=function(){var i=n.result;i.onerror=function(){t(new Error("Failed to create object store"))},i.createObjectStore(f0,{keyPath:"id"})}})},e.prototype.withObjectStore=function(n,r){return this.getDb().then(function(t){var i=t.transaction(f0,n);return i.oncomplete=function(){return t.close()},new Promise(function(a,s){i.onerror=function(){return s(i.error)},a(r(i.objectStore(f0)))}).catch(function(a){throw t.close(),a})})},e}();var $R=function(){function e(n){n===void 0&&(n={}),this.store=n}return e.prototype.getItem=function(n){return n in this.store?this.store[n]:null},e.prototype.removeItem=function(n){delete this.store[n]},e.prototype.setItem=function(n,r){this.store[n]=r},e}();var Bde=new $R;function HR(){return typeof self=="object"&&self.indexedDB?new qR:typeof window=="object"&&window.localStorage?window.localStorage:Bde}function GR(e){var n=this,r=e.accountId,t=e.cache,i=t===void 0?HR():t,a=e.client,s=e.customRoleArn,c=e.identityPoolId,d=e.logins,o=e.userIdentifier,l=o===void 0?!d||Object.keys(d).length===0?"ANONYMOUS":void 0:o,f=l?"aws:cognito-identity-credentials:"+c+":"+l:void 0,m=function(){return Ed(n,void 0,void 0,function(){var p,v,h,y,g,w,b,E,S;return _d(this,function(A){switch(A.label){case 0:return v=f,v?[4,i.getItem(f)]:[3,2];case 1:v=A.sent(),A.label=2;case 2:return p=v,p?[3,7]:(w=(g=a).send,b=Hi.bind,S={AccountId:r,IdentityPoolId:c},d?[4,_f(d)]:[3,4]);case 3:return E=A.sent(),[3,5];case 4:E=void 0,A.label=5;case 5:return[4,w.apply(g,[new(b.apply(Hi,[void 0,(S.Logins=E,S)]))])];case 6:h=A.sent().IdentityId,y=h===void 0?Ude():h,p=y,f&&Promise.resolve(i.setItem(f,p)).catch(function(){}),A.label=7;case 7:return m=Vi({client:a,customRoleArn:s,logins:d,identityId:p}),[2,m()]}})})};return function(){return m().catch(function(p){return Ed(n,void 0,void 0,function(){return _d(this,function(v){throw f&&Promise.resolve(i.removeItem(f)).catch(function(){}),p})})})}}function Ude(){throw new Gi("Response from Amazon Cognito contained no identity ID")}var Sf=function(){return Sf=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sf.apply(this,arguments)},wr=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},br=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ue=new q("Credentials"),Fde=50*60*1e3,jde="CognitoIdentityId-",VR=function(){function e(n){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(n),this._refreshHandlers.google=wN.refreshGoogleToken,this._refreshHandlers.facebook=bN.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(n){if(!n)return this._config||{};this._config=Object.assign({},this._config,n);var r=this._config.refreshHandlers;return r&&(this._refreshHandlers=Sf(Sf({},this._refreshHandlers),r)),this._storage=this._config.storage,this._storage||(this._storage=new ha().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return ue.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(n){return""+jde+n},e.prototype._pickupCredentials=function(){return ue.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(ue.debug("getting new cred promise"),this._gettingCredPromise=dy(this._keepAlive())):ue.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return wr(this,void 0,void 0,function(){var n,r,t,i,a,s,c,d;return br(this,function(o){switch(o.label){case 0:if(ue.debug("checking if credentials exists and not expired"),n=this._credentials,n&&!this._isExpired(n)&&!this._isPastTTL())return ue.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(n)];if(ue.debug("need to get a new credential or refresh the existing one"),r=this.Auth,t=r===void 0?se.Auth:r,!t||typeof t.currentUserCredentials!="function")return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(n)&&this._isPastTTL()))return[3,6];ue.debug("ttl has passed but token is not yet expired"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,t.currentUserPoolUser()];case 2:return i=o.sent(),[4,t.currentSession()];case 3:return a=o.sent(),s=a.refreshToken,c=new Promise(function(l,f){i.refreshSession(s,function(m,p){return m?f(m):l(p)})}),[4,c];case 4:return o.sent(),[3,6];case 5:return d=o.sent(),ue.debug("Error attempting to refreshing the session",d),[3,6];case 6:return[2,t.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(n){ue.debug("Getting federated credentials");var r=n.provider,t=n.user,i=n.token,a=n.identity_id,s=n.expires_at;s=new Date(s).getFullYear()===1970?s*1e3:s;var c=this;return ue.debug("checking if federated jwt token expired"),s>new Date().getTime()?(ue.debug("token not expired"),this._setCredentialsFromFederation({provider:r,token:i,user:t,identity_id:a,expires_at:s})):c._refreshHandlers[r]&&typeof c._refreshHandlers[r]=="function"?(ue.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:c._refreshHandlers[r],provider:r,user:t})):(ue.debug("no refresh handler for provider:",r),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(n){var r=this,t=n.refreshHandler,i=n.provider,a=n.user,s=10*1e3;return Va(t,[],s).then(function(c){return ue.debug("refresh federated token sucessfully",c),r._setCredentialsFromFederation({provider:i,token:c.token,user:a,identity_id:c.identity_id,expires_at:c.expires_at})}).catch(function(c){var d=typeof c=="string"&&c.toLowerCase().lastIndexOf("network error",c.length)===0;return d||r.clear(),ue.debug("refresh federated token failed",c),Promise.reject("refreshing federation token failed: "+c)})},e.prototype._isExpired=function(n){if(!n)return ue.debug("no credentials for expiration check"),!0;ue.debug("are these credentials expired?",n);var r=Date.now(),t=n.expiration;return t.getTime()<=r},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return wr(this,void 0,void 0,function(){var n,r,t,i,a,s,c,d,o,l,f=this;return br(this,function(m){switch(m.label){case 0:return ue.debug("setting credentials for guest"),n=this._config,r=n.identityPoolId,t=n.region,i=n.mandatorySignIn,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?t?(s=this,[4,this._getGuestIdentityId()]):(ue.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(ue.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return a=s._identityId=m.sent(),c=new hf({region:t,customUserAgent:Ye()}),d=void 0,a?(o={identityId:a,client:c},d=Vi(o)()):(l=function(){return wr(f,void 0,void 0,function(){var p,v,h;return br(this,function(y){switch(y.label){case 0:return[4,c.send(new Hi({IdentityPoolId:r}))];case 1:return p=y.sent().IdentityId,this._identityId=p,v={client:c,identityId:p},h=Vi(v),[2,h()]}})})},d=l().catch(function(p){return wr(f,void 0,void 0,function(){return br(this,function(v){throw p})})})),[2,this._loadCredentials(d,"guest",!1,null).then(function(p){return p}).catch(function(p){return wr(f,void 0,void 0,function(){var v,h=this;return br(this,function(y){switch(y.label){case 0:return p.name==="ResourceNotFoundException"&&p.message==="Identity '"+a+"' not found."?(ue.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return y.sent(),v=function(){return wr(h,void 0,void 0,function(){var g,w,b;return br(this,function(E){switch(E.label){case 0:return[4,c.send(new Hi({IdentityPoolId:r}))];case 1:return g=E.sent().IdentityId,this._identityId=g,w={client:c,identityId:g},b=Vi(w),[2,b()]}})})},d=v().catch(function(g){return wr(h,void 0,void 0,function(){return br(this,function(w){throw g})})}),[2,this._loadCredentials(d,"guest",!1,null)];case 2:return[2,p]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(n){var r=n.provider,t=n.token,i=n.identity_id,a={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},s=a[r]||r;if(!s)return Promise.reject("You must specify a federated provider");var c={};c[s]=t;var d=this._config,o=d.identityPoolId,l=d.region;if(!o)return ue.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!l)return ue.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var f=new hf({region:l,customUserAgent:Ye()}),m=void 0;if(i){var p={identityId:i,logins:c,client:f};m=Vi(p)()}else{var p={logins:c,identityPoolId:o,client:f};m=GR(p)()}return this._loadCredentials(m,"federated",!0,n)},e.prototype._setCredentialsFromSession=function(n){var r=this;ue.debug("set credentials from session");var t=n.getIdToken().getJwtToken(),i=this._config,a=i.region,s=i.userPoolId,c=i.identityPoolId;if(!c)return ue.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!a)return ue.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var d="cognito-idp."+a+".amazonaws.com/"+s,o={};o[d]=t;var l=new hf({region:a,customUserAgent:Ye()}),f=function(){return wr(r,void 0,void 0,function(){var p,v,h,y,g,w,b,E,S,A;return br(this,function(I){switch(I.label){case 0:return[4,this._getGuestIdentityId()];case 1:return p=I.sent(),p?[3,3]:[4,l.send(new Hi({IdentityPoolId:c,Logins:o}))];case 2:h=I.sent().IdentityId,v=h,I.label=3;case 3:return[4,l.send(new Sd({IdentityId:p||v,Logins:o}))];case 4:return y=I.sent(),g=y.Credentials,w=g.AccessKeyId,b=g.Expiration,E=g.SecretKey,S=g.SessionToken,A=y.IdentityId,this._identityId=A,p?(ue.debug("The guest identity "+p+" has been successfully linked to the logins"),p===A&&ue.debug("The guest identity "+p+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:I.sent(),I.label=6;case 6:return[2,{accessKeyId:w,secretAccessKey:E,sessionToken:S,expiration:b,identityId:A}]}})})},m=f().catch(function(p){return wr(r,void 0,void 0,function(){return br(this,function(v){throw p})})});return this._loadCredentials(m,"userPool",!0,null)},e.prototype._loadCredentials=function(n,r,t,i){var a=this,s=this;return new Promise(function(c,d){n.then(function(o){return wr(a,void 0,void 0,function(){var l,f,m,p,v;return br(this,function(h){switch(h.label){case 0:if(ue.debug("Load credentials successfully",o),this._identityId&&!o.identityId&&(o.identityId=this._identityId),s._credentials=o,s._credentials.authenticated=t,s._credentials_source=r,s._nextCredentialsRefresh=new Date().getTime()+Fde,r==="federated"){l=Object.assign({id:this._credentials.identityId},i.user),f=i.provider,m=i.token,p=i.expires_at,v=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:f,token:m,user:l,expires_at:p,identity_id:v}))}catch(y){ue.debug("Failed to put federated info into auth storage",y)}}return r!=="guest"?[3,2]:[4,this._setGuestIdentityId(o.identityId)];case 1:h.sent(),h.label=2;case 2:return c(s._credentials),[2]}})})}).catch(function(o){if(o){ue.debug("Failed to load credentials",n),ue.debug("Error loading credentials",o),d(o);return}})})},e.prototype.set=function(n,r){return r==="session"?this._setCredentialsFromSession(n):r==="federation"?this._setCredentialsFromFederation(n):r==="guest"?this._setCredentialsForGuest():(ue.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return wr(this,void 0,void 0,function(){return br(this,function(n){return this._credentials=null,this._credentials_source=null,ue.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return wr(this,void 0,void 0,function(){var n,r;return br(this,function(t){switch(t.label){case 0:n=this._config.identityPoolId,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._storageSync];case 2:return t.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(n))];case 3:return r=t.sent(),ue.debug("Failed to get the cached guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(n){return wr(this,void 0,void 0,function(){var r,t;return br(this,function(i){switch(i.label){case 0:r=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(r),n),[3,4];case 3:return t=i.sent(),ue.debug("Failed to cache guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return wr(this,void 0,void 0,function(){var n;return br(this,function(r){return n=this._config.identityPoolId,ue.debug("removing "+this._getCognitoIdentityIdStorageKey(n)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(n)),[2]})})},e.prototype.shear=function(n){return{accessKeyId:n.accessKeyId,sessionToken:n.sessionToken,secretAccessKey:n.secretAccessKey,identityId:n.identityId,authenticated:n.authenticated}},e}();var ie=new VR(null);se.register(ie);var Es=function(){function e(){this._logger=new q("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(n,r){var t=this;return n===void 0&&(n="/service-worker.js"),r===void 0&&(r="/"),this._logger.debug("registering "+n),this._logger.debug("registering service worker with scope "+r),new Promise(function(i,a){if(navigator&&"serviceWorker"in navigator)navigator.serviceWorker.register(n,{scope:r}).then(function(s){return s.installing?t._serviceWorker=s.installing:s.waiting?t._serviceWorker=s.waiting:s.active&&(t._serviceWorker=s.active),t._registration=s,t._setupListeners(),t._logger.debug("Service Worker Registration Success: "+s),i(s)}).catch(function(s){return t._logger.debug("Service Worker Registration Failed "+s),a(s)});else return a(new Error("Service Worker not available"))})},e.prototype.enablePush=function(n){var r=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=n,new Promise(function(t,i){if(cn().isBrowser)r._registration.pushManager.getSubscription().then(function(a){if(a)r._subscription=a,r._logger.debug("User is subscribed to push: "+JSON.stringify(a)),t(a);else return r._logger.debug("User is NOT subscribed to push"),r._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r._urlB64ToUint8Array(n)}).then(function(s){r._subscription=s,r._logger.debug("User subscribed: "+JSON.stringify(s)),t(s)}).catch(function(s){r._logger.error(s)})});else return i(new Error("Service Worker not available"))})},e.prototype._urlB64ToUint8Array=function(n){for(var r="=".repeat((4-n.length%4)%4),t=(n+r).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(t),a=new Uint8Array(i.length),s=0;s<i.length;++s)a[s]=i.charCodeAt(s);return a},e.prototype.send=function(n){this._serviceWorker&&this._serviceWorker.postMessage(typeof n=="object"?JSON.stringify(n):n)},e.prototype._setupListeners=function(){var n=this;this._serviceWorker.addEventListener("statechange",function(r){var t=n._serviceWorker.state;n._logger.debug("ServiceWorker statechange: "+t),se.Analytics&&typeof se.Analytics.record=="function"&&se.Analytics.record({name:"ServiceWorker",attributes:{state:t}})}),this._serviceWorker.addEventListener("message",function(r){n._logger.debug("ServiceWorker message event: "+r)})},e}();var xd=W(p0());var KR=W(p0());function JR(){return typeof document=="object"&&typeof document.cookie=="string"}function WR(e,n){return typeof e=="string"?KR.parse(e,n):typeof e=="object"&&e!==null?e:{}}function Kde(e,n){return typeof n>"u"&&(n=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!n}function v0(e,n){n===void 0&&(n={});var r=Jde(e);if(Kde(r,n.doNotParse))try{return JSON.parse(r)}catch{}return e}function Jde(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var Ki=function(){return Ki=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ki.apply(this,arguments)},Wde=function(){function e(n,r){var t=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=WR(n,r),new Promise(function(){t.HAS_DOCUMENT_COOKIE=JR()}).catch(function(){})}return e.prototype._updateBrowserValues=function(n){this.HAS_DOCUMENT_COOKIE&&(this.cookies=xd.parse(document.cookie,n))},e.prototype._emitChange=function(n){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](n)},e.prototype.get=function(n,r,t){return r===void 0&&(r={}),this._updateBrowserValues(t),v0(this.cookies[n],r)},e.prototype.getAll=function(n,r){n===void 0&&(n={}),this._updateBrowserValues(r);var t={};for(var i in this.cookies)t[i]=v0(this.cookies[i],n);return t},e.prototype.set=function(n,r,t){var i;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=Ki(Ki({},this.cookies),(i={},i[n]=r,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=xd.serialize(n,r,t)),this._emitChange({name:n,value:r,options:t})},e.prototype.remove=function(n,r){var t=r=Ki(Ki({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Ki({},this.cookies),delete this.cookies[n],this.HAS_DOCUMENT_COOKIE&&(document.cookie=xd.serialize(n,"",t)),this._emitChange({name:n,value:void 0,options:r})},e.prototype.addChangeListener=function(n){this.changeListeners.push(n)},e.prototype.removeChangeListener=function(n){var r=this.changeListeners.indexOf(n);r>=0&&this.changeListeners.splice(r,1)},e}(),XR=Wde;var Cf=XR;var YR=cn().isBrowser,Cd=function(){function e(n){n===void 0&&(n={}),this.cookies=new Cf,this.store=YR?window.localStorage:Object.create(null),this.cookies=n.req?new Cf(n.req.headers.cookie):new Cf,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var n=this;Array.from(new Array(this.length)).map(function(r,t){return n.key(t)}).forEach(function(r){return n.removeItem(r)})},e.prototype.getItem=function(n){return this.getLocalItem(n)},e.prototype.getLocalItem=function(n){return Object.prototype.hasOwnProperty.call(this.store,n)?this.store[n]:null},e.prototype.getUniversalItem=function(n){return this.cookies.get(n)},e.prototype.key=function(n){return Object.keys(this.store)[n]},e.prototype.removeItem=function(n){this.removeLocalItem(n),this.removeUniversalItem(n)},e.prototype.removeLocalItem=function(n){delete this.store[n]},e.prototype.removeUniversalItem=function(n){this.cookies.remove(n,{path:"/"})},e.prototype.setItem=function(n,r){this.setLocalItem(n,r);var t=n.split(".").pop();switch(t){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":YR?this.setUniversalItem(n,r):this.setLocalItem(n,r)}},e.prototype.setLocalItem=function(n,r){this.store[n]=r},e.prototype.setUniversalItem=function(n,r){this.cookies.set(n,r,{path:"/",sameSite:!0,secure:window.location.hostname!=="localhost"})},e}();var QR=typeof Symbol<"u"&&typeof Symbol.for=="function",ZR=QR?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",Af=QR?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",e2="x-amz-user-agent";var Ji={userAgent:cr.userAgent};var _s;(function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"})(_s||(_s={}));function Tf(e){var n=["provider"];return e&&!!n.find(function(r){return e.hasOwnProperty(r)})}function n2(e){var n=["customProvider"];return e&&!!n.find(function(r){return e.hasOwnProperty(r)})}function r2(e){var n=["customState"];return e&&!!n.find(function(r){return e.hasOwnProperty(r)})}function ya(e){return e.redirectSignIn!==void 0}var Ee;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"})(Ee||(Ee={}));function t2(e){return!!e.username}var h0=function(){function e(r){var t=r||{},i=t.ValidationData,a=t.Username,s=t.Password,c=t.AuthParameters,d=t.ClientMetadata;this.validationData=i||{},this.authParameters=c||{},this.clientMetadata=d||{},this.username=a,this.password=s}var n=e.prototype;return n.getUsername=function(){return this.username},n.getPassword=function(){return this.password},n.getValidationData=function(){return this.validationData},n.getAuthParameters=function(){return this.authParameters},n.getClientMetadata=function(){return this.clientMetadata},e}();var ot=W(Cs()),Td=W(ni()),bBe=W(x0()),O2=W(Lf()),R0=W(C0());var at;typeof window<"u"&&window.crypto&&(at=window.crypto);!at&&typeof window<"u"&&window.msCrypto&&(at=window.msCrypto);!at&&typeof window<"u"&&window.crypto&&(at=window.crypto);if(!at&&typeof Yl=="function")try{at=S0()}catch{}function A0(){if(at){if(typeof at.getRandomValues=="function")try{return at.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof at.randomBytes=="function")try{return at.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function Ile(e){for(var n=e.words,r=e.sigBytes,t=[],i=0;i<r;i++){var a=n[i>>>2]>>>24-i%4*8&255;t.push((a>>>4).toString(16)),t.push((a&15).toString(16))}return t.join("")}var Ad=function(){function e(r,t){r=this.words=r||[],t!=null?this.sigBytes=t:this.sigBytes=r.length*4}var n=e.prototype;return n.random=function(t){for(var i=[],a=0;a<t;a+=4)i.push(A0());return new e(i,t)},n.toString=function(){return Ile(this)},e}();var Ke=oe;function oe(e,n){e!=null&&this.fromString(e,n)}function dr(){return new oe(null)}var ri,Nle=0xdeadbeefcafe,I2=(Nle&16777215)==15715070;function Rle(e,n,r,t,i,a){for(;--a>=0;){var s=n*this[e++]+r[t]+i;i=Math.floor(s/67108864),r[t++]=s&67108863}return i}function Ole(e,n,r,t,i,a){for(var s=n&32767,c=n>>15;--a>=0;){var d=this[e]&32767,o=this[e++]>>15,l=c*d+o*s;d=s*d+((l&32767)<<15)+r[t]+(i&1073741823),i=(d>>>30)+(l>>>15)+c*o+(i>>>30),r[t++]=d&1073741823}return i}function Mle(e,n,r,t,i,a){for(var s=n&16383,c=n>>14;--a>=0;){var d=this[e]&16383,o=this[e++]>>14,l=c*d+o*s;d=s*d+((l&16383)<<14)+r[t]+i,i=(d>>28)+(l>>14)+c*o,r[t++]=d&268435455}return i}var N2=typeof navigator<"u";N2&&I2&&navigator.appName=="Microsoft Internet Explorer"?(oe.prototype.am=Ole,ri=30):N2&&I2&&navigator.appName!="Netscape"?(oe.prototype.am=Rle,ri=26):(oe.prototype.am=Mle,ri=28);oe.prototype.DB=ri;oe.prototype.DM=(1<<ri)-1;oe.prototype.DV=1<<ri;var T0=52;oe.prototype.FV=Math.pow(2,T0);oe.prototype.F1=T0-ri;oe.prototype.F2=2*ri-T0;var Dle="0123456789abcdefghijklmnopqrstuvwxyz",Ff=new Array,As,it;As=48;for(it=0;it<=9;++it)Ff[As++]=it;As=97;for(it=10;it<36;++it)Ff[As++]=it;As=65;for(it=10;it<36;++it)Ff[As++]=it;function R2(e){return Dle.charAt(e)}function kle(e,n){var r=Ff[e.charCodeAt(n)];return r??-1}function zle(e){for(var n=this.t-1;n>=0;--n)e[n]=this[n];e.t=this.t,e.s=this.s}function Lle(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function P0(e){var n=dr();return n.fromInt(e),n}function Ble(e,n){var r;if(n==16)r=4;else if(n==8)r=3;else if(n==2)r=1;else if(n==32)r=5;else if(n==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var t=e.length,i=!1,a=0;--t>=0;){var s=kle(e,t);if(s<0){e.charAt(t)=="-"&&(i=!0);continue}i=!1,a==0?this[this.t++]=s:a+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}this.clamp(),i&&oe.ZERO.subTo(this,this)}function Ule(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function Fle(e){if(this.s<0)return"-"+this.negate().toString(e);var n;if(e==16)n=4;else if(e==8)n=3;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<n)-1,t,i=!1,a="",s=this.t,c=this.DB-s*this.DB%n;if(s-- >0)for(c<this.DB&&(t=this[s]>>c)>0&&(i=!0,a=R2(t));s>=0;)c<n?(t=(this[s]&(1<<c)-1)<<n-c,t|=this[--s]>>(c+=this.DB-n)):(t=this[s]>>(c-=n)&r,c<=0&&(c+=this.DB,--s)),t>0&&(i=!0),i&&(a+=R2(t));return i?a:"0"}function jle(){var e=dr();return oe.ZERO.subTo(this,e),e}function qle(){return this.s<0?this.negate():this}function $le(e){var n=this.s-e.s;if(n!=0)return n;var r=this.t;if(n=r-e.t,n!=0)return this.s<0?-n:n;for(;--r>=0;)if((n=this[r]-e[r])!=0)return n;return 0}function I0(e){var n=1,r;return(r=e>>>16)!=0&&(e=r,n+=16),(r=e>>8)!=0&&(e=r,n+=8),(r=e>>4)!=0&&(e=r,n+=4),(r=e>>2)!=0&&(e=r,n+=2),(r=e>>1)!=0&&(e=r,n+=1),n}function Hle(){return this.t<=0?0:this.DB*(this.t-1)+I0(this[this.t-1]^this.s&this.DM)}function Gle(e,n){var r;for(r=this.t-1;r>=0;--r)n[r+e]=this[r];for(r=e-1;r>=0;--r)n[r]=0;n.t=this.t+e,n.s=this.s}function Vle(e,n){for(var r=e;r<this.t;++r)n[r-e]=this[r];n.t=Math.max(this.t-e,0),n.s=this.s}function Kle(e,n){var r=e%this.DB,t=this.DB-r,i=(1<<t)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM,c;for(c=this.t-1;c>=0;--c)n[c+a+1]=this[c]>>t|s,s=(this[c]&i)<<r;for(c=a-1;c>=0;--c)n[c]=0;n[a]=s,n.t=this.t+a+1,n.s=this.s,n.clamp()}function Jle(e,n){n.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){n.t=0;return}var t=e%this.DB,i=this.DB-t,a=(1<<t)-1;n[0]=this[r]>>t;for(var s=r+1;s<this.t;++s)n[s-r-1]|=(this[s]&a)<<i,n[s-r]=this[s]>>t;t>0&&(n[this.t-r-1]|=(this.s&a)<<i),n.t=this.t-r,n.clamp()}function Wle(e,n){for(var r=0,t=0,i=Math.min(e.t,this.t);r<i;)t+=this[r]-e[r],n[r++]=t&this.DM,t>>=this.DB;if(e.t<this.t){for(t-=e.s;r<this.t;)t+=this[r],n[r++]=t&this.DM,t>>=this.DB;t+=this.s}else{for(t+=this.s;r<e.t;)t-=e[r],n[r++]=t&this.DM,t>>=this.DB;t-=e.s}n.s=t<0?-1:0,t<-1?n[r++]=this.DV+t:t>0&&(n[r++]=t),n.t=r,n.clamp()}function Xle(e,n){var r=this.abs(),t=e.abs(),i=r.t;for(n.t=i+t.t;--i>=0;)n[i]=0;for(i=0;i<t.t;++i)n[i+r.t]=r.am(0,t[i],n,i,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&oe.ZERO.subTo(n,n)}function Yle(e){for(var n=this.abs(),r=e.t=2*n.t;--r>=0;)e[r]=0;for(r=0;r<n.t-1;++r){var t=n.am(r,n[r],e,2*r,0,1);(e[r+n.t]+=n.am(r+1,2*n[r],e,2*r+1,t,n.t-r-1))>=n.DV&&(e[r+n.t]-=n.DV,e[r+n.t+1]=1)}e.t>0&&(e[e.t-1]+=n.am(r,n[r],e,2*r,0,1)),e.s=0,e.clamp()}function Qle(e,n,r){var t=e.abs();if(!(t.t<=0)){var i=this.abs();if(i.t<t.t){n?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=dr());var a=dr(),s=this.s,c=e.s,d=this.DB-I0(t[t.t-1]);d>0?(t.lShiftTo(d,a),i.lShiftTo(d,r)):(t.copyTo(a),i.copyTo(r));var o=a.t,l=a[o-1];if(l!=0){var f=l*(1<<this.F1)+(o>1?a[o-2]>>this.F2:0),m=this.FV/f,p=(1<<this.F1)/f,v=1<<this.F2,h=r.t,y=h-o,g=n??dr();for(a.dlShiftTo(y,g),r.compareTo(g)>=0&&(r[r.t++]=1,r.subTo(g,r)),oe.ONE.dlShiftTo(o,g),g.subTo(a,a);a.t<o;)a[a.t++]=0;for(;--y>=0;){var w=r[--h]==l?this.DM:Math.floor(r[h]*m+(r[h-1]+v)*p);if((r[h]+=a.am(0,w,r,y,0,o))<w)for(a.dlShiftTo(y,g),r.subTo(g,r);r[h]<--w;)r.subTo(g,r)}n!=null&&(r.drShiftTo(o,n),s!=c&&oe.ZERO.subTo(n,n)),r.t=o,r.clamp(),d>0&&r.rShiftTo(d,r),s<0&&oe.ZERO.subTo(r,r)}}}function Zle(e){var n=dr();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(oe.ZERO)>0&&e.subTo(n,n),n}function eue(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var n=e&3;return n=n*(2-(e&15)*n)&15,n=n*(2-(e&255)*n)&255,n=n*(2-((e&65535)*n&65535))&65535,n=n*(2-e*n%this.DV)%this.DV,n>0?this.DV-n:-n}function nue(e){return this.compareTo(e)==0}function rue(e,n){for(var r=0,t=0,i=Math.min(e.t,this.t);r<i;)t+=this[r]+e[r],n[r++]=t&this.DM,t>>=this.DB;if(e.t<this.t){for(t+=e.s;r<this.t;)t+=this[r],n[r++]=t&this.DM,t>>=this.DB;t+=this.s}else{for(t+=this.s;r<e.t;)t+=e[r],n[r++]=t&this.DM,t>>=this.DB;t+=e.s}n.s=t<0?-1:0,t>0?n[r++]=t:t<-1&&(n[r++]=this.DV+t),n.t=r,n.clamp()}function tue(e){var n=dr();return this.addTo(e,n),n}function aue(e){var n=dr();return this.subTo(e,n),n}function iue(e){var n=dr();return this.multiplyTo(e,n),n}function oue(e){var n=dr();return this.divRemTo(e,n,null),n}function Ts(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function sue(e){var n=dr();return e.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),e.s<0&&n.compareTo(oe.ZERO)>0&&this.m.subTo(n,n),n}function cue(e){var n=dr();return e.copyTo(n),this.reduce(n),n}function due(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var n=0;n<this.m.t;++n){var r=e[n]&32767,t=r*this.mpl+((r*this.mph+(e[n]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=n+this.m.t,e[r]+=this.m.am(0,t,e,n,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function lue(e,n){e.squareTo(n),this.reduce(n)}function uue(e,n,r){e.multiplyTo(n,r),this.reduce(r)}Ts.prototype.convert=sue;Ts.prototype.revert=cue;Ts.prototype.reduce=due;Ts.prototype.mulTo=uue;Ts.prototype.sqrTo=lue;function fue(e,n,r){var t=e.bitLength(),i,a=P0(1),s=new Ts(n);if(t<=0)return a;t<18?i=1:t<48?i=3:t<144?i=4:t<768?i=5:i=6;var c=new Array,d=3,o=i-1,l=(1<<i)-1;if(c[1]=s.convert(this),i>1){var f=dr();for(s.sqrTo(c[1],f);d<=l;)c[d]=dr(),s.mulTo(f,c[d-2],c[d]),d+=2}var m=e.t-1,p,v=!0,h=dr(),y;for(t=I0(e[m])-1;m>=0;){for(t>=o?p=e[m]>>t-o&l:(p=(e[m]&(1<<t+1)-1)<<o-t,m>0&&(p|=e[m-1]>>this.DB+t-o)),d=i;!(p&1);)p>>=1,--d;if((t-=d)<0&&(t+=this.DB,--m),v)c[p].copyTo(a),v=!1;else{for(;d>1;)s.sqrTo(a,h),s.sqrTo(h,a),d-=2;d>0?s.sqrTo(a,h):(y=a,a=h,h=y),s.mulTo(h,c[p],a)}for(;m>=0&&!(e[m]&1<<t);)s.sqrTo(a,h),y=a,a=h,h=y,--t<0&&(t=this.DB-1,--m)}var g=s.revert(a);return r(null,g),g}oe.prototype.copyTo=zle;oe.prototype.fromInt=Lle;oe.prototype.fromString=Ble;oe.prototype.clamp=Ule;oe.prototype.dlShiftTo=Gle;oe.prototype.drShiftTo=Vle;oe.prototype.lShiftTo=Kle;oe.prototype.rShiftTo=Jle;oe.prototype.subTo=Wle;oe.prototype.multiplyTo=Xle;oe.prototype.squareTo=Yle;oe.prototype.divRemTo=Qle;oe.prototype.invDigit=eue;oe.prototype.addTo=rue;oe.prototype.toString=Fle;oe.prototype.negate=jle;oe.prototype.abs=qle;oe.prototype.compareTo=$le;oe.prototype.bitLength=Hle;oe.prototype.mod=Zle;oe.prototype.equals=nue;oe.prototype.add=tue;oe.prototype.subtract=aue;oe.prototype.multiply=iue;oe.prototype.divide=oue;oe.prototype.modPow=fue;oe.ZERO=P0(0);oe.ONE=P0(1);function N0(e){return ot.Buffer.from(new Ad().random(e).toString(),"hex")}var mue=/^[89a-f]/i,pue="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",vue="userAttributes.",ti=function(){function e(r){this.N=new Ke(pue,16),this.g=new Ke("2",16),this.k=new Ke(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=ot.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var n=e.prototype;return n.getSmallAValue=function(){return this.smallAValue},n.getLargeAValue=function(t){var i=this;this.largeAValue?t(null,this.largeAValue):this.calculateA(this.smallAValue,function(a,s){a&&t(a,null),i.largeAValue=s,t(null,i.largeAValue)})},n.generateRandomSmallA=function(){var t=N0(128).toString("hex"),i=new Ke(t,16);return i},n.generateRandomString=function(){return N0(40).toString("base64")},n.getRandomPassword=function(){return this.randomPassword},n.getSaltDevices=function(){return this.SaltToHashDevices},n.getVerifierDevices=function(){return this.verifierDevices},n.generateHashDevice=function(t,i,a){var s=this;this.randomPassword=this.generateRandomString();var c=""+t+i+":"+this.randomPassword,d=this.hash(c),o=N0(16).toString("hex");this.SaltToHashDevices=this.padHex(new Ke(o,16)),this.g.modPow(new Ke(this.hexHash(this.SaltToHashDevices+d),16),this.N,function(l,f){l&&a(l,null),s.verifierDevices=s.padHex(f),a(null,null)})},n.calculateA=function(t,i){var a=this;this.g.modPow(t,this.N,function(s,c){s&&i(s,null),c.mod(a.N).equals(Ke.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,c)})},n.calculateU=function(t,i){this.UHexHash=this.hexHash(this.padHex(t)+this.padHex(i));var a=new Ke(this.UHexHash,16);return a},n.hash=function(t){var i=t instanceof ot.Buffer?Td.default.lib.WordArray.create(t):t,a=(0,O2.default)(i).toString();return new Array(64-a.length).join("0")+a},n.hexHash=function(t){return this.hash(ot.Buffer.from(t,"hex"))},n.computehkdf=function(t,i){var a=Td.default.lib.WordArray.create(ot.Buffer.concat([this.infoBits,ot.Buffer.from("","utf8")])),s=t instanceof ot.Buffer?Td.default.lib.WordArray.create(t):t,c=i instanceof ot.Buffer?Td.default.lib.WordArray.create(i):i,d=(0,R0.default)(s,c),o=(0,R0.default)(a,d);return ot.Buffer.from(o.toString(),"hex").slice(0,16)},n.getPasswordAuthenticationKey=function(t,i,a,s,c){var d=this;if(a.mod(this.N).equals(Ke.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,a),this.UValue.equals(Ke.ZERO))throw new Error("U cannot be zero.");var o=""+this.poolName+t+":"+i,l=this.hash(o),f=new Ke(this.hexHash(this.padHex(s)+l),16);this.calculateS(f,a,function(m,p){m&&c(m,null);var v=d.computehkdf(ot.Buffer.from(d.padHex(p),"hex"),ot.Buffer.from(d.padHex(d.UValue),"hex"));c(null,v)})},n.calculateS=function(t,i,a){var s=this;this.g.modPow(t,this.N,function(c,d){c&&a(c,null);var o=i.subtract(s.k.multiply(d));o.modPow(s.smallAValue.add(s.UValue.multiply(t)),s.N,function(l,f){l&&a(l,null),a(null,f.mod(s.N))})})},n.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return vue},n.padHex=function(t){if(!(t instanceof Ke))throw new Error("Not a BigInteger");var i=t.compareTo(Ke.ZERO)<0,a=t.abs().toString(16);if(a=a.length%2!==0?"0"+a:a,a=mue.test(a)?"00"+a:a,i){var s=a.split("").map(function(d){var o=~parseInt(d,16)&15;return"0123456789ABCDEF".charAt(o)}).join(""),c=new Ke(s,16).add(Ke.ONE);a=c.toString(16),a.toUpperCase().startsWith("FF8")&&(a=a.substring(2))}return a},e}();var M2=W(Cs());var jf=function(){function e(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var n=e.prototype;return n.getJwtToken=function(){return this.jwtToken},n.getExpiration=function(){return this.payload.exp},n.getIssuedAt=function(){return this.payload.iat},n.decodePayload=function(){var t=this.jwtToken.split(".")[1];try{return JSON.parse(M2.Buffer.from(t,"base64").toString("utf8"))}catch{return{}}},e}();function hue(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,O0(e,n)}function O0(e,n){return O0=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},O0(e,n)}var Ps=function(e){hue(n,e);function n(r){var t=r===void 0?{}:r,i=t.AccessToken;return e.call(this,i||"")||this}return n}(jf);function yue(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,M0(e,n)}function M0(e,n){return M0=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},M0(e,n)}var Is=function(e){yue(n,e);function n(r){var t=r===void 0?{}:r,i=t.IdToken;return e.call(this,i||"")||this}return n}(jf);var Ns=function(){function e(r){var t=r===void 0?{}:r,i=t.RefreshToken;this.token=i||""}var n=e.prototype;return n.getToken=function(){return this.token},e}();var lr=W(Cs()),Pd=W(ni()),DBe=W(x0()),k0=W(D0()),z0=W(C0());var Rs=function(){function e(r){var t=r===void 0?{}:r,i=t.IdToken,a=t.RefreshToken,s=t.AccessToken,c=t.ClockDrift;if(s==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=a,this.accessToken=s,this.clockDrift=c===void 0?this.calculateClockDrift():c}var n=e.prototype;return n.getIdToken=function(){return this.idToken},n.getRefreshToken=function(){return this.refreshToken},n.getAccessToken=function(){return this.accessToken},n.getClockDrift=function(){return this.clockDrift},n.calculateClockDrift=function(){var t=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return t-i},n.isValid=function(){var t=Math.floor(new Date/1e3),i=t-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},e}();var gue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wue=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$f=function(){function e(){}var n=e.prototype;return n.getNowString=function(){var t=new Date,i=wue[t.getUTCDay()],a=gue[t.getUTCMonth()],s=t.getUTCDate(),c=t.getUTCHours();c<10&&(c="0"+c);var d=t.getUTCMinutes();d<10&&(d="0"+d);var o=t.getUTCSeconds();o<10&&(o="0"+o);var l=t.getUTCFullYear(),f=i+" "+a+" "+s+" "+c+":"+d+":"+o+" UTC "+l;return f},e}();var wa=function(){function e(r){var t=r===void 0?{}:r,i=t.Name,a=t.Value;this.Name=i||"",this.Value=a||""}var n=e.prototype;return n.getValue=function(){return this.Value},n.setValue=function(t){return this.Value=t,this},n.getName=function(){return this.Name},n.setName=function(t){return this.Name=t,this},n.toString=function(){return JSON.stringify(this)},n.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();var Yi={},bue=function(){function e(){}return e.setItem=function(r,t){return Yi[r]=t,Yi[r]},e.getItem=function(r){return Object.prototype.hasOwnProperty.call(Yi,r)?Yi[r]:void 0},e.removeItem=function(r){return delete Yi[r]},e.clear=function(){return Yi={},Yi},e}(),Hf=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=bue}}var n=e.prototype;return n.getStorage=function(){return this.storageWindow},e}();var Eue=typeof navigator<"u",k2=Eue?navigator.userAgent:"nodejs",Qi=function(){function e(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new Hf().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var n=e.prototype;return n.setSignInUserSession=function(t){this.clearCachedUserData(),this.signInUserSession=t,this.cacheTokens()},n.getSignInUserSession=function(){return this.signInUserSession},n.getUsername=function(){return this.username},n.getAuthenticationFlowType=function(){return this.authenticationFlowType},n.setAuthenticationFlowType=function(t){this.authenticationFlowType=t},n.initiateAuth=function(t,i){var a=this,s=t.getAuthParameters();s.USERNAME=this.username;var c=Object.keys(t.getValidationData()).length!==0?t.getValidationData():t.getClientMetadata(),d={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:c};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",d,function(o,l){if(o)return i.onFailure(o);var f=l.ChallengeName,m=l.ChallengeParameters;return f==="CUSTOM_CHALLENGE"?(a.Session=l.Session,i.customChallenge(m)):(a.signInUserSession=a.getCognitoUserSession(l.AuthenticationResult),a.cacheTokens(),i.onSuccess(a.signInUserSession))})},n.authenticateUser=function(t,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(t,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(t,i):i.onFailure(new Error("Authentication flow type is invalid."))},n.authenticateUserDefaultAuth=function(t,i){var a=this,s=new ti(this.pool.getUserPoolId().split("_")[1]),c=new $f,d,o,l={};this.deviceKey!=null&&(l.DEVICE_KEY=this.deviceKey),l.USERNAME=this.username,s.getLargeAValue(function(f,m){f&&i.onFailure(f),l.SRP_A=m.toString(16),a.authenticationFlowType==="CUSTOM_AUTH"&&(l.CHALLENGE_NAME="SRP_A");var p=Object.keys(t.getValidationData()).length!==0?t.getValidationData():t.getClientMetadata(),v={AuthFlow:a.authenticationFlowType,ClientId:a.pool.getClientId(),AuthParameters:l,ClientMetadata:p};a.getUserContextData(a.username)&&(v.UserContextData=a.getUserContextData(a.username)),a.client.request("InitiateAuth",v,function(h,y){if(h)return i.onFailure(h);var g=y.ChallengeParameters;a.username=g.USER_ID_FOR_SRP,a.userDataKey=a.keyPrefix+"."+a.username+".userData",d=new Ke(g.SRP_B,16),o=new Ke(g.SALT,16),a.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(a.username,t.getPassword(),d,o,function(w,b){w&&i.onFailure(w);var E=c.getNowString(),S=Pd.default.lib.WordArray.create(lr.Buffer.concat([lr.Buffer.from(a.pool.getUserPoolId().split("_")[1],"utf8"),lr.Buffer.from(a.username,"utf8"),lr.Buffer.from(g.SECRET_BLOCK,"base64"),lr.Buffer.from(E,"utf8")])),A=Pd.default.lib.WordArray.create(b),I=k0.default.stringify((0,z0.default)(S,A)),P={};P.USERNAME=a.username,P.PASSWORD_CLAIM_SECRET_BLOCK=g.SECRET_BLOCK,P.TIMESTAMP=E,P.PASSWORD_CLAIM_SIGNATURE=I,a.deviceKey!=null&&(P.DEVICE_KEY=a.deviceKey);var O=function _(x,T){return a.client.request("RespondToAuthChallenge",x,function(M,D){return M&&M.code==="ResourceNotFoundException"&&M.message.toLowerCase().indexOf("device")!==-1?(P.DEVICE_KEY=null,a.deviceKey=null,a.randomPassword=null,a.deviceGroupKey=null,a.clearCachedDeviceKeyAndPassword(),_(x,T)):T(M,D)})},k={ChallengeName:"PASSWORD_VERIFIER",ClientId:a.pool.getClientId(),ChallengeResponses:P,Session:y.Session,ClientMetadata:p};a.getUserContextData()&&(k.UserContextData=a.getUserContextData()),O(k,function(_,x){return _?i.onFailure(_):a.authenticateUserInternal(x,s,i)})})})})},n.authenticateUserPlainUsernamePassword=function(t,i){var a=this,s={};if(s.USERNAME=this.username,s.PASSWORD=t.getPassword(),!s.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var c=new ti(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var d=Object.keys(t.getValidationData()).length!==0?t.getValidationData():t.getClientMetadata(),o={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:d};this.getUserContextData(this.username)&&(o.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",o,function(l,f){return l?i.onFailure(l):a.authenticateUserInternal(f,c,i)})},n.authenticateUserInternal=function(t,i,a){var s=this,c=t.ChallengeName,d=t.ChallengeParameters;if(c==="SMS_MFA")return this.Session=t.Session,a.mfaRequired(c,d);if(c==="SELECT_MFA_TYPE")return this.Session=t.Session,a.selectMFAType(c,d);if(c==="MFA_SETUP")return this.Session=t.Session,a.mfaSetup(c,d);if(c==="SOFTWARE_TOKEN_MFA")return this.Session=t.Session,a.totpRequired(c,d);if(c==="CUSTOM_CHALLENGE")return this.Session=t.Session,a.customChallenge(d);if(c==="NEW_PASSWORD_REQUIRED"){this.Session=t.Session;var o=null,l=null,f=[],m=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(d&&(o=JSON.parse(t.ChallengeParameters.userAttributes),l=JSON.parse(t.ChallengeParameters.requiredAttributes)),l)for(var p=0;p<l.length;p++)f[p]=l[p].substr(m.length);return a.newPasswordRequired(o,f)}if(c==="DEVICE_SRP_AUTH"){this.Session=t.Session,this.getDeviceResponse(a);return}this.signInUserSession=this.getCognitoUserSession(t.AuthenticationResult),this.challengeName=c,this.cacheTokens();var v=t.AuthenticationResult.NewDeviceMetadata;if(v==null)return a.onSuccess(this.signInUserSession);i.generateHashDevice(t.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,t.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(h){if(h)return a.onFailure(h);var y={Salt:lr.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:lr.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=y.PasswordVerifier,s.deviceGroupKey=v.DeviceGroupKey,s.randomPassword=i.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:v.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:y,DeviceName:k2},function(g,w){return g?a.onFailure(g):(s.deviceKey=t.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),w.UserConfirmationNecessary===!0?a.onSuccess(s.signInUserSession,w.UserConfirmationNecessary):a.onSuccess(s.signInUserSession))})})},n.completeNewPasswordChallenge=function(t,i,a,s){var c=this;if(!t)return a.onFailure(new Error("New password is required."));var d=new ti(this.pool.getUserPoolId().split("_")[1]),o=d.getNewPasswordRequiredChallengeUserAttributePrefix(),l={};i&&Object.keys(i).forEach(function(m){l[o+m]=i[m]}),l.NEW_PASSWORD=t,l.USERNAME=this.username;var f={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:l,Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(m,p){return m?a.onFailure(m):c.authenticateUserInternal(p,d,a)})},n.getDeviceResponse=function(t,i){var a=this,s=new ti(this.deviceGroupKey),c=new $f,d={};d.USERNAME=this.username,d.DEVICE_KEY=this.deviceKey,s.getLargeAValue(function(o,l){o&&t.onFailure(o),d.SRP_A=l.toString(16);var f={ChallengeName:"DEVICE_SRP_AUTH",ClientId:a.pool.getClientId(),ChallengeResponses:d,ClientMetadata:i,Session:a.Session};a.getUserContextData()&&(f.UserContextData=a.getUserContextData()),a.client.request("RespondToAuthChallenge",f,function(m,p){if(m)return t.onFailure(m);var v=p.ChallengeParameters,h=new Ke(v.SRP_B,16),y=new Ke(v.SALT,16);s.getPasswordAuthenticationKey(a.deviceKey,a.randomPassword,h,y,function(g,w){if(g)return t.onFailure(g);var b=c.getNowString(),E=Pd.default.lib.WordArray.create(lr.Buffer.concat([lr.Buffer.from(a.deviceGroupKey,"utf8"),lr.Buffer.from(a.deviceKey,"utf8"),lr.Buffer.from(v.SECRET_BLOCK,"base64"),lr.Buffer.from(b,"utf8")])),S=Pd.default.lib.WordArray.create(w),A=k0.default.stringify((0,z0.default)(E,S)),I={};I.USERNAME=a.username,I.PASSWORD_CLAIM_SECRET_BLOCK=v.SECRET_BLOCK,I.TIMESTAMP=b,I.PASSWORD_CLAIM_SIGNATURE=A,I.DEVICE_KEY=a.deviceKey;var P={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:a.pool.getClientId(),ChallengeResponses:I,Session:p.Session};a.getUserContextData()&&(P.UserContextData=a.getUserContextData()),a.client.request("RespondToAuthChallenge",P,function(O,k){return O?t.onFailure(O):(a.signInUserSession=a.getCognitoUserSession(k.AuthenticationResult),a.cacheTokens(),t.onSuccess(a.signInUserSession))})})})})},n.confirmRegistration=function(t,i,a,s){var c={ClientId:this.pool.getClientId(),ConfirmationCode:t,Username:this.username,ForceAliasCreation:i,ClientMetadata:s};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",c,function(d){return d?a(d,null):a(null,"SUCCESS")})},n.sendCustomChallengeAnswer=function(t,i,a){var s=this,c={};c.USERNAME=this.username,c.ANSWER=t;var d=new ti(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(c.DEVICE_KEY=this.deviceKey);var o={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:a};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",o,function(l,f){return l?i.onFailure(l):s.authenticateUserInternal(f,d,i)})},n.sendMFACode=function(t,i,a,s){var c=this,d={};d.USERNAME=this.username,d.SMS_MFA_CODE=t;var o=a||"SMS_MFA";o==="SOFTWARE_TOKEN_MFA"&&(d.SOFTWARE_TOKEN_MFA_CODE=t),this.deviceKey!=null&&(d.DEVICE_KEY=this.deviceKey);var l={ChallengeName:o,ChallengeResponses:d,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(f,m){if(f)return i.onFailure(f);var p=m.ChallengeName;if(p==="DEVICE_SRP_AUTH"){c.getDeviceResponse(i);return}if(c.signInUserSession=c.getCognitoUserSession(m.AuthenticationResult),c.cacheTokens(),m.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(c.signInUserSession);var v=new ti(c.pool.getUserPoolId().split("_")[1]);v.generateHashDevice(m.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,m.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(h){if(h)return i.onFailure(h);var y={Salt:lr.Buffer.from(v.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:lr.Buffer.from(v.getVerifierDevices(),"hex").toString("base64")};c.verifierDevices=y.PasswordVerifier,c.deviceGroupKey=m.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,c.randomPassword=v.getRandomPassword(),c.client.request("ConfirmDevice",{DeviceKey:m.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:c.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:y,DeviceName:k2},function(g,w){return g?i.onFailure(g):(c.deviceKey=m.AuthenticationResult.NewDeviceMetadata.DeviceKey,c.cacheDeviceKeyAndPassword(),w.UserConfirmationNecessary===!0?i.onSuccess(c.signInUserSession,w.UserConfirmationNecessary):i.onSuccess(c.signInUserSession))})})})},n.changePassword=function(t,i,a,s){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return a(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:t,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:s},function(c){return c?a(c,null):a(null,"SUCCESS")})},n.enableMFA=function(t){if(this.signInUserSession==null||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);var i=[],a={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(a),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?t(s,null):t(null,"SUCCESS")})},n.setUserMfaPreference=function(t,i,a){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:t,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?a(s,null):a(null,"SUCCESS")})},n.disableMFA=function(t){if(this.signInUserSession==null||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?t(a,null):t(null,"SUCCESS")})},n.deleteUser=function(t,i){var a=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(s){return s?t(s,null):(a.clearCachedUser(),t(null,"SUCCESS"))})},n.updateAttributes=function(t,i,a){var s=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:t,ClientMetadata:a},function(c){return c?i(c,null):s.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},n.getUserAttributes=function(t){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,a){if(i)return t(i,null);for(var s=[],c=0;c<a.UserAttributes.length;c++){var d={Name:a.UserAttributes[c].Name,Value:a.UserAttributes[c].Value},o=new wa(d);s.push(o)}return t(null,s)})},n.getMFAOptions=function(t){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return t(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,a){return i?t(i,null):t(null,a.MFAOptions)})},n.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},n.refreshSessionIfPossible=function(t){var i=this;return t===void 0&&(t={}),new Promise(function(a){var s=i.signInUserSession.getRefreshToken();s&&s.getToken()?i.refreshSession(s,a,t.clientMetadata):a()})},n.getUserData=function(t,i){var a=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),t(new Error("User is not authenticated"),null);var s=this.getUserDataFromCache();if(!s){this.fetchUserData().then(function(c){t(null,c)}).catch(t);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(c){return a.refreshSessionIfPossible(i).then(function(){return c})}).then(function(c){return t(null,c)}).catch(t);return}try{t(null,JSON.parse(s));return}catch(c){this.clearCachedUserData(),t(c,null);return}},n.getUserDataFromCache=function(){var t=this.storage.getItem(this.userDataKey);return t},n.isFetchUserDataAndTokenRequired=function(t){var i=t||{},a=i.bypassCache,s=a===void 0?!1:a;return s},n.fetchUserData=function(){var t=this;return this.createGetUserRequest().then(function(i){return t.cacheUserData(i),i})},n.deleteAttributes=function(t,i){var a=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?i(s,null):a.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},n.resendConfirmationCode=function(t,i){var a={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",a,function(s,c){return s?t(s,null):t(null,c)})},n.getSession=function(t,i){if(i===void 0&&(i={}),this.username==null)return t(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return t(null,this.signInUserSession);var a="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=a+".idToken",c=a+".accessToken",d=a+".refreshToken",o=a+".clockDrift";if(this.storage.getItem(s)){var l=new Is({IdToken:this.storage.getItem(s)}),f=new Ps({AccessToken:this.storage.getItem(c)}),m=new Ns({RefreshToken:this.storage.getItem(d)}),p=parseInt(this.storage.getItem(o),0)||0,v={IdToken:l,AccessToken:f,RefreshToken:m,ClockDrift:p},h=new Rs(v);if(h.isValid())return this.signInUserSession=h,t(null,this.signInUserSession);if(!m.getToken())return t(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(m,t,i.clientMetadata)}else t(new Error("Local storage is missing an ID Token, Please authenticate"),null)},n.refreshSession=function(t,i,a){var s=this,c=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,d={};d.REFRESH_TOKEN=t.getToken();var o="CognitoIdentityServiceProvider."+this.pool.getClientId(),l=o+".LastAuthUser";if(this.storage.getItem(l)){this.username=this.storage.getItem(l);var f=o+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(f),d.DEVICE_KEY=this.deviceKey}var m={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:d,ClientMetadata:a};this.getUserContextData()&&(m.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",m,function(p,v){if(p)return p.code==="NotAuthorizedException"&&s.clearCachedUser(),c(p,null);if(v){var h=v.AuthenticationResult;return Object.prototype.hasOwnProperty.call(h,"RefreshToken")||(h.RefreshToken=t.getToken()),s.signInUserSession=s.getCognitoUserSession(h),s.cacheTokens(),c(null,s.signInUserSession)}})},n.cacheTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=t+"."+this.username+".idToken",a=t+"."+this.username+".accessToken",s=t+"."+this.username+".refreshToken",c=t+"."+this.username+".clockDrift",d=t+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(a,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(s,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(c,""+this.signInUserSession.getClockDrift()),this.storage.setItem(d,this.username)},n.cacheUserData=function(t){this.storage.setItem(this.userDataKey,JSON.stringify(t))},n.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},n.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},n.cacheDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=t+".deviceKey",a=t+".randomPasswordKey",s=t+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(a,this.randomPassword),this.storage.setItem(s,this.deviceGroupKey)},n.getCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=t+".deviceKey",a=t+".randomPasswordKey",s=t+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(a),this.deviceGroupKey=this.storage.getItem(s))},n.clearCachedDeviceKeyAndPassword=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=t+".deviceKey",a=t+".randomPasswordKey",s=t+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(a),this.storage.removeItem(s)},n.clearCachedTokens=function(){var t="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=t+"."+this.username+".idToken",a=t+"."+this.username+".accessToken",s=t+"."+this.username+".refreshToken",c=t+".LastAuthUser",d=t+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(a),this.storage.removeItem(s),this.storage.removeItem(c),this.storage.removeItem(d)},n.getCognitoUserSession=function(t){var i=new Is(t),a=new Ps(t),s=new Ns(t),c={IdToken:i,AccessToken:a,RefreshToken:s};return new Rs(c)},n.forgotPassword=function(t,i){var a={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",a,function(s,c){return s?t.onFailure(s):typeof t.inputVerificationCode=="function"?t.inputVerificationCode(c):t.onSuccess(c)})},n.confirmPassword=function(t,i,a,s){var c={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:t,Password:i,ClientMetadata:s};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",c,function(d){return d?a.onFailure(d):a.onSuccess("SUCCESS")})},n.getAttributeVerificationCode=function(t,i,a){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:a},function(s,c){return s?i.onFailure(s):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(c):i.onSuccess("SUCCESS")})},n.verifyAttribute=function(t,i,a){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:t,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?a.onFailure(s):a.onSuccess("SUCCESS")})},n.getDevice=function(t){if(this.signInUserSession==null||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,a){return i?t.onFailure(i):t.onSuccess(a)})},n.forgetSpecificDevice=function(t,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:t},function(a){return a?i.onFailure(a):i.onSuccess("SUCCESS")})},n.forgetDevice=function(t){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:t.onFailure,onSuccess:function(s){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),t.onSuccess(s)}})},n.setDeviceStatusRemembered=function(t){if(this.signInUserSession==null||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?t.onFailure(i):t.onSuccess("SUCCESS")})},n.setDeviceStatusNotRemembered=function(t){if(this.signInUserSession==null||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?t.onFailure(i):t.onSuccess("SUCCESS")})},n.listDevices=function(t,i,a){if(this.signInUserSession==null||!this.signInUserSession.isValid())return a.onFailure(new Error("User is not authenticated"));var s={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:t};i&&(s.PaginationToken=i),this.client.request("ListDevices",s,function(c,d){return c?a.onFailure(c):a.onSuccess(d)})},n.globalSignOut=function(t){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?t.onFailure(a):(i.clearCachedUser(),t.onSuccess("SUCCESS"))})},n.signOut=function(t){var i=this;if(!t||typeof t!="function"){this.cleanClientData();return}this.getSession(function(a,s){if(a)return t(a);i.revokeTokens(function(c){i.cleanClientData(),t(c)})})},n.revokeTokens=function(t){if(t===void 0&&(t=function(){}),typeof t!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");var i=[];if(!this.signInUserSession){var a=new Error("User is not authenticated");return t(a)}if(!this.signInUserSession.getAccessToken()){var s=new Error("No Access token available");return t(s)}var c=this.signInUserSession.getRefreshToken().getToken(),d=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(d)&&c)return this.revokeToken({token:c,callback:t});t()},n.isSessionRevocable=function(t){if(t&&typeof t.decodePayload=="function")try{var i=t.decodePayload(),a=i.origin_jti;return!!a}catch{}return!1},n.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},n.revokeToken=function(t){var i=t.token,a=t.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(s){if(s)return a(s);a()})},n.sendMFASelectionAnswer=function(t,i){var a=this,s={};s.USERNAME=this.username,s.ANSWER=t;var c={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",c,function(d,o){if(d)return i.onFailure(d);if(a.Session=o.Session,t==="SMS_MFA")return i.mfaRequired(o.ChallengeName,o.ChallengeParameters);if(t==="SOFTWARE_TOKEN_MFA")return i.totpRequired(o.ChallengeName,o.ChallengeParameters)})},n.getUserContextData=function(){var t=this.pool;return t.getUserContextData(this.username)},n.associateSoftwareToken=function(t){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a,s){return a?t.onFailure(a):t.associateSecretCode(s.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(a,s){return a?t.onFailure(a):(i.Session=s.Session,t.associateSecretCode(s.SecretCode))})},n.verifySoftwareToken=function(t,i,a){var s=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:t,FriendlyDeviceName:i},function(c,d){return c?a.onFailure(c):a.onSuccess(d)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:t,FriendlyDeviceName:i},function(c,d){if(c)return a.onFailure(c);s.Session=d.Session;var o={};o.USERNAME=s.username;var l={ChallengeName:"MFA_SETUP",ClientId:s.pool.getClientId(),ChallengeResponses:o,Session:s.Session};s.getUserContextData()&&(l.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",l,function(f,m){return f?a.onFailure(f):(s.signInUserSession=s.getCognitoUserSession(m.AuthenticationResult),s.cacheTokens(),a.onSuccess(s.signInUserSession))})})},e}();var ZBe=W(B2());var U2="5.0.4";var B0="aws-amplify/"+U2,Zi={userAgent:B0+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator<"u"&&navigator.product)switch(Zi.product=navigator.product||"",Zi.navigator=navigator||null,navigator.product){case"ReactNative":Zi.userAgent=B0+" react-native",Zi.isReactNative=!0;break;default:Zi.userAgent=B0+" js",Zi.isReactNative=!1;break}var F2=function(){return Zi.userAgent};function j2(){}j2.prototype.userAgent=F2();var q2=j2;function _ue(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,Id(e,n)}function U0(e){var n=typeof Map=="function"?new Map:void 0;return U0=function(t){if(t===null||!xue(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return Vf(t,arguments,F0(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Id(i,t)},U0(e)}function Vf(e,n,r){return Sue()?Vf=Reflect.construct:Vf=function(i,a,s){var c=[null];c.push.apply(c,a);var d=Function.bind.apply(i,c),o=new d;return s&&Id(o,s.prototype),o},Vf.apply(null,arguments)}function Sue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xue(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Id(e,n){return Id=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},Id(e,n)}function F0(e){return F0=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(e)}var Cue=function(e){_ue(n,e);function n(r,t,i,a){var s;return s=e.call(this,r)||this,s.code=t,s.name=i,s.statusCode=a,s}return n}(U0(Error)),$2=function(){function e(r,t,i){this.endpoint=t||"https://cognito-idp."+r+".amazonaws.com/";var a=i||{},s=a.credentials;this.fetchOptions=s?{credentials:s}:{}}var n=e.prototype;return n.promisifyRequest=function(t,i){var a=this;return new Promise(function(s,c){a.request(t,i,function(d,o){d?c(new Cue(d.message,d.code,d.name,d.statusCode)):s(o)})})},n.requestWithRetry=function(t,i,a){var s=this,c=5*1e3;Iue(function(d){return new Promise(function(o,l){s.request(t,d,function(f,m){f?l(f):o(m)})})},[i],c).then(function(d){return a(null,d)}).catch(function(d){return a(d)})},n.request=function(t,i,a){var s={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+t,"X-Amz-User-Agent":q2.prototype.userAgent},c=Object.assign({},this.fetchOptions,{headers:s,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(i)}),d,o;fetch(this.endpoint,c).then(function(l){return d=l,l},function(l){throw l instanceof TypeError?new Error("Network error"):l}).then(function(l){return l.json().catch(function(){return{}})}).then(function(l){if(d.ok)return a(null,l);o=l;var f=(l.__type||l.code).split("#").pop(),m=new Error(l.message||l.Message||null);return m.name=f,m.code=f,a(m)}).catch(function(l){if(d&&d.headers&&d.headers.get("x-amzn-errortype"))try{var f=d.headers.get("x-amzn-errortype").split(":")[0],m=new Error(d.status?d.status.toString():null);return m.code=f,m.name=f,m.statusCode=d.status,a(m)}catch{return a(l)}else l instanceof Error&&l.message==="Network error"&&(l.code="NetworkError");return a(l)})},e}();var Gf={debug:function(){}};var Aue=function(n){var r="nonRetryable";return n&&n[r]};function H2(e,n,r,t){if(t===void 0&&(t=1),typeof e!="function")throw Error("functionToRetry must be a function");return Gf.debug(e.name+" attempt #"+t+" with args: "+JSON.stringify(n)),e.apply(void 0,n).catch(function(i){if(Gf.debug("error on "+e.name,i),Aue(i))throw Gf.debug(e.name+" non retryable error",i),i;var a=r(t,n,i);if(Gf.debug(e.name+" retrying in "+a+" ms"),a!==!1)return new Promise(function(s){return setTimeout(s,a)}).then(function(){return H2(e,n,r,t+1)});throw i})}function Tue(e){var n=100,r=100;return function(t){var i=Math.pow(2,t)*n+r*Math.random();return i>e?!1:i}}var Pue=5*60*1e3;function Iue(e,n,r){return r===void 0&&(r=Pue),H2(e,n,Tue(r))}var Nue=55,j0=function(){function e(r,t){var i=r||{},a=i.UserPoolId,s=i.ClientId,c=i.endpoint,d=i.fetchOptions,o=i.AdvancedSecurityDataCollectionFlag;if(!a||!s)throw new Error("Both UserPoolId and ClientId are required.");if(a.length>Nue||!/^[\w-]+_[0-9a-zA-Z]+$/.test(a))throw new Error("Invalid UserPoolId format.");var l=a.split("_")[0];this.userPoolId=a,this.clientId=s,this.client=new $2(l,c,d),this.advancedSecurityDataCollectionFlag=o!==!1,this.storage=r.Storage||new Hf().getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var n=e.prototype;return n.getUserPoolId=function(){return this.userPoolId},n.getClientId=function(){return this.clientId},n.signUp=function(t,i,a,s,c,d){var o=this,l={ClientId:this.clientId,Username:t,Password:i,UserAttributes:a,ValidationData:s,ClientMetadata:d};this.getUserContextData(t)&&(l.UserContextData=this.getUserContextData(t)),this.client.request("SignUp",l,function(f,m){if(f)return c(f,null);var p={Username:t,Pool:o,Storage:o.storage},v={user:new Qi(p),userConfirmed:m.UserConfirmed,userSub:m.UserSub,codeDeliveryDetails:m.CodeDeliveryDetails};return c(null,v)})},n.getCurrentUser=function(){var t="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(t);if(i){var a={Username:i,Pool:this,Storage:this.storage};return new Qi(a)}return null},n.getUserContextData=function(t){if(!(typeof AmazonCognitoAdvancedSecurityData>"u")){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var a=i.getData(t,this.userPoolId,this.clientId);if(a){var s={EncodedData:a};return s}}return{}}},e}();var ai=W(K2()),Kf=function(){function e(r){if(r.domain)this.domain=r.domain;else throw new Error("The domain of cookieStorage can not be undefined.");if(r.path?this.path=r.path:this.path="/",Object.prototype.hasOwnProperty.call(r,"expires")?this.expires=r.expires:this.expires=365,Object.prototype.hasOwnProperty.call(r,"secure")?this.secure=r.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(r,"sameSite")){if(!["strict","lax","none"].includes(r.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(r.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r.sameSite}else this.sameSite=null}var n=e.prototype;return n.setItem=function(t,i){var a={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(a.sameSite=this.sameSite),ai.set(t,i,a),ai.get(t)},n.getItem=function(t){return ai.get(t)},n.removeItem=function(t){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),ai.remove(t,i)},n.clear=function(){for(var t=ai.get(),i=Object.keys(t).length,a=0;a<i;++a)this.removeItem(Object.keys(t)[a]);return{}},e}();var $0=W(as());var no=W(as());var Oue="_self",J2=function(e){var n=window.open(e,Oue);return n?Promise.resolve(n):Promise.reject()};var W2=function(e){window.sessionStorage.setItem("oauth_state",e)},X2=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},Y2=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},Q2=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e};var Z2=W(Lf()),eO=W(D0()),ur=function(){return ur=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ur.apply(this,arguments)},Jf=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Wf=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},eo=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Due=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",q0=function(e,n,r){ye.dispatch("auth",{event:e,data:n,message:r},"Auth",Due)},Os=new q("OAuth"),kue=function(){function e(n){var r=n.config,t=n.cognitoClientId,i=n.scopes,a=i===void 0?[]:i;if(this._urlOpener=r.urlOpener||J2,this._config=r,this._cognitoClientId=t,!this.isValidScopes(a))throw Error("scopes must be a String Array");this._scopes=a}return e.prototype.isValidScopes=function(n){return Array.isArray(n)&&n.every(function(r){return typeof r=="string"})},e.prototype.oauthSignIn=function(n,r,t,i,a,s){n===void 0&&(n="code"),a===void 0&&(a=_s.Cognito);var c=this._generateState(32),d=s?c+"-"+NA(s):c;W2(d);var o=this._generateRandom(128);Y2(o);var l=this._generateChallenge(o),f="S256",m=this._scopes.join(" "),p=Object.entries(ur(ur({redirect_uri:t,response_type:n,client_id:i,identity_provider:a,scope:m,state:d},n==="code"?{code_challenge:l}:{}),n==="code"?{code_challenge_method:f}:{})).map(function(h){var y=eo(h,2),g=y[0],w=y[1];return encodeURIComponent(g)+"="+encodeURIComponent(w)}).join("&"),v="https://"+r+"/oauth2/authorize?"+p;Os.debug("Redirecting to "+v),this._urlOpener(v,t)},e.prototype._handleCodeFlow=function(n){return Jf(this,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h;return Wf(this,function(y){switch(y.label){case 0:return r=((0,no.parse)(n).query||"").split("&").map(function(g){return g.split("=")}).reduce(function(g,w){var b,E=eo(w,2),S=E[0],A=E[1];return ur(ur({},g),(b={},b[S]=A,b))},{code:void 0}).code,t=(0,no.parse)(n).pathname||"/",i=(0,no.parse)(this._config.redirectSignIn).pathname||"/",!r||t!==i?[2]:(a="https://"+this._config.domain+"/oauth2/token",q0("codeFlow",{},"Retrieving tokens from "+a),s=ya(this._config)?this._cognitoClientId:this._config.clientID,c=ya(this._config)?this._config.redirectSignIn:this._config.redirectUri,d=Q2(),o=ur({grant_type:"authorization_code",code:r,client_id:s,redirect_uri:c},d?{code_verifier:d}:{}),Os.debug("Calling token endpoint: "+a+" with",o),l=Object.entries(o).map(function(g){var w=eo(g,2),b=w[0],E=w[1];return encodeURIComponent(b)+"="+encodeURIComponent(E)}).join("&"),[4,fetch(a,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]);case 1:return[4,y.sent().json()];case 2:if(f=y.sent(),m=f.access_token,p=f.refresh_token,v=f.id_token,h=f.error,h)throw new Error(h);return[2,{accessToken:m,refreshToken:p,idToken:v}]}})})},e.prototype._handleImplicitFlow=function(n){return Jf(this,void 0,void 0,function(){var r,t,i;return Wf(this,function(a){return r=((0,no.parse)(n).hash||"#").substr(1).split("&").map(function(s){return s.split("=")}).reduce(function(s,c){var d,o=eo(c,2),l=o[0],f=o[1];return ur(ur({},s),(d={},d[l]=f,d))},{id_token:void 0,access_token:void 0}),t=r.id_token,i=r.access_token,q0("implicitFlow",{},"Got tokens from "+n),Os.debug("Retrieving implicit tokens from "+n+" with"),[2,{accessToken:i,idToken:t,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(n){return Jf(this,void 0,void 0,function(){var r,t,i,a,s,c,d;return Wf(this,function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),r=n?ur(ur({},((0,no.parse)(n).hash||"#").substr(1).split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var m=eo(f,2),p=m[0],v=m[1];return l[p]=v,l},{})),((0,no.parse)(n).query||"").split("&").map(function(l){return l.split("=")}).reduce(function(l,f){var m=eo(f,2),p=m[0],v=m[1];return l[p]=v,l},{})):{},t=r.error,i=r.error_description,t)throw new Error(i);return a=this._validateState(r),Os.debug("Starting "+this._config.responseType+" flow with "+n),this._config.responseType!=="code"?[3,2]:(s=[{}],[4,this._handleCodeFlow(n)]);case 1:return[2,ur.apply(void 0,[ur.apply(void 0,s.concat([o.sent()])),{state:a}])];case 2:return c=[{}],[4,this._handleImplicitFlow(n)];case 3:return[2,ur.apply(void 0,[ur.apply(void 0,c.concat([o.sent()])),{state:a}])];case 4:return[3,6];case 5:throw d=o.sent(),Os.error("Error handling auth response.",d),d;case 6:return[2]}})})},e.prototype._validateState=function(n){if(n){var r=X2(),t=n.state;if(r&&r!==t)throw new Error("Invalid state in OAuth flow");return t}},e.prototype.signOut=function(){return Jf(this,void 0,void 0,function(){var n,r,t;return Wf(this,function(i){return n="https://"+this._config.domain+"/logout?",r=ya(this._config)?this._cognitoClientId:this._config.oauth.clientID,t=ya(this._config)?this._config.redirectSignOut:this._config.returnTo,n+=Object.entries({client_id:r,logout_uri:encodeURIComponent(t)}).map(function(a){var s=eo(a,2),c=s[0],d=s[1];return c+"="+d}).join("&"),q0("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+n),Os.debug("Signing out from "+n),[2,this._urlOpener(n,t)]})})},e.prototype._generateState=function(n){for(var r="",t=n,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";t>0;--t)r+=i[Math.round(Math.random()*(i.length-1))];return r},e.prototype._generateChallenge=function(n){return this._base64URL((0,Z2.default)(n))},e.prototype._base64URL=function(n){return n.toString(eO.default).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=new Uint8Array(n);if(typeof window<"u"&&window.crypto)window.crypto.getRandomValues(t);else for(var i=0;i<n;i+=1)t[i]=Math.random()*r.length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(n){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[],i=0;i<n.byteLength;i+=1){var a=n[i]%r.length;t.push(r[a])}return t.join("")},e}(),nO=kue;var rO=function(e){if(Se.browserOrNode().isBrowser&&window.location){var n=window.location.href;e({url:n})}else if(!Se.browserOrNode().isNode)throw new Error("Not supported")};var _n;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"})(_n||(_n={}));var tO=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),zue=new q("AuthError"),ba=function(e){tO(n,e);function n(r){var t=this,i=Lue[r],a=i.message,s=i.log;return t=e.call(this,a)||this,t.constructor=n,Object.setPrototypeOf(t,n.prototype),t.name="AuthError",t.log=s||a,zue.error(t.log),t}return n}(Error);var aO=function(e){tO(n,e);function n(r){var t=e.call(this,r)||this;return t.constructor=n,Object.setPrototypeOf(t,n.prototype),t.name="NoUserPoolError",t}return n}(ba);var Lue={noConfig:{message:_n.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:_n.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:_n.EMPTY_USERNAME},invalidUsername:{message:_n.INVALID_USERNAME},emptyPassword:{message:_n.EMPTY_PASSWORD},emptyCode:{message:_n.EMPTY_CODE},signUpError:{message:_n.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:_n.NO_MFA},invalidMFA:{message:_n.INVALID_MFA},emptyChallengeResponse:{message:_n.EMPTY_CHALLENGE},noUserSession:{message:_n.NO_USER_SESSION},deviceConfig:{message:_n.DEVICE_CONFIG},networkError:{message:_n.NETWORK_ERROR},default:{message:_n.DEFAULT_MSG}};var Xf=function(){return Xf=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xf.apply(this,arguments)},Sn=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},xn=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},iO=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},K=new q("AuthClass"),oO="aws.cognito.signin.user.admin",Bue=10*1e3,Uue=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Re=function(e,n,r){ye.dispatch("auth",{event:e,data:n,message:r},"Auth",Uue)},Fue=60,jue=function(){function e(n){var r=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=ie,this.wrapRefreshSessionCallback=function(t){var i=function(a,s){return s?Re("tokenRefresh",void 0,"New token retrieved"):Re("tokenRefresh_failure",a,"Failed to retrieve new token"),t(a,s)};return i},this.configure(n),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),ye.listen("auth",function(t){var i=t.payload,a=i.event;switch(a){case"signIn":r._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":r._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":r._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(n){var r=this;if(!n)return this._config||{};K.debug("configure Auth");var t=Object.assign({},this._config,Ka.parseMobilehubConfig(n).Auth,n);this._config=t;var i=this._config,a=i.userPoolId,s=i.userPoolWebClientId,c=i.cookieStorage,d=i.oauth,o=i.region,l=i.identityPoolId,f=i.mandatorySignIn,m=i.refreshHandlers,p=i.identityPoolRegion,v=i.clientMetadata,h=i.endpoint;if(!this._config.storage)c?this._storage=new Kf(c):this._storage=n.ssr?new Cd:new ha().getStorage();else{if(!this._isValidAuthStorage(this._config.storage))throw K.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),a){var y={UserPoolId:a,ClientId:s,endpoint:h};y.Storage=this._storage,this.userPool=new j0(y,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:f,region:p||o,userPoolId:a,identityPoolId:l,refreshHandlers:m,storage:this._storage});var g=d?ya(this._config.oauth)?d:d.awsCognito:void 0;if(g){var w=Object.assign({cognitoClientId:s,UserPoolId:a,domain:g.domain,scopes:g.scope,redirectSignIn:g.redirectSignIn,redirectSignOut:g.redirectSignOut,responseType:g.responseType,Storage:this._storage,urlOpener:g.urlOpener,clientMetadata:v},g.options);this._oAuthHandler=new nO({scopes:w.scopes,config:w,cognitoClientId:w.cognitoClientId});var b={};rO(function(E){var S=E.url;b[S]||(b[S]=!0,r._handleAuthResponse(S))})}return Re("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(n){for(var r=this,t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this.userPool)return this.rejectNoUserPool();var a=null,s=null,c=[],d=null,o;if(n&&typeof n=="string"){a=n,s=t?t[0]:null;var l=t?t[1]:null,f=t?t[2]:null;l&&c.push(new wa({Name:"email",Value:l})),f&&c.push(new wa({Name:"phone_number",Value:f}))}else if(n&&typeof n=="object"){a=n.username,s=n.password,n&&n.clientMetadata?o=n.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata);var m=n.attributes;m&&Object.keys(m).map(function(v){c.push(new wa({Name:v,Value:m[v]}))});var p=n.validationData;p&&(d=[],Object.keys(p).map(function(v){d.push(new wa({Name:v,Value:p[v]}))}))}else return this.rejectAuthError(Ee.SignUpError);return a?s?(K.debug("signUp attrs:",c),K.debug("signUp validation data:",d),new Promise(function(v,h){r.userPool.signUp(a,s,c,d,function(y,g){y?(Re("signUp_failure",y,a+" failed to signup"),h(y)):(Re("signUp",g,a+" has signed up successfully"),v(g))},o)})):this.rejectAuthError(Ee.EmptyPassword):this.rejectAuthError(Ee.EmptyUsername)},e.prototype.confirmSignUp=function(n,r,t){if(!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(Ee.EmptyUsername);if(!r)return this.rejectAuthError(Ee.EmptyCode);var i=this.createCognitoUser(n),a=t&&typeof t.forceAliasCreation=="boolean"?t.forceAliasCreation:!0,s;return t&&t.clientMetadata?s=t.clientMetadata:this._config.clientMetadata&&(s=this._config.clientMetadata),new Promise(function(c,d){i.confirmRegistration(r,a,function(o,l){o?d(o):c(l)},s)})},e.prototype.resendSignUp=function(n,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(Ee.EmptyUsername);var t=this.createCognitoUser(n);return new Promise(function(i,a){t.resendConfirmationCode(function(s,c){s?a(s):i(c)},r)})},e.prototype.signIn=function(n,r,t){if(t===void 0&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,a=null,s={};if(typeof n=="string")i=n,a=r;else if(t2(n))typeof r<"u"&&K.warn("The password should be defined under the first parameter object!"),i=n.username,a=n.password,s=n.validationData;else return this.rejectAuthError(Ee.InvalidUsername);if(!i)return this.rejectAuthError(Ee.EmptyUsername);var c=new h0({Username:i,Password:a,ValidationData:s,ClientMetadata:t});return a?this.signInWithPassword(c):this.signInWithoutPassword(c)},e.prototype.authCallbacks=function(n,r,t){var i=this,a=this;return{onSuccess:function(s){return Sn(i,void 0,void 0,function(){var c,d,o,l;return xn(this,function(f){switch(f.label){case 0:K.debug(s),delete n.challengeName,delete n.challengeParam,f.label=1;case 1:return f.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return f.sent(),[4,this.Credentials.set(s,"session")];case 3:return c=f.sent(),K.debug("succeed to get cognito credentials",c),[3,9];case 4:return d=f.sent(),K.debug("cannot get cognito credentials",d),[3,9];case 5:return f.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return o=f.sent(),a.user=o,Re("signIn",o,"A user "+n.getUsername()+" has been signed in"),r(o),[3,8];case 7:return l=f.sent(),K.error("Failed to get the signed in user",l),t(l),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(s){K.debug("signIn failure",s),Re("signIn_failure",s,n.getUsername()+" failed to signin"),t(s)},customChallenge:function(s){K.debug("signIn custom challenge answer required"),n.challengeName="CUSTOM_CHALLENGE",n.challengeParam=s,r(n)},mfaRequired:function(s,c){K.debug("signIn MFA required"),n.challengeName=s,n.challengeParam=c,r(n)},mfaSetup:function(s,c){K.debug("signIn mfa setup",s),n.challengeName=s,n.challengeParam=c,r(n)},newPasswordRequired:function(s,c){K.debug("signIn new password"),n.challengeName="NEW_PASSWORD_REQUIRED",n.challengeParam={userAttributes:s,requiredAttributes:c},r(n)},totpRequired:function(s,c){K.debug("signIn totpRequired"),n.challengeName=s,n.challengeParam=c,r(n)},selectMFAType:function(s,c){K.debug("signIn selectMFAType",s),n.challengeName=s,n.challengeParam=c,r(n)}}},e.prototype.signInWithPassword=function(n){var r=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var t=this.createCognitoUser(n.getUsername());return this.pendingSignIn=new Promise(function(i,a){t.authenticateUser(n,r.authCallbacks(t,function(s){r.pendingSignIn=null,i(s)},function(s){r.pendingSignIn=null,a(s)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(n){var r=this,t=this.createCognitoUser(n.getUsername());return t.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,a){t.initiateAuth(n,r.authCallbacks(t,i,a))})},e.prototype.getMFAOptions=function(n){return new Promise(function(r,t){n.getMFAOptions(function(i,a){if(i){K.debug("get MFA Options failed",i),t(i);return}K.debug("get MFA options success",a),r(a)})})},e.prototype.getPreferredMFA=function(n,r){var t=this,i=this;return new Promise(function(a,s){var c=t._config.clientMetadata,d=r?r.bypassCache:!1;n.getUserData(function(o,l){if(o){K.debug("getting preferred mfa failed",o),s(o);return}var f=i._getMfaTypeFromUserData(l);if(f){a(f);return}else{s("invalid MFA Type");return}},{bypassCache:d,clientMetadata:c})})},e.prototype._getMfaTypeFromUserData=function(n){var r=null,t=n.PreferredMfaSetting;if(t)r=t;else{var i=n.UserMFASettingList;if(i)i.length===0?r="NOMFA":K.debug("invalid case for getPreferredMFA",n);else{var a=n.MFAOptions;a?r="SMS_MFA":r="NOMFA"}}return r},e.prototype._getUserData=function(n,r){return new Promise(function(t,i){n.getUserData(function(a,s){if(a){K.debug("getting user data failed",a),i(a);return}else{t(s);return}},r)})},e.prototype.setPreferredMFA=function(n,r){return Sn(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l;return xn(this,function(f){switch(f.label){case 0:return t=this._config.clientMetadata,[4,this._getUserData(n,{bypassCache:!0,clientMetadata:t})];case 1:switch(i=f.sent(),a=null,s=null,c=r,c){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return a={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return d=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if(o=f.sent(),o==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(o==="SMS_MFA")a={PreferredMfa:!1,Enabled:!1};else if(o==="SOFTWARE_TOKEN_MFA")s={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(Ee.InvalidMFA)];return d&&d.length!==0&&d.forEach(function(m){m==="SMS_MFA"?a={PreferredMfa:!1,Enabled:!1}:m==="SOFTWARE_TOKEN_MFA"&&(s={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return K.debug("no validmfa method provided"),[2,this.rejectAuthError(Ee.NoMFA)];case 7:return l=this,[2,new Promise(function(m,p){n.setUserMfaPreference(a,s,function(v,h){if(v)return K.debug("Set user mfa preference error",v),p(v);K.debug("Set user mfa success",h),K.debug("Caching the latest user data into local"),n.getUserData(function(y,g){return y?(K.debug("getting user data failed",y),p(y)):m(h)},{bypassCache:!0,clientMetadata:t})})})]}})})},e.prototype.disableSMS=function(n){return new Promise(function(r,t){n.disableMFA(function(i,a){if(i){K.debug("disable mfa failed",i),t(i);return}K.debug("disable mfa succeed",a),r(a)})})},e.prototype.enableSMS=function(n){return new Promise(function(r,t){n.enableMFA(function(i,a){if(i){K.debug("enable mfa failed",i),t(i);return}K.debug("enable mfa succeed",a),r(a)})})},e.prototype.setupTOTP=function(n){return new Promise(function(r,t){n.associateSoftwareToken({onFailure:function(i){K.debug("associateSoftwareToken failed",i),t(i)},associateSecretCode:function(i){K.debug("associateSoftwareToken sucess",i),r(i)}})})},e.prototype.verifyTotpToken=function(n,r){return K.debug("verification totp token",n,r),new Promise(function(t,i){n.verifySoftwareToken(r,"My TOTP device",{onFailure:function(a){K.debug("verifyTotpToken failed",a),i(a)},onSuccess:function(a){Re("signIn",n,"A user "+n.getUsername()+" has been signed in"),K.debug("verifyTotpToken success",a),t(a)}})})},e.prototype.confirmSignIn=function(n,r,t,i){var a=this;if(i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(Ee.EmptyCode);var s=this;return new Promise(function(c,d){n.sendMFACode(r,{onSuccess:function(o){return Sn(a,void 0,void 0,function(){var l,f;return xn(this,function(m){switch(m.label){case 0:K.debug(o),m.label=1;case 1:return m.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return m.sent(),[4,this.Credentials.set(o,"session")];case 3:return l=m.sent(),K.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=m.sent(),K.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=n,Re("signIn",n,"A user "+n.getUsername()+" has been signed in"),c(n),[7];case 6:return[2]}})})},onFailure:function(o){K.debug("confirm signIn failure",o),d(o)}},t,i)})},e.prototype.completeNewPassword=function(n,r,t,i){var a=this;if(t===void 0&&(t={}),i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(Ee.EmptyPassword);var s=this;return new Promise(function(c,d){n.completeNewPasswordChallenge(r,t,{onSuccess:function(o){return Sn(a,void 0,void 0,function(){var l,f;return xn(this,function(m){switch(m.label){case 0:K.debug(o),m.label=1;case 1:return m.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return m.sent(),[4,this.Credentials.set(o,"session")];case 3:return l=m.sent(),K.debug("succeed to get cognito credentials",l),[3,6];case 4:return f=m.sent(),K.debug("cannot get cognito credentials",f),[3,6];case 5:return s.user=n,Re("signIn",n,"A user "+n.getUsername()+" has been signed in"),c(n),[7];case 6:return[2]}})})},onFailure:function(o){K.debug("completeNewPassword failure",o),Re("completeNewPassword_failure",o,a.user+" failed to complete the new password flow"),d(o)},mfaRequired:function(o,l){K.debug("signIn MFA required"),n.challengeName=o,n.challengeParam=l,c(n)},mfaSetup:function(o,l){K.debug("signIn mfa setup",o),n.challengeName=o,n.challengeParam=l,c(n)},totpRequired:function(o,l){K.debug("signIn mfa setup",o),n.challengeName=o,n.challengeParam=l,c(n)}},i)})},e.prototype.sendCustomChallengeAnswer=function(n,r,t){var i=this;if(t===void 0&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!r)return this.rejectAuthError(Ee.EmptyChallengeResponse);var a=this;return new Promise(function(s,c){n.sendCustomChallengeAnswer(r,i.authCallbacks(n,s,c),t)})},e.prototype.deleteUserAttributes=function(n,r){var t=this;return new Promise(function(i,a){t.userSession(n).then(function(s){n.deleteAttributes(r,function(c,d){return c?a(c):i(d)})})})},e.prototype.updateUserAttributes=function(n,r,t){t===void 0&&(t=this._config.clientMetadata);var i=[],a=this;return new Promise(function(s,c){a.userSession(n).then(function(d){for(var o in r)if(o!=="sub"&&o.indexOf("_verified")<0){var l={Name:o,Value:r[o]};i.push(l)}n.updateAttributes(i,function(f,m){return f?c(f):s(m)},t)})})},e.prototype.userAttributes=function(n){var r=this;return new Promise(function(t,i){r.userSession(n).then(function(a){n.getUserAttributes(function(s,c){s?i(s):t(c)})})})},e.prototype.verifiedContact=function(n){var r=this;return this.userAttributes(n).then(function(t){var i=r.attributesToObject(t),a={},s={};return i.email&&(i.email_verified?s.email=i.email:a.email=i.email),i.phone_number&&(i.phone_number_verified?s.phone_number=i.phone_number:a.phone_number=i.phone_number),{verified:s,unverified:a}})},e.prototype.currentUserPoolUser=function(n){var r=this;return this.userPool?new Promise(function(t,i){r._storageSync.then(function(){return Sn(r,void 0,void 0,function(){var a,s,c=this;return xn(this,function(d){switch(d.label){case 0:return this.isOAuthInProgress()?(K.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(o){var l=setTimeout(function(){K.debug("OAuth signIn in progress timeout"),ye.remove("auth",f),o()},Bue);ye.listen("auth",f);function f(m){var p=m.payload,v=p.event;(v==="cognitoHostedUI"||v==="cognitoHostedUI_failure")&&(K.debug("OAuth signIn resolved: "+v),clearTimeout(l),ye.remove("auth",f),o())}})]):[3,2];case 1:d.sent(),d.label=2;case 2:return a=this.userPool.getCurrentUser(),a?(s=this._config.clientMetadata,a.getSession(function(o,l){return Sn(c,void 0,void 0,function(){var f,m,p,v,h=this;return xn(this,function(y){switch(y.label){case 0:return o?(K.debug("Failed to get the user session",o),i(o),[2]):(f=n?n.bypassCache:!1,f?[4,this.Credentials.clear()]:[3,2]);case 1:y.sent(),y.label=2;case 2:if(m=this._config.clientMetadata,p=l.getAccessToken().decodePayload().scope,v=p===void 0?"":p,v.split(" ").includes(oO))a.getUserData(function(g,w){if(g){K.debug("getting user data failed",g),g.message==="User is disabled."||g.message==="User does not exist."||g.message==="Access Token has been revoked"?i(g):t(a);return}for(var b=w.PreferredMfaSetting||"NOMFA",E=[],S=0;S<w.UserAttributes.length;S++){var A={Name:w.UserAttributes[S].Name,Value:w.UserAttributes[S].Value},I=new wa(A);E.push(I)}var P=h.attributesToObject(E);return Object.assign(a,{attributes:P,preferredMFA:b}),t(a)},{bypassCache:f,clientMetadata:m});else return K.debug("Unable to get the user data because the "+oO+" is not in the scopes of the access token"),[2,t(a)];return[2]}})})},{clientMetadata:s}),[2]):(K.debug("Failed to get user from user pool"),i("No current user"),[2])}})})}).catch(function(a){return K.debug("Failed to sync cache info into memory",a),i(a)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(n){return Sn(this,void 0,void 0,function(){var r,t,i,a,s;return xn(this,function(c){switch(c.label){case 0:K.debug("getting current authenticated user"),r=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._storageSync];case 2:return c.sent(),[3,4];case 3:throw t=c.sent(),K.debug("Failed to sync cache info into memory",t),t;case 4:try{i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),i&&(r=Xf(Xf({},i.user),{token:i.token}))}catch{K.debug("cannot load federated user from auth storage")}return r?(this.user=r,K.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:K.debug("get current authenticated userpool user"),a=null,c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this.currentUserPoolUser(n)];case 7:return a=c.sent(),[3,9];case 8:return s=c.sent(),s==="No userPool"&&K.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),K.debug("The user is not authenticated by the error",s),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=a,[2,this.user]}})})},e.prototype.currentSession=function(){var n=this;return K.debug("Getting current session"),this.userPool?new Promise(function(r,t){n.currentUserPoolUser().then(function(i){n.userSession(i).then(function(a){r(a)}).catch(function(a){K.debug("Failed to get the current session",a),t(a)})}).catch(function(i){K.debug("Failed to get the current user",i),t(i)})}):Promise.reject()},e.prototype.userSession=function(n){if(!n)return K.debug("the user is null"),this.rejectAuthError(Ee.NoUserSession);var r=this._config.clientMetadata;return new Promise(function(t,i){K.debug("Getting the session from this user:",n),n.getSession(function(a,s){if(a){K.debug("Failed to get the session from user",n),i(a);return}else{K.debug("Succeed to get the user session",s),t(s);return}},{clientMetadata:r})})},e.prototype.currentUserCredentials=function(){return Sn(this,void 0,void 0,function(){var n,r,t=this;return xn(this,function(i){switch(i.label){case 0:K.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw n=i.sent(),K.debug("Failed to sync cache info into memory",n),n;case 4:r=null;try{r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(a){K.debug("failed to get or parse item aws-amplify-federatedInfo",a)}return r?[2,this.Credentials.refreshFederatedToken(r)]:[2,this.currentSession().then(function(a){return K.debug("getting session success",a),t.Credentials.set(a,"session")}).catch(function(a){return K.debug("getting session failed",a),t.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return K.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(n,r,t){return t===void 0&&(t=this._config.clientMetadata),new Promise(function(i,a){n.getAttributeVerificationCode(r,{onSuccess:function(s){return i(s)},onFailure:function(s){return a(s)}},t)})},e.prototype.verifyUserAttributeSubmit=function(n,r,t){return t?new Promise(function(i,a){n.verifyAttribute(r,t,{onSuccess:function(s){i(s)},onFailure:function(s){a(s)}})}):this.rejectAuthError(Ee.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(n){var r=this;return r.currentUserPoolUser().then(function(t){return r.verifyUserAttribute(t,n)})},e.prototype.verifyCurrentUserAttributeSubmit=function(n,r){var t=this;return t.currentUserPoolUser().then(function(i){return t.verifyUserAttributeSubmit(i,n,r)})},e.prototype.cognitoIdentitySignOut=function(n,r){return Sn(this,void 0,void 0,function(){var t,i,a=this;return xn(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._storageSync];case 1:return s.sent(),[3,3];case 2:throw t=s.sent(),K.debug("Failed to sync cache info into memory",t),t;case 3:return i=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(c,d){if(n&&n.global){K.debug("user global sign out",r);var o=a._config.clientMetadata;r.getSession(function(l,f){if(l)return K.debug("failed to get the user session",l),d(l);r.globalSignOut({onSuccess:function(m){if(K.debug("global sign out success"),i)a.oAuthSignOutRedirect(c,d);else return c()},onFailure:function(m){return K.debug("global sign out failed",m),d(m)}})},{clientMetadata:o})}else K.debug("user sign out",r),r.signOut(function(){if(i)a.oAuthSignOutRedirect(c,d);else return c()})})]}})})},e.prototype.oAuthSignOutRedirect=function(n,r){var t=Se.browserOrNode().isBrowser;t?this.oAuthSignOutRedirectOrReject(r):this.oAuthSignOutAndResolve(n)},e.prototype.oAuthSignOutAndResolve=function(n){this._oAuthHandler.signOut(),n()},e.prototype.oAuthSignOutRedirectOrReject=function(n){this._oAuthHandler.signOut(),setTimeout(function(){return n("Signout timeout fail")},3e3)},e.prototype.signOut=function(n){return Sn(this,void 0,void 0,function(){var r,t;return xn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return i.sent(),[3,3];case 2:return r=i.sent(),K.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser(),t?[4,this.cognitoIdentitySignOut(n,t)]:[3,5]):[3,7];case 4:return i.sent(),[3,6];case 5:K.debug("no current Cognito user"),i.label=6;case 6:return[3,8];case 7:K.debug("no Congito User pool"),i.label=8;case 8:return Re("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return Sn(this,void 0,void 0,function(){return xn(this,function(n){switch(n.label){case 0:return[4,this.Credentials.clear()];case 1:return n.sent(),[2]}})})},e.prototype.changePassword=function(n,r,t,i){var a=this;return i===void 0&&(i=this._config.clientMetadata),new Promise(function(s,c){a.userSession(n).then(function(d){n.changePassword(r,t,function(o,l){return o?(K.debug("change password failure",o),c(o)):s(l)},i)})})},e.prototype.forgotPassword=function(n,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(Ee.EmptyUsername);var t=this.createCognitoUser(n);return new Promise(function(i,a){t.forgotPassword({onSuccess:function(){i()},onFailure:function(s){K.debug("forgot password failure",s),Re("forgotPassword_failure",s,n+" forgotPassword failed"),a(s)},inputVerificationCode:function(s){Re("forgotPassword",t,n+" has initiated forgot password flow"),i(s)}},r)})},e.prototype.forgotPasswordSubmit=function(n,r,t,i){if(i===void 0&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(Ee.EmptyUsername);if(!r)return this.rejectAuthError(Ee.EmptyCode);if(!t)return this.rejectAuthError(Ee.EmptyPassword);var a=this.createCognitoUser(n);return new Promise(function(s,c){a.confirmPassword(r,t,{onSuccess:function(d){Re("forgotPasswordSubmit",a,n+" forgotPasswordSubmit successful"),s(d)},onFailure:function(d){Re("forgotPasswordSubmit_failure",d,n+" forgotPasswordSubmit failed"),c(d)}},i)})},e.prototype.currentUserInfo=function(){return Sn(this,void 0,void 0,function(){var n,d,r,t,i,a,s,c,d;return xn(this,function(o){switch(o.label){case 0:return n=this.Credentials.getCredSource(),!n||n==="aws"||n==="userPool"?[4,this.currentUserPoolUser().catch(function(l){return K.error(l)})]:[3,9];case 1:if(d=o.sent(),!d)return[2,null];o.label=2;case 2:return o.trys.push([2,8,,9]),[4,this.userAttributes(d)];case 3:r=o.sent(),t=this.attributesToObject(r),i=null,o.label=4;case 4:return o.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=o.sent(),[3,7];case 6:return a=o.sent(),K.debug("Failed to retrieve credentials while getting current user info",a),[3,7];case 7:return s={id:i?i.identityId:void 0,username:d.getUsername(),attributes:t},[2,s];case 8:return c=o.sent(),K.error("currentUserInfo error",c),[2,{}];case 9:return n==="federated"?(d=this.user,[2,d||{}]):[2]}})})},e.prototype.federatedSignIn=function(n,r,t){return Sn(this,void 0,void 0,function(){var i,d,a,s,c,d,o,l,f,m,p,v;return xn(this,function(h){switch(h.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof n>"u"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Tf(n)||n2(n)||r2(n)||typeof n>"u"?(i=n||{provider:_s.Cognito},d=Tf(i)?i.provider:i.customProvider,a=(Tf(i),i.customState),this._config.userPoolId&&(s=ya(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,c=ya(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,c,s,d,a)),[3,4]):[3,1];case 1:d=n;try{o=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),o&&K.warn("There is already a signed in user: "+o+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return l=r.token,f=r.identity_id,m=r.expires_at,[4,this.Credentials.set({provider:d,token:l,identity_id:f,user:t,expires_at:m},"federation")];case 2:return p=h.sent(),[4,this.currentAuthenticatedUser()];case 3:return v=h.sent(),Re("signIn",v,"A user "+v.username+" has been signed in"),K.debug("federated sign in credentials",p),[2,p];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(n){return Sn(this,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h;return xn(this,function(y){switch(y.label){case 0:if(this.oAuthFlowInProgress)return K.debug("Skipping URL "+n+" current flow in progress"),[2];y.label=1;case 1:if(y.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Re("parsingCallbackUrl",{url:n},"The callback url is being parsed"),r=n||(Se.browserOrNode().isBrowser?window.location.href:""),t=!!((0,$0.parse)(r).query||"").split("&").map(function(g){return g.split("=")}).find(function(g){var w=iO(g,1),b=w[0];return b==="code"||b==="error"}),i=!!((0,$0.parse)(r).hash||"#").substr(1).split("&").map(function(g){return g.split("=")}).find(function(g){var w=iO(g,1),b=w[0];return b==="access_token"||b==="error"}),!(t||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),y.label=2;case 2:return y.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(r)];case 3:return a=y.sent(),s=a.accessToken,c=a.idToken,d=a.refreshToken,o=a.state,l=new Rs({IdToken:new Is({IdToken:c}),RefreshToken:new Ns({RefreshToken:d}),AccessToken:new Ps({AccessToken:s})}),f=void 0,this._config.identityPoolId?[4,this.Credentials.set(l,"session")]:[3,5];case 4:f=y.sent(),K.debug("AWS credentials",f),y.label=5;case 5:return m=/-/.test(o),p=this.createCognitoUser(l.getIdToken().decodePayload()["cognito:username"]),p.setSignInUserSession(l),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Re("signIn",p,"A user "+p.getUsername()+" has been signed in"),Re("cognitoHostedUI",p,"A user "+p.getUsername()+" has been signed in via Cognito Hosted UI"),m&&(v=o.split("-").splice(1).join("-"),Re("customOAuthState",RA(v),"State for user "+p.getUsername())),[2,f];case 6:return h=y.sent(),K.debug("Error in cognito hosted auth response",h),window&&typeof window.history<"u"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Re("signIn_failure",h,"The OAuth response flow failed"),Re("cognitoHostedUI_failure",h,"A failure occurred when returning to the Cognito Hosted UI"),Re("customState_failure",h,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(n){return{accessKeyId:n.accessKeyId,sessionToken:n.sessionToken,secretAccessKey:n.secretAccessKey,identityId:n.identityId,authenticated:n.authenticated}},e.prototype.attributesToObject=function(n){var r=this,t={};return n&&n.map(function(i){i.Name==="email_verified"||i.Name==="phone_number_verified"?t[i.Name]=r.isTruthyString(i.Value)||i.Value===!0:t[i.Name]=i.Value}),t},e.prototype.isTruthyString=function(n){return typeof n.toLowerCase=="function"&&n.toLowerCase()==="true"},e.prototype.createCognitoUser=function(n){var r={Username:n,Pool:this.userPool};r.Storage=this._storage;var t=this._config.authenticationFlowType,i=new Qi(r);return t&&i.setAuthenticationFlowType(t),i},e.prototype._isValidAuthStorage=function(n){return!!n&&typeof n.getItem=="function"&&typeof n.setItem=="function"&&typeof n.removeItem=="function"&&typeof n.clear=="function"},e.prototype.noUserPoolErrorHandler=function(n){return n&&(!n.userPoolId||!n.identityPoolId)?Ee.MissingAuthConfig:Ee.NoConfig},e.prototype.rejectAuthError=function(n){return Promise.reject(new ba(n))},e.prototype.rejectNoUserPool=function(){var n=this.noUserPoolErrorHandler(this._config);return Promise.reject(new aO(n))},e.prototype.rememberDevice=function(){return Sn(this,void 0,void 0,function(){var n,r;return xn(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return n=t.sent(),[3,3];case 2:return r=t.sent(),K.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return n.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,a){n.setDeviceStatusRemembered({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?a(new ba(Ee.DeviceConfig)):s.code==="NetworkError"?a(new ba(Ee.NetworkError)):a(s)}})})]}})})},e.prototype.forgetDevice=function(){return Sn(this,void 0,void 0,function(){var n,r;return xn(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return n=t.sent(),[3,3];case 2:return r=t.sent(),K.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return n.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,a){n.forgetDevice({onSuccess:function(s){i(s)},onFailure:function(s){s.code==="InvalidParameterException"?a(new ba(Ee.DeviceConfig)):s.code==="NetworkError"?a(new ba(Ee.NetworkError)):a(s)}})})]}})})},e.prototype.fetchDevices=function(){return Sn(this,void 0,void 0,function(){var n,r;return xn(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return n=t.sent(),[3,3];case 2:throw r=t.sent(),K.debug("The user is not authenticated by the error",r),new Error("The user is not authenticated");case 3:return n.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,a){var s={onSuccess:function(c){var d=c.Devices.map(function(o){var l=o.DeviceAttributes.find(function(m){var p=m.Name;return p==="device_name"})||{},f={id:o.DeviceKey,name:l.Value};return f});i(d)},onFailure:function(c){c.code==="InvalidParameterException"?a(new ba(Ee.DeviceConfig)):c.code==="NetworkError"?a(new ba(Ee.NetworkError)):a(c)}};n.listDevices(Fue,null,s)})]}})})},e}();var zr=new jue(null);se.register(zr);var st=zr;var Lr={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new ha().getStorage()};function H0(e){var n=0;n=e.length;for(var r=e.length;r>=0;r-=1){var t=e.charCodeAt(r);t>127&&t<=2047?n+=1:t>2047&&t<=65535&&(n+=2),t>=56320&&t<=57343&&(r-=1)}return n}function ii(){var e=new Date;return e.getTime()}function Nd(e){return Number.isInteger?Number.isInteger(e):que(e)}function que(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var Yf={},HUe=function(){function e(){}return e.clear=function(){Yf={}},e.getItem=function(n){return Yf[n]||null},e.setItem=function(n,r){Yf[n]=r},e.removeItem=function(n){delete Yf[n]},e}();var Ea=new q("StorageCache"),sO=function(){function e(n){this.config=Object.assign({},n),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){Nd(this.config.capacityInBytes)||(Ea.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=Lr.capacityInBytes),Nd(this.config.itemMaxSize)||(Ea.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=Lr.itemMaxSize),Nd(this.config.defaultTTL)||(Ea.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=Lr.defaultTTL),Nd(this.config.defaultPriority)||(Ea.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=Lr.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Ea.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=Lr.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Ea.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=Lr.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Ea.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=Lr.warningThreshold);var n=5*1024*1024;this.config.capacityInBytes>n&&(Ea.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=Lr.capacityInBytes)},e.prototype.fillCacheItem=function(n,r,t){var i={key:n,data:r,timestamp:ii(),visitedTime:ii(),priority:t.priority,expires:t.expires,type:typeof r,byteSize:0};return i.byteSize=H0(JSON.stringify(i)),i.byteSize=H0(JSON.stringify(i)),i},e.prototype.configure=function(n){return n?(n.keyPrefix&&Ea.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,n,n.Cache),this.checkConfig(),this.config):this.config},e}();var $ue=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),fr=new q("Cache"),Hue=function(e){$ue(n,e);function n(r){var t=this,i=r?Object.assign({},Lr,r):Lr;return t=e.call(this,i)||this,t.config.storage=i.storage,t.getItem=t.getItem.bind(t),t.setItem=t.setItem.bind(t),t.removeItem=t.removeItem.bind(t),t}return n.prototype._decreaseCurSizeInBytes=function(r){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-r).toString())},n.prototype._increaseCurSizeInBytes=function(r){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+r).toString())},n.prototype._refreshItem=function(r,t){return r.visitedTime=ii(),this.config.storage.setItem(t,JSON.stringify(r)),r},n.prototype._isExpired=function(r){var t=this.config.storage.getItem(r),i=JSON.parse(t);return ii()>=i.expires},n.prototype._removeItem=function(r,t){var i=t||JSON.parse(this.config.storage.getItem(r)).byteSize;this._decreaseCurSizeInBytes(i),this.config.storage.removeItem(r)},n.prototype._setItem=function(r,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(r,JSON.stringify(t))}catch(i){this._decreaseCurSizeInBytes(t.byteSize),fr.error("Failed to set item "+i)}},n.prototype._sizeToPop=function(r){var t=this.getCacheCurSize()+r-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>i?t:i},n.prototype._isCacheFull=function(r){return r+this.getCacheCurSize()>this.config.capacityInBytes},n.prototype._findValidKeys=function(){for(var r=[],t=[],i=0;i<this.config.storage.length;i+=1)t.push(this.config.storage.key(i));for(var i=0;i<t.length;i+=1){var a=t[i];a.indexOf(this.config.keyPrefix)===0&&a!==this.cacheCurSizeKey&&(this._isExpired(a)?this._removeItem(a):r.push(a))}return r},n.prototype._popOutItems=function(r,t){for(var i=[],a=t,s=0;s<r.length;s+=1){var c=this.config.storage.getItem(r[s]);if(c!=null){var d=JSON.parse(c);i.push(d)}}i.sort(function(o,l){return o.priority>l.priority?-1:o.priority<l.priority?1:o.visitedTime<l.visitedTime?-1:1});for(var s=0;s<i.length;s+=1)if(this._removeItem(i[s].key,i[s].byteSize),a-=i[s].byteSize,a<=0)return},n.prototype.setItem=function(r,t,i){fr.log("Set item: key is "+r+", value is "+t+" with options: "+i);var a=this.config.keyPrefix+r;if(a===this.config.keyPrefix||a===this.cacheCurSizeKey){fr.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof t>"u"){fr.warn("The value of item should not be undefined!");return}var s={priority:i&&i.priority!==void 0?i.priority:this.config.defaultPriority,expires:i&&i.expires!==void 0?i.expires:this.config.defaultTTL+ii()};if(s.priority<1||s.priority>5){fr.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var c=this.fillCacheItem(a,t,s);if(c.byteSize>this.config.itemMaxSize){fr.warn("Item with key: "+r+" you are trying to put into is too big!");return}try{var d=this.config.storage.getItem(a);if(d&&this._removeItem(a,JSON.parse(d).byteSize),this._isCacheFull(c.byteSize)){var o=this._findValidKeys();if(this._isCacheFull(c.byteSize)){var l=this._sizeToPop(c.byteSize);this._popOutItems(o,l)}}this._setItem(a,c)}catch(f){fr.warn("setItem failed! "+f)}},n.prototype.getItem=function(r,t){fr.log("Get item: key is "+r+" with options "+t);var i=null,a=this.config.keyPrefix+r;if(a===this.config.keyPrefix||a===this.cacheCurSizeKey)return fr.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(i=this.config.storage.getItem(a),i!=null)if(this._isExpired(a))this._removeItem(a,JSON.parse(i).byteSize),i=null;else{var s=JSON.parse(i);return s=this._refreshItem(s,a),s.data}if(t&&t.callback!==void 0){var c=t.callback();return c!==null&&this.setItem(r,c,t),c}return null}catch(d){return fr.warn("getItem failed! "+d),null}},n.prototype.removeItem=function(r){fr.log("Remove item: key is "+r);var t=this.config.keyPrefix+r;if(!(t===this.config.keyPrefix||t===this.cacheCurSizeKey))try{var i=this.config.storage.getItem(t);i&&this._removeItem(t,JSON.parse(i).byteSize)}catch(a){fr.warn("removeItem failed! "+a)}},n.prototype.clear=function(){fr.log("Clear Cache");for(var r=[],t=0;t<this.config.storage.length;t+=1){var i=this.config.storage.key(t);i.indexOf(this.config.keyPrefix)===0&&r.push(i)}try{for(var t=0;t<r.length;t+=1)this.config.storage.removeItem(r[t])}catch(a){fr.warn("clear failed! "+a)}},n.prototype.getAllKeys=function(){for(var r=[],t=0;t<this.config.storage.length;t+=1){var i=this.config.storage.key(t);i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&r.push(i.substring(this.config.keyPrefix.length))}return r},n.prototype.getCacheCurSize=function(){var r=this.config.storage.getItem(this.cacheCurSizeKey);return r||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),r="0"),Number(r)},n.prototype.createInstance=function(r){return(!r.keyPrefix||r.keyPrefix===Lr.keyPrefix)&&(fr.error("invalid keyPrefix, setting keyPrefix with timeStamp"),r.keyPrefix=ii.toString()),new n(r)},n}(sO);var G0=new Hue;var fn=G0;se.register(G0);var cO={name:"@aws-sdk/client-pinpoint",description:"AWS SDK for JavaScript Pinpoint Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-pinpoint",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-pinpoint"}};var uO=W(va());var Qf=W(hr());var dO="pinpoint.{region}.amazonaws.com",Vue="pinpoint.{region}.amazonaws.com.cn",Kue="pinpoint.{region}.c2s.ic.gov",Jue="pinpoint.{region}.sc2s.sgov.gov",Wue="pinpoint.{region}.amazonaws.com",Xue=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Yue=new Set(["cn-north-1","cn-northwest-1"]),Que=new Set(["us-iso-east-1"]),Zue=new Set(["us-isob-east-1"]),efe=new Set(["us-gov-east-1","us-gov-west-1"]),lO=function(e,n){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"pinpoint.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-northeast-2":r={hostname:"pinpoint.ap-northeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-south-1":r={hostname:"pinpoint.ap-south-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-1":r={hostname:"pinpoint.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ap-southeast-2":r={hostname:"pinpoint.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"ca-central-1":r={hostname:"pinpoint.ca-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-central-1":r={hostname:"pinpoint.eu-central-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-1":r={hostname:"pinpoint.eu-west-1.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"eu-west-2":r={hostname:"pinpoint.eu-west-2.amazonaws.com",partition:"aws",signingService:"mobiletargeting"};break;case"fips-us-east-1":r={hostname:"pinpoint-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-gov-west-1":r={hostname:"pinpoint-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"pinpoint-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"us-east-1":r={hostname:"pinpoint.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"us-gov-west-1":r={hostname:"pinpoint.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-west-2":r={hostname:"pinpoint.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;default:Xue.has(e)&&(r={hostname:dO.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"}),Yue.has(e)&&(r={hostname:Vue.replace("{region}",e),partition:"aws-cn"}),Que.has(e)&&(r={hostname:Kue.replace("{region}",e),partition:"aws-iso"}),Zue.has(e)&&(r={hostname:Jue.replace("{region}",e),partition:"aws-iso-b"}),efe.has(e)&&(r={hostname:Wue.replace("{region}",e),partition:"aws-us-gov",signingService:"mobiletargeting"}),r===void 0&&(r={hostname:dO.replace("{region}",e),partition:"aws",signingService:"mobiletargeting"})}return Promise.resolve(u({signingService:"mobiletargeting"},r))};var V0={apiVersion:"2016-12-01",disableHostPrefix:!1,logger:{},regionInfoProvider:lO,serviceId:"Pinpoint",urlParser:qn};var fO=u(u({},V0),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:V0.serviceId,clientVersion:cO.version}),maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:uO.Sha256,streamCollector:zn,utf8Decoder:Qf.fromUtf8,utf8Encoder:Qf.toUtf8});var mO=function(e){J(n,e);function n(r){var t=this,i=u(u({},fO),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var pO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:if(r={"content-type":"application/json"},t="/v1/apps/{ApplicationId}/events",e.ApplicationId!==void 0){if(i=e.ApplicationId,i.length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");t=t.replace("{ApplicationId}",be(i))}else throw new Error("No value provided for input HTTP label: ApplicationId.");return e.EventsRequest!==void 0&&(a=ofe(e.EventsRequest,n)),a===void 0&&(a={}),a=JSON.stringify(a),[4,n.endpoint()];case 1:return s=f.sent(),c=s.hostname,d=s.protocol,o=d===void 0?"https":d,l=s.port,[2,new ae({protocol:o,hostname:c,port:l,method:"POST",headers:r,path:t,body:a})]}})})};var vO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:if(r={"content-type":"application/json"},t="/v1/apps/{ApplicationId}/endpoints/{EndpointId}",e.ApplicationId!==void 0){if(i=e.ApplicationId,i.length<=0)throw new Error("Empty value provided for input HTTP label: ApplicationId.");t=t.replace("{ApplicationId}",be(i))}else throw new Error("No value provided for input HTTP label: ApplicationId.");if(e.EndpointId!==void 0){if(i=e.EndpointId,i.length<=0)throw new Error("Empty value provided for input HTTP label: EndpointId.");t=t.replace("{EndpointId}",be(i))}else throw new Error("No value provided for input HTTP label: EndpointId.");return e.EndpointRequest!==void 0&&(a=tfe(e.EndpointRequest,n)),a===void 0&&(a={}),a=JSON.stringify(a),[4,n.endpoint()];case 1:return s=f.sent(),c=s.hostname,d=s.protocol,o=d===void 0?"https":d,l=s.port,[2,new ae({protocol:o,hostname:c,port:l,method:"PUT",headers:r,path:t,body:a})]}})})};var hO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==202&&e.statusCode>=300?[2,nfe(e,n)]:(r={$metadata:Te(e),EventsResponse:void 0},[4,Zf(e.body,n)]);case 1:return t=i.sent(),r.EventsResponse=vfe(t,n),[2,Promise.resolve(r)]}})})},nfe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y;return N(this,function(g){switch(g.label){case 0:return t=[u({},e)],y={},[4,Zf(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(y.body=g.sent(),y)])),a="UnknownError",a=PO(e,r.body),s=a,s){case"BadRequestException":return[3,2];case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":return[3,4];case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":return[3,6];case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":return[3,8];case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":return[3,10];case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":return[3,12];case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":return[3,14];case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return c=[{}],[4,gO(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 4:return d=[{}],[4,wO(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 6:return o=[{}],[4,bO(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 8:return l=[{}],[4,EO(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 10:return f=[{}],[4,_O(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 12:return m=[{}],[4,SO(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 14:return p=[{}],[4,xO(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 16:v=r.body,a=v.code||v.Code||a,i=u(u({},v),{name:""+a,message:v.message||v.Message||a,$fault:"client",$metadata:Te(e)}),g.label=17;case 17:return h=i.message||i.Message||a,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}})})};var yO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==202&&e.statusCode>=300?[2,rfe(e,n)]:(r={$metadata:Te(e),MessageBody:void 0},[4,Zf(e.body,n)]);case 1:return t=i.sent(),r.MessageBody=wfe(t,n),[2,Promise.resolve(r)]}})})},rfe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y;return N(this,function(g){switch(g.label){case 0:return t=[u({},e)],y={},[4,Zf(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(y.body=g.sent(),y)])),a="UnknownError",a=PO(e,r.body),s=a,s){case"BadRequestException":return[3,2];case"com.amazonaws.pinpoint#BadRequestException":return[3,2];case"ForbiddenException":return[3,4];case"com.amazonaws.pinpoint#ForbiddenException":return[3,4];case"InternalServerErrorException":return[3,6];case"com.amazonaws.pinpoint#InternalServerErrorException":return[3,6];case"MethodNotAllowedException":return[3,8];case"com.amazonaws.pinpoint#MethodNotAllowedException":return[3,8];case"NotFoundException":return[3,10];case"com.amazonaws.pinpoint#NotFoundException":return[3,10];case"PayloadTooLargeException":return[3,12];case"com.amazonaws.pinpoint#PayloadTooLargeException":return[3,12];case"TooManyRequestsException":return[3,14];case"com.amazonaws.pinpoint#TooManyRequestsException":return[3,14]}return[3,16];case 2:return c=[{}],[4,gO(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 4:return d=[{}],[4,wO(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 6:return o=[{}],[4,bO(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 8:return l=[{}],[4,EO(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 10:return f=[{}],[4,_O(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 12:return m=[{}],[4,SO(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 14:return p=[{}],[4,xO(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([g.sent()])),{name:a,$metadata:Te(e)}]),[3,17];case 16:v=r.body,a=v.code||v.Code||a,i=u(u({},v),{name:""+a,message:v.message||v.Message||a,$fault:"client",$metadata:Te(e)}),g.label=17;case 17:return h=i.message||i.Message||a,i.message=h,delete i.Message,[2,Promise.reject(Object.assign(new Error(h),i))]}})})};var gO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"BadRequestException",$fault:"client",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})};var wO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"ForbiddenException",$fault:"client",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})},bO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"InternalServerErrorException",$fault:"server",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})},EO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"MethodNotAllowedException",$fault:"client",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})},_O=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"NotFoundException",$fault:"client",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})},SO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"PayloadTooLargeException",$fault:"client",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})},xO=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"TooManyRequestsException",$fault:"client",$metadata:Te(e),Message:void 0,RequestID:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),t.RequestID!==void 0&&t.RequestID!==null&&(r.RequestID=t.RequestID),[2,r]})})};var CO=function(e,n){return u(u(u(u(u(u(u(u({},e.AppVersion!==void 0&&e.AppVersion!==null&&{AppVersion:e.AppVersion}),e.Locale!==void 0&&e.Locale!==null&&{Locale:e.Locale}),e.Make!==void 0&&e.Make!==null&&{Make:e.Make}),e.Model!==void 0&&e.Model!==null&&{Model:e.Model}),e.ModelVersion!==void 0&&e.ModelVersion!==null&&{ModelVersion:e.ModelVersion}),e.Platform!==void 0&&e.Platform!==null&&{Platform:e.Platform}),e.PlatformVersion!==void 0&&e.PlatformVersion!==null&&{PlatformVersion:e.PlatformVersion}),e.Timezone!==void 0&&e.Timezone!==null&&{Timezone:e.Timezone})},AO=function(e,n){return u(u(u(u(u(u({},e.City!==void 0&&e.City!==null&&{City:e.City}),e.Country!==void 0&&e.Country!==null&&{Country:e.Country}),e.Latitude!==void 0&&e.Latitude!==null&&{Latitude:e.Latitude}),e.Longitude!==void 0&&e.Longitude!==null&&{Longitude:e.Longitude}),e.PostalCode!==void 0&&e.PostalCode!==null&&{PostalCode:e.PostalCode}),e.Region!==void 0&&e.Region!==null&&{Region:e.Region})},tfe=function(e,n){return u(u(u(u(u(u(u(u(u(u(u({},e.Address!==void 0&&e.Address!==null&&{Address:e.Address}),e.Attributes!==void 0&&e.Attributes!==null&&{Attributes:J0(e.Attributes,n)}),e.ChannelType!==void 0&&e.ChannelType!==null&&{ChannelType:e.ChannelType}),e.Demographic!==void 0&&e.Demographic!==null&&{Demographic:CO(e.Demographic,n)}),e.EffectiveDate!==void 0&&e.EffectiveDate!==null&&{EffectiveDate:e.EffectiveDate}),e.EndpointStatus!==void 0&&e.EndpointStatus!==null&&{EndpointStatus:e.EndpointStatus}),e.Location!==void 0&&e.Location!==null&&{Location:AO(e.Location,n)}),e.Metrics!==void 0&&e.Metrics!==null&&{Metrics:K0(e.Metrics,n)}),e.OptOut!==void 0&&e.OptOut!==null&&{OptOut:e.OptOut}),e.RequestId!==void 0&&e.RequestId!==null&&{RequestId:e.RequestId}),e.User!==void 0&&e.User!==null&&{User:TO(e.User,n)})};var TO=function(e,n){return u(u({},e.UserAttributes!==void 0&&e.UserAttributes!==null&&{UserAttributes:J0(e.UserAttributes,n)}),e.UserId!==void 0&&e.UserId!==null&&{UserId:e.UserId})},afe=function(e,n){return u(u(u(u(u(u(u(u(u(u({},e.AppPackageName!==void 0&&e.AppPackageName!==null&&{AppPackageName:e.AppPackageName}),e.AppTitle!==void 0&&e.AppTitle!==null&&{AppTitle:e.AppTitle}),e.AppVersionCode!==void 0&&e.AppVersionCode!==null&&{AppVersionCode:e.AppVersionCode}),e.Attributes!==void 0&&e.Attributes!==null&&{Attributes:cfe(e.Attributes,n)}),e.ClientSdkVersion!==void 0&&e.ClientSdkVersion!==null&&{ClientSdkVersion:e.ClientSdkVersion}),e.EventType!==void 0&&e.EventType!==null&&{EventType:e.EventType}),e.Metrics!==void 0&&e.Metrics!==null&&{Metrics:K0(e.Metrics,n)}),e.SdkName!==void 0&&e.SdkName!==null&&{SdkName:e.SdkName}),e.Session!==void 0&&e.Session!==null&&{Session:ffe(e.Session,n)}),e.Timestamp!==void 0&&e.Timestamp!==null&&{Timestamp:e.Timestamp})};var ife=function(e,n){return u(u({},e.Endpoint!==void 0&&e.Endpoint!==null&&{Endpoint:ufe(e.Endpoint,n)}),e.Events!==void 0&&e.Events!==null&&{Events:dfe(e.Events,n)})},ofe=function(e,n){return u({},e.BatchItem!==void 0&&e.BatchItem!==null&&{BatchItem:lfe(e.BatchItem,n)})};var sfe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:r})};var K0=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})},cfe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})};var dfe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=afe(c,n),i))},{})},lfe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=ife(c,n),i))},{})},J0=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=sfe(c,n),i))},{})};var ufe=function(e,n){return u(u(u(u(u(u(u(u(u(u(u({},e.Address!==void 0&&e.Address!==null&&{Address:e.Address}),e.Attributes!==void 0&&e.Attributes!==null&&{Attributes:J0(e.Attributes,n)}),e.ChannelType!==void 0&&e.ChannelType!==null&&{ChannelType:e.ChannelType}),e.Demographic!==void 0&&e.Demographic!==null&&{Demographic:CO(e.Demographic,n)}),e.EffectiveDate!==void 0&&e.EffectiveDate!==null&&{EffectiveDate:e.EffectiveDate}),e.EndpointStatus!==void 0&&e.EndpointStatus!==null&&{EndpointStatus:e.EndpointStatus}),e.Location!==void 0&&e.Location!==null&&{Location:AO(e.Location,n)}),e.Metrics!==void 0&&e.Metrics!==null&&{Metrics:K0(e.Metrics,n)}),e.OptOut!==void 0&&e.OptOut!==null&&{OptOut:e.OptOut}),e.RequestId!==void 0&&e.RequestId!==null&&{RequestId:e.RequestId}),e.User!==void 0&&e.User!==null&&{User:TO(e.User,n)})};var ffe=function(e,n){return u(u(u(u({},e.Duration!==void 0&&e.Duration!==null&&{Duration:e.Duration}),e.Id!==void 0&&e.Id!==null&&{Id:e.Id}),e.StartTimestamp!==void 0&&e.StartTimestamp!==null&&{StartTimestamp:e.StartTimestamp}),e.StopTimestamp!==void 0&&e.StopTimestamp!==null&&{StopTimestamp:e.StopTimestamp})};var mfe=function(e,n){return{Message:e.Message!==void 0&&e.Message!==null?e.Message:void 0,StatusCode:e.StatusCode!==void 0&&e.StatusCode!==null?e.StatusCode:void 0}};var pfe=function(e,n){return{Message:e.Message!==void 0&&e.Message!==null?e.Message:void 0,StatusCode:e.StatusCode!==void 0&&e.StatusCode!==null?e.StatusCode:void 0}},vfe=function(e,n){return{Results:e.Results!==void 0&&e.Results!==null?gfe(e.Results,n):void 0}};var hfe=function(e,n){return{EndpointItemResponse:e.EndpointItemResponse!==void 0&&e.EndpointItemResponse!==null?mfe(e.EndpointItemResponse,n):void 0,EventsItemResponse:e.EventsItemResponse!==void 0&&e.EventsItemResponse!==null?yfe(e.EventsItemResponse,n):void 0}};var yfe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=pfe(c,n),i))},{})},gfe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=hfe(c,n),i))},{})};var wfe=function(e,n){return{Message:e.Message!==void 0&&e.Message!==null?e.Message:void 0,RequestID:e.RequestID!==void 0&&e.RequestID!==null?e.RequestID:void 0}};var Te=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},bfe=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},Efe=function(e,n){return bfe(e,n).then(function(r){return n.utf8Encoder(r)})};var Zf=function(e,n){return Efe(e,n).then(function(r){return r.length?JSON.parse(r):{}})},PO=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var IO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IO||(IO={}));var NO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NO||(NO={}));var RO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RO||(RO={}));var OO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OO||(OO={}));var MO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MO||(MO={}));var DO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DO||(DO={}));var kO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kO||(kO={}));var zO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zO||(zO={}));var LO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LO||(LO={}));var BO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BO||(BO={}));var UO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UO||(UO={}));var FO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FO||(FO={}));var jO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jO||(jO={}));var qO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qO||(qO={}));var $O;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($O||($O={}));var HO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HO||(HO={}));var GO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GO||(GO={}));var VO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VO||(VO={}));var KO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KO||(KO={}));var JO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JO||(JO={}));var WO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WO||(WO={}));var XO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XO||(XO={}));var YO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(YO||(YO={}));var QO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QO||(QO={}));var ZO;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZO||(ZO={}));var eM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(eM||(eM={}));var nM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nM||(nM={}));var rM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rM||(rM={}));var tM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tM||(tM={}));var aM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aM||(aM={}));var iM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iM||(iM={}));var oM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oM||(oM={}));var sM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sM||(sM={}));var cM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cM||(cM={}));var dM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dM||(dM={}));var lM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lM||(lM={}));var uM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uM||(uM={}));var fM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fM||(fM={}));var mM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mM||(mM={}));var pM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pM||(pM={}));var vM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vM||(vM={}));var hM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hM||(hM={}));var yM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yM||(yM={}));var gM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gM||(gM={}));var wM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wM||(wM={}));var bM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bM||(bM={}));var EM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EM||(EM={}));var _M;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_M||(_M={}));var SM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SM||(SM={}));var xM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xM||(xM={}));var CM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CM||(CM={}));var AM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AM||(AM={}));var TM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TM||(TM={}));var PM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PM||(PM={}));var IM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IM||(IM={}));var NM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NM||(NM={}));var RM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RM||(RM={}));var OM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OM||(OM={}));var MM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MM||(MM={}));var DM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DM||(DM={}));var kM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kM||(kM={}));var zM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zM||(zM={}));var LM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LM||(LM={}));var BM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BM||(BM={}));var em;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(em||(em={}));var nm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nm||(nm={}));var UM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UM||(UM={}));var FM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FM||(FM={}));var jM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jM||(jM={}));var qM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qM||(qM={}));var $M;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($M||($M={}));var HM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HM||(HM={}));var GM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GM||(GM={}));var VM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VM||(VM={}));var KM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KM||(KM={}));var JM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JM||(JM={}));var WM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WM||(WM={}));var XM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XM||(XM={}));var YM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(YM||(YM={}));var QM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QM||(QM={}));var ZM;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZM||(ZM={}));var eD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(eD||(eD={}));var nD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nD||(nD={}));var rD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rD||(rD={}));var tD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tD||(tD={}));var aD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aD||(aD={}));var iD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iD||(iD={}));var oD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oD||(oD={}));var sD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sD||(sD={}));var cD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cD||(cD={}));var dD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dD||(dD={}));var lD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lD||(lD={}));var uD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uD||(uD={}));var fD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fD||(fD={}));var mD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mD||(mD={}));var pD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pD||(pD={}));var vD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vD||(vD={}));var hD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hD||(hD={}));var yD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yD||(yD={}));var gD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gD||(gD={}));var wD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wD||(wD={}));var rm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rm||(rm={}));var tm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tm||(tm={}));var bD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bD||(bD={}));var ED;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ED||(ED={}));var _D;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_D||(_D={}));var SD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SD||(SD={}));var xD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xD||(xD={}));var CD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CD||(CD={}));var AD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AD||(AD={}));var TD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TD||(TD={}));var PD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PD||(PD={}));var ID;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ID||(ID={}));var ND;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ND||(ND={}));var RD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RD||(RD={}));var OD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OD||(OD={}));var MD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MD||(MD={}));var DD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DD||(DD={}));var kD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kD||(kD={}));var zD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zD||(zD={}));var LD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LD||(LD={}));var BD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BD||(BD={}));var UD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UD||(UD={}));var FD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FD||(FD={}));var jD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jD||(jD={}));var qD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qD||(qD={}));var $D;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($D||($D={}));var HD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HD||(HD={}));var GD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GD||(GD={}));var VD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VD||(VD={}));var KD;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KD||(KD={}));var am=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="PinpointClient",d="PutEventsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:em.filterSensitiveLog,outputFilterSensitiveLog:nm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return pO(r,t)},n.prototype.deserialize=function(r,t){return hO(r,t)},n}(ee);var JD=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="PinpointClient",d="UpdateEndpointCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:rm.filterSensitiveLog,outputFilterSensitiveLog:tm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return vO(r,t)},n.prototype.deserialize=function(r,t){return yO(r,t)},n}(ee);var oi=W(ps());var WD=function(){return!0};var _fe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Sfe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Rd=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},xfe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Rd(arguments[n]));return e},Ms=new q("EventsBuffer"),XD=[429,500],Cfe=[202],Afe=function(){function e(n,r){this._pause=!1,this._flush=!1,Ms.debug("Instantiating buffer with config:",r),this._buffer=[],this._client=n,this._config=r,this._sendBatch=this._sendBatch.bind(this),this._startLoop()}return e.prototype.push=function(n){var r;if(this._buffer>this._config.bufferSize)return Ms.debug("Exceeded analytics events buffer size"),n.handlers.reject(new Error("Exceeded the size of analytics events buffer"));var t=n.params.event.eventId,i=(r={},r[t]=n,r);this._buffer.push(i)},e.prototype.pause=function(){this._pause=!0},e.prototype.resume=function(){this._pause=!1},e.prototype.updateClient=function(n){this._client=n},e.prototype.flush=function(){this._flush=!0},e.prototype._startLoop=function(){this._interval&&clearInterval(this._interval);var n=this._config.flushInterval;this._interval=setInterval(this._sendBatch,n)},e.prototype._sendBatch=function(){var n=this._buffer.length;if(this._flush&&!n&&clearInterval(this._interval),!(this._pause||!n||!WD())){var r=this._config.flushSize,t=Math.min(r,n),i=this._buffer.splice(0,t);this._putEvents(i)}},e.prototype._putEvents=function(n){return _fe(this,void 0,void 0,function(){var r,t,i,a,s;return Sfe(this,function(c){switch(c.label){case 0:r=this._bufferToMap(n),t=this._generateBatchEventParams(r),c.label=1;case 1:return c.trys.push([1,3,,4]),i=new am(t),[4,this._client.send(i)];case 2:return a=c.sent(),this._processPutEventsSuccessResponse(a,r),[3,4];case 3:return s=c.sent(),[2,this._handlePutEventsFailure(s,r)];case 4:return[2]}})})},e.prototype._generateBatchEventParams=function(n){var r={ApplicationId:"",EventsRequest:{BatchItem:{}}};return Object.values(n).forEach(function(t){var i=t.params,a=i.event,s=i.timestamp,c=i.config,d=a.name,o=a.attributes,l=a.metrics,f=a.eventId,m=a.session,p=c.appId,v=c.endpointId,h=r.EventsRequest.BatchItem;r.ApplicationId=r.ApplicationId||p,h[v]||(h[v]={Endpoint:{},Events:{}}),h[v].Events[f]={EventType:d,Timestamp:new Date(s).toISOString(),Attributes:o,Metrics:l,Session:m}}),r},e.prototype._handlePutEventsFailure=function(n,r){Ms.debug("_putEvents Failed: ",n);var t=n.$metadata&&n.$metadata.httpStatusCode;if(XD.includes(t)){var i=Object.values(r);this._retry(i);return}},e.prototype._processPutEventsSuccessResponse=function(n,r){var t=n.EventsResponse.Results,i=[];Object.entries(t).forEach(function(a){var s=Rd(a,2),c=s[0],d=s[1],o=d.EventsItemResponse;Object.entries(o).forEach(function(l){var f,m,p=Rd(l,2),v=p[0],h=p[1],y=h.StatusCode,g=h.Message,w=r[v],b={EventsResponse:{Results:(f={},f[c]={EventsItemResponse:(m={},m[v]={StatusCode:y,Message:g},m)},f)}};if(Cfe.includes(y)){w.handlers.resolve(b);return}if(XD.includes(y)){i.push(w);return}var E=w.params.event.name;return Ms.error("event "+v+" : "+E+" failed with error: "+g),w.handlers.reject(b)})}),i.length&&this._retry(i)},e.prototype._retry=function(n){var r,t=[];n.forEach(function(i){var a,s=i.params,c=s.event,d=c.eventId,o=c.name;if(s.resendLimit-- >0){Ms.debug("resending event "+d+" : "+o+" with "+s.resendLimit+" retry attempts remaining"),t.push((a={},a[d]=i,a));return}Ms.debug("no retry attempts remaining for event "+d+" : "+o)}),(r=this._buffer).unshift.apply(r,xfe(t))},e.prototype._bufferToMap=function(n){return n.reduce(function(r,t){var i=Rd(Object.entries(t),1),a=Rd(i[0],2),s=a[0],c=a[1];return r[s]=c,r},{})},e}(),W0=Afe;var Cn=function(){return Cn=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cn.apply(this,arguments)},_a=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Sa=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},YD=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},Tfe=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",QD=function(e,n){ye.dispatch("analytics",{event:e,data:n},"Analytics",Tfe)},Oe=new q("AWSPinpointProvider"),ZD=[429,500],Pfe=[202],Ife=403,Nfe="mobiletargeting",Rfe="ExpiredTokenException",ek="_update_endpoint",Ofe="_session.start",nk="_session.stop",Mfe=typeof navigator<"u"&&navigator&&typeof navigator.sendBeacon=="function",Dfe=1e3,kfe=100,zfe=5*1e3,Lfe=5,Od=function(){function e(n){this._endpointGenerating=!0,this._endpointUpdateInProgress=!1,this._buffer=null,this._endpointBuffer=[],this._config=n||{},this._config.bufferSize=this._config.bufferSize||Dfe,this._config.flushSize=this._config.flushSize||kfe,this._config.flushInterval=this._config.flushInterval||zfe,this._config.resendLimit=this._config.resendLimit||Lfe,this._clientInfo=Wc.clientInfo()}return e.prototype.getCategory=function(){return e.category},e.prototype.getProviderName=function(){return e.providerName},e.prototype.configure=function(n){var r=this;Oe.debug("configure Analytics",n);var t=n||{};if(this._config=Object.assign({},this._config,t),this._endpointGenerating=!!n.autoSessionRecord,this._config.appId&&!this._config.disabled)if(this._config.endpointId)QD("pinpointProvider_configured",null);else{var i=this.getProviderName()+"_"+this._config.appId;this._getEndpointId(i).then(function(a){Oe.debug("setting endpoint id from the cache",a),r._config.endpointId=a,QD("pinpointProvider_configured",null)}).catch(function(a){Oe.debug("Failed to generate endpointId",a)})}else this._flushBuffer();return this._config},e.prototype.record=function(n,r){return _a(this,void 0,void 0,function(){var t,i;return Sa(this,function(a){switch(a.label){case 0:return Oe.debug("_public record",n),[4,this._getCredentials()];case 1:return t=a.sent(),!t||!this._config.appId||!this._config.region?(Oe.debug("cannot send events without credentials, applicationId or region"),[2,r.reject(new Error("No credentials, applicationId or region"))]):(this._initClients(t),i=new Date().getTime(),this._generateSession(n),n.event.eventId=(0,oi.v1)(),Object.assign(n,{timestamp:i,config:this._config}),n.event.immediate?[2,this._send(n,r)]:(this._putToBuffer(n,r),[2]))}})})},e.prototype._sendEndpointUpdate=function(n){return _a(this,void 0,void 0,function(){var r;return Sa(this,function(t){switch(t.label){case 0:return this._endpointUpdateInProgress?(this._endpointBuffer.push(n),[2]):(this._endpointUpdateInProgress=!0,[4,this._updateEndpoint(n)]);case 1:return t.sent(),r=this._endpointBuffer.shift(),this._endpointUpdateInProgress=!1,r&&this._sendEndpointUpdate(r),[2]}})})},e.prototype._putToBuffer=function(n,r){if(n.event.name===ek){this._sendEndpointUpdate({params:n,handlers:r});return}this._buffer&&this._buffer.push({params:n,handlers:r})},e.prototype._generateSession=function(n){this._sessionId=this._sessionId||(0,oi.v1)();var r=n.event;switch(r.name){case Ofe:this._sessionStartTimestamp=new Date().getTime(),this._sessionId=(0,oi.v1)(),r.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()};break;case nk:var t=new Date().getTime();this._sessionStartTimestamp=this._sessionStartTimestamp||new Date().getTime(),this._sessionId=this._sessionId||(0,oi.v1)(),r.session={Id:this._sessionId,Duration:t-this._sessionStartTimestamp,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString(),StopTimestamp:new Date(t).toISOString()},this._sessionId=void 0,this._sessionStartTimestamp=void 0;break;default:this._sessionStartTimestamp=this._sessionStartTimestamp||new Date().getTime(),this._sessionId=this._sessionId||(0,oi.v1)(),r.session={Id:this._sessionId,StartTimestamp:new Date(this._sessionStartTimestamp).toISOString()}}},e.prototype._send=function(n,r){return _a(this,void 0,void 0,function(){var t;return Sa(this,function(i){switch(t=n.event,t.name){case ek:return[2,this._updateEndpoint({params:n,handlers:r})];case nk:return[2,this._pinpointSendStopSession(n,r)];default:return[2,this._pinpointPutEvents(n,r)]}return[2]})})},e.prototype._generateBatchItemContext=function(n){var r,t=n.event,i=n.timestamp,a=n.config,s=t.name,c=t.attributes,d=t.metrics,o=t.eventId,l=t.session,f=a.appId,m=a.endpointId,p={},v={ApplicationId:f,EventsRequest:{BatchItem:{}}},h={};return h.Endpoint=p,h.Events=(r={},r[o]={EventType:s,Timestamp:new Date(i).toISOString(),Attributes:c,Metrics:d,Session:l},r),v.EventsRequest.BatchItem[m]=h,v},e.prototype._pinpointPutEvents=function(n,r){return _a(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v;return Sa(this,function(h){switch(h.label){case 0:t=n.event.eventId,i=n.config.endpointId,a=this._generateBatchItemContext(n),s=new am(a),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.pinpointClient.send(s)];case 2:if(c=h.sent(),d=c,o=i,l=t,f=d.EventsResponse.Results[o].EventsItemResponse[l],m=f.StatusCode,p=f.Message,Pfe.includes(m))return Oe.debug("record event success. ",c),[2,r.resolve(c)];if(ZD.includes(m))this._retry(n,r);else return Oe.error("Event "+t+" is not accepted, the error is "+p),[2,r.reject(c)];return[3,4];case 3:return v=h.sent(),this._eventError(v),[2,r.reject(v)];case 4:return[2]}})})},e.prototype._pinpointSendStopSession=function(n,r){if(!Mfe){this._pinpointPutEvents(n,r);return}var t=this._generateBatchItemContext(n),i=this._config.region,a=t.ApplicationId,s=t.EventsRequest,c={secret_key:this._config.credentials.secretAccessKey,access_key:this._config.credentials.accessKeyId,session_token:this._config.credentials.sessionToken},d="https://pinpoint."+i+".amazonaws.com/v1/apps/"+a+"/events/legacy",o=JSON.stringify(s),l="POST",f={url:d,body:o,method:l},m={region:i,service:Nfe},p=yt.signUrl(f,c,m,null),v=navigator.sendBeacon(p,o);return v?r.resolve("sendBeacon success"):r.reject("sendBeacon failure")},e.prototype._retry=function(n,r){var t=n.config.resendLimit;n.resendLimit=typeof n.resendLimit=="number"?n.resendLimit:t,n.resendLimit-- >0?(Oe.debug("resending event "+n.eventName+" with "+n.resendLimit+" retry times left"),this._pinpointPutEvents(n,r)):Oe.debug("retry times used up for event "+n.eventName)},e.prototype._updateEndpoint=function(n){return _a(this,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p;return Sa(this,function(v){switch(v.label){case 0:r=n.params,t=n.handlers,i=r.config,a=r.event,s=i.appId,c=i.endpointId,d=this._endpointRequest(i,Se.transferKeyToLowerCase(a,[],["attributes","userAttributes","Attributes","UserAttributes"])),o={ApplicationId:s,EndpointId:c,EndpointRequest:d},v.label=1;case 1:return v.trys.push([1,3,,4]),l=new JD(o),[4,this.pinpointClient.send(l)];case 2:return f=v.sent(),Oe.debug("updateEndpoint success",f),this._endpointGenerating=!1,this._resumeBuffer(),t.resolve(f),[2];case 3:return m=v.sent(),p={err:m,update_params:o,endpointObject:n},[2,this._handleEndpointUpdateFailure(p)];case 4:return[2]}})})},e.prototype._handleEndpointUpdateFailure=function(n){return _a(this,void 0,void 0,function(){var r,t,i,a;return Sa(this,function(s){switch(r=n.err,t=n.endpointObject,i=r.$metadata&&r.$metadata.httpStatusCode,Oe.debug("updateEndpoint error",r),i){case Ife:return[2,this._handleEndpointUpdateForbidden(n)];default:if(ZD.includes(i))return a=!0,[2,this._retryEndpointUpdate(t,a)];Oe.error("updateEndpoint failed",r),t.handlers.reject(r)}return[2]})})},e.prototype._handleEndpointUpdateForbidden=function(n){var r=n.err,t=n.endpointObject,i=r.code,a=r.retryable;if(i!==Rfe&&!a)return t.handlers.reject(r);this._retryEndpointUpdate(t)},e.prototype._retryEndpointUpdate=function(n,r){r===void 0&&(r=!1),Oe.debug("_retryEndpointUpdate",n);var t=n.params,i=t.config.resendLimit;if(t.resendLimit=typeof t.resendLimit=="number"?t.resendLimit:i,t.resendLimit-- >0){Oe.debug("resending endpoint update "+t.event.eventId+" with "+t.resendLimit+" retry attempts remaining"),this._endpointBuffer.length?this._endpointBuffer.unshift(n):this._updateEndpoint(n);return}Oe.warn("resending endpoint update "+t.event.eventId+" failed after "+t.config.resendLimit+" attempts"),this._endpointGenerating&&Oe.error("Initial endpoint update failed. ")},e.prototype._initClients=function(n){return _a(this,void 0,void 0,function(){var r,t;return Sa(this,function(i){return Oe.debug("init clients"),this.pinpointClient&&this._config.credentials&&this._config.credentials.sessionToken===n.sessionToken&&this._config.credentials.identityId===n.identityId?(Oe.debug("no change for aws credentials, directly return from init"),[2]):(r=this._config.credentials?this._config.credentials.identityId:null,this._config.credentials=n,t=this._config.region,Oe.debug("init clients with credentials",n),this.pinpointClient=new mO({region:t,credentials:n,customUserAgent:Ye()}),this.pinpointClient.middlewareStack.addRelativeTo(function(a){return function(s){return delete s.request.headers["amz-sdk-invocation-id"],delete s.request.headers["amz-sdk-request"],a(s)}},{step:"finalizeRequest",relation:"after",toMiddleware:"retryMiddleware"}),this._bufferExists()&&r===n.identityId?this._updateBufferClient():this._initBuffer(),this._customizePinpointClientReq(),[2])})})},e.prototype._bufferExists=function(){return this._buffer&&this._buffer instanceof W0},e.prototype._initBuffer=function(){this._bufferExists()&&this._flushBuffer(),this._buffer=new W0(this.pinpointClient,this._config),this._endpointGenerating&&this._buffer.pause()},e.prototype._updateBufferClient=function(){this._bufferExists()&&this._buffer.updateClient(this.pinpointClient)},e.prototype._flushBuffer=function(){this._bufferExists()&&(this._buffer.flush(),this._buffer=null)},e.prototype._resumeBuffer=function(){this._bufferExists()&&this._buffer.resume()},e.prototype._customizePinpointClientReq=function(){},e.prototype._getEndpointId=function(n){return _a(this,void 0,void 0,function(){var r,t,i;return Sa(this,function(a){switch(a.label){case 0:return[4,fn.getItem(n)];case 1:return r=a.sent(),Oe.debug("endpointId from cache",r,"type",typeof r),r||(r=(0,oi.v1)(),t=1e3*60*60*24*365*100,i=new Date().getTime()+t,fn.setItem(n,r,{expires:i,priority:1})),[2,r]}})})},e.prototype._endpointRequest=function(n,r){var t=n.credentials,i=this._clientInfo||{},a=n.clientContext||{},s=n.endpoint||{},c={appVersion:i.appVersion,make:i.make,model:i.model,modelVersion:i.version,platform:i.platform},d=a.clientId,o=a.appTitle,l=a.appVersionName,f=a.appVersionCode,m=a.appPackageName,p=YD(a,["clientId","appTitle","appVersionName","appVersionCode","appPackageName"]),v=r.address?i.platform==="android"?"GCM":"APNS":void 0,h=Cn(Cn(Cn({channelType:v,requestId:(0,oi.v1)(),effectiveDate:new Date().toISOString()},s),r),{attributes:Cn(Cn({},s.attributes),r.attributes),demographic:Cn(Cn(Cn(Cn({},c),p),s.demographic),r.demographic),location:Cn(Cn({},s.location),r.location),metrics:Cn(Cn({},s.metrics),r.metrics),user:{userId:r.userId||s.userId||t.identityId,userAttributes:Cn(Cn({},s.userAttributes),r.userAttributes)}}),y=h.userId,g=h.userAttributes,w=h.name,b=h.session,E=h.eventId,S=h.immediate,A=YD(h,["userId","userAttributes","name","session","eventId","immediate"]);return Se.transferKeyToUpperCase(A,[],["metrics","userAttributes","attributes"])},e.prototype._eventError=function(n){Oe.error("record event failed.",n),Oe.warn('Please ensure you have updated your Pinpoint IAM Policy with the Action: "mobiletargeting:PutEvents" in order to record events')},e.prototype._getCredentials=function(){return _a(this,void 0,void 0,function(){var n,r;return Sa(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ie.get()];case 1:return n=t.sent(),n?(Oe.debug("set credentials for analytics",n),[2,ie.shear(n)]):[2,null];case 2:return r=t.sent(),Oe.debug("ensure credentials error",r),[2,null];case 3:return[2]}})})},e.category="Analytics",e.providerName="AWSPinpoint",e}();var Bfe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Ufe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Bfe(arguments[n]));return e},rk=[],Ds=function(){function e(n,r){this.context=n,this.methodName=r,this._originalMethod=n[r].bind(n)}return e.add=function(n,r,t){tk(n,r).set(t)},e.remove=function(n,r){tk(n,r).remove()},e.prototype.set=function(n){var r=this;this.context[this.methodName]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return n(r._originalMethod.apply(r,Ufe(t)))}},e.prototype.remove=function(){this.context[this.methodName]=this._originalMethod},e}();function tk(e,n){var r=rk.filter(function(t){return t.context===e&&t.methodName===n})[0];return r||(r=new Ds(e,n),rk.push(r)),r}var ak=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},ik=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ro=new q("PageViewTracker"),X0="aws-amplify-analytics-prevUrl",Ffe=function(){return Se.browserOrNode().isBrowser?window.location.origin+window.location.pathname:""},jfe={enable:!1,provider:"AWSPinpoint",getUrl:Ffe},qfe=function(){function e(n,r){ro.debug("initialize pageview tracker with opts",r),this._config=Object.assign({},jfe,r),this._tracker=n,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._config.type==="SPA"?this._pageViewTrackSPA():this._pageViewTrackDefault()}return e.prototype.configure=function(n){return Object.assign(this._config,n),this._config.type==="SPA"&&this._pageViewTrackSPA(),this._config},e.prototype._isSameUrl=function(){var n=sessionStorage.getItem(X0),r=this._config.getUrl();return n===r?(ro.debug("the url is same"),!0):!1},e.prototype._pageViewTrackDefault=function(){return ak(this,void 0,void 0,function(){var n,r,t,i;return ik(this,function(a){switch(a.label){case 0:return!Se.browserOrNode().isBrowser||!window.addEventListener||!window.sessionStorage?(ro.debug("not in the supported web enviroment"),[2]):(n=this._config.getUrl(),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return t=a.sent(),[3,3];case 2:t=this._config.attributes,a.label=3;case 3:return r=t,i=Object.assign({url:n},r),this._config.enable&&!this._isSameUrl()&&(this._tracker({name:this._config.eventName||"pageView",attributes:i},this._config.provider).catch(function(s){ro.debug("Failed to record the page view event",s)}),sessionStorage.setItem(X0,n)),[2]}})})},e.prototype._trackFunc=function(){return ak(this,void 0,void 0,function(){var n,r,t,i;return ik(this,function(a){switch(a.label){case 0:return!Se.browserOrNode().isBrowser||!window.addEventListener||!history.pushState||!window.sessionStorage?(ro.debug("not in the supported web enviroment"),[2]):(n=this._config.getUrl(),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return t=a.sent(),[3,3];case 2:t=this._config.attributes,a.label=3;case 3:return r=t,i=Object.assign({url:n},r),this._isSameUrl()||(this._tracker({name:this._config.eventName||"pageView",attributes:i},this._config.provider).catch(function(s){ro.debug("Failed to record the page view event",s)}),sessionStorage.setItem(X0,n)),[2]}})})},e.prototype._pageViewTrackSPA=function(){if(!Se.browserOrNode().isBrowser||!window.addEventListener||!history.pushState){ro.debug("not in the supported web enviroment");return}this._config.enable&&!this._hasEnabled?(Ds.add(history,"pushState",this._trackFunc),Ds.add(history,"replaceState",this._trackFunc),window.addEventListener("popstate",this._trackFunc),this._trackFunc(),this._hasEnabled=!0):(Ds.remove(history,"pushState"),Ds.remove(history,"replaceState"),window.removeEventListener("popstate",this._trackFunc),this._hasEnabled=!1)},e}();var Y0=qfe;var to=Se.browserOrNode().isBrowser&&window.Element?window.Element.prototype:null,ok=to?to.matches||to.matchesSelector||to.webkitMatchesSelector||to.mozMatchesSelector||to.msMatchesSelector||to.oMatchesSelector:null;function im(e,n){if(e&&e.nodeType===1&&n){if(typeof n=="string"||n.nodeType===1)return e===n||sk(e,n);if("length"in n){for(var r=0,t=void 0;t=n[r];r++)if(e===t||sk(e,t))return!0}}return!1}function sk(e,n){if(typeof n!="string")return!1;if(ok)return ok.call(e,n);for(var r=e.parentNode.querySelectorAll(n),t=0,i=void 0;i=r[t];t++)if(i===e)return!0;return!1}function ck(e){for(var n=[],r=e;r&&r.parentNode&&r.parentNode.nodeType===1;)r=r.parentNode,n.push(r);return n}function dk(e,n,r){if(r===void 0&&(r=!1),!!(e&&e.nodeType===1&&n)){for(var t=(r?[e]:[]).concat(ck(e)),i=0,a;a=t[i];i++)if(im(a,n))return a}}function Q0(e,n,r,t,i){i===void 0&&(i={});var a=function(s){var c;if(i.composed&&typeof s.composedPath=="function")for(var d=s.composedPath(),o=0,l=void 0;l=d[o];o++)l.nodeType===1&&im(l,r)&&(c=l);else c=dk(s.target,r,!0);c&&t.call(c,s,c)};return e.addEventListener(n,a,i.useCapture),{destroy:function(){e.removeEventListener(n,a,i.useCapture)}}}var $fe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Hfe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ks=new q("EventTracker"),Gfe={enable:!1,events:["click"],selectorPrefix:"data-amplify-analytics-",provider:"AWSPinpoint"},Vfe=function(){function e(n,r){if(!Se.browserOrNode().isBrowser||!window.addEventListener){ks.debug("not in the supported web environment");return}this._config=Object.assign({},Gfe,r),this._tracker=n,this._delegates={},this._trackFunc=this._trackFunc.bind(this),ks.debug("initialize pageview tracker with opts",this._config),this.configure(this._config)}return e.prototype.configure=function(n){var r=this;if(Object.assign(this._config,n),!this._config.enable)Object.keys(this._delegates).forEach(function(i){typeof r._delegates[i].destroy=="function"&&r._delegates[i].destroy()}),this._delegates={};else if(this._config.enable&&Object.keys(this._delegates).length===0){var t="["+this._config.selectorPrefix+"on]";this._config.events.forEach(function(i){r._delegates[i]=Q0(document,i,t,r._trackFunc,{composed:!0,useCapture:!0})})}return this._config},e.prototype._trackFunc=function(n,r){return $fe(this,void 0,void 0,function(){var t,i,a,s,c,d,o;return Hfe(this,function(l){switch(l.label){case 0:return t={},i=r.getAttribute(this._config.selectorPrefix+"on").split(/\s*,\s*/),a=r.getAttribute(this._config.selectorPrefix+"name"),s=r.getAttribute(this._config.selectorPrefix+"attrs"),s&&s.split(/\s*,\s*/).forEach(function(f){var m=f.trim().split(/\s*:\s*/);t[m[0]]=m[1]}),typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()];case 1:return d=l.sent(),[3,3];case 2:d=this._config.attributes,l.label=3;case 3:return c=d,o=Object.assign({type:n.type,target:n.target.localName+" with id "+n.target.id},c,t),ks.debug("events needed to be recorded",i),ks.debug("attributes needed to be attached",t),i.indexOf(n.type)<0?(ks.debug("event "+n.type+" is not selected to be recorded"),[2]):(this._tracker({name:a||"event",attributes:o},this._config.provider).catch(function(f){ks.debug("Failed to record the "+n.type+" event', "+f)}),[2])}})})},e}();var Z0=Vfe;var lk=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},uk=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ao=new q("SessionTracker"),Kfe={enable:!1,provider:"AWSPinpoint"},fk=!1,Jfe=function(){function e(n,r){this._config=Object.assign({},Kfe,r),this._tracker=n,this._hasEnabled=!1,this._trackFunc=this._trackFunc.bind(this),this._trackBeforeUnload=this._trackBeforeUnload.bind(this),this.configure(this._config)}return e.prototype._envCheck=function(){if(!Se.browserOrNode().isBrowser)return!1;if(!document||!document.addEventListener)return ao.debug("not in the supported web environment"),!1;if(typeof document.hidden<"u")this._hidden="hidden",this._visibilityChange="visibilitychange";else if(typeof document.msHidden<"u")this._hidden="msHidden",this._visibilityChange="msvisibilitychange";else if(typeof document.webkitHidden<"u")this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange";else return ao.debug("not in the supported web environment"),!1;return!0},e.prototype._trackFunc=function(){return lk(this,void 0,void 0,function(){var n,r,t;return uk(this,function(i){switch(i.label){case 0:return typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()];case 1:return r=i.sent(),[3,3];case 2:r=this._config.attributes,i.label=3;case 3:return n=r,t=Object.assign({},n),document.visibilityState===this._hidden?this._tracker({name:"_session.stop",attributes:t},this._config.provider).catch(function(a){ao.debug("record session stop event failed.",a)}):this._tracker({name:"_session.start",attributes:t},this._config.provider).catch(function(a){ao.debug("record session start event failed.",a)}),[2]}})})},e.prototype._trackBeforeUnload=function(n){var r=this,t=typeof this._config.attributes=="function"?Promise.resolve(this._config.attributes()):Promise.resolve(this._config.attributes);t.then(function(i){var a=Object.assign({},i);r._tracker({name:"_session.stop",attributes:a,immediate:!0},r._config.provider).catch(function(s){ao.debug("record session stop event failed.",s)})})},e.prototype._sendInitialEvent=function(){return lk(this,void 0,void 0,function(){var n,r,t;return uk(this,function(i){switch(i.label){case 0:return fk?(ao.debug("the start session has been sent when the page is loaded"),[2]):(fk=!0,typeof this._config.attributes!="function"?[3,2]:[4,this._config.attributes()]);case 1:return r=i.sent(),[3,3];case 2:r=this._config.attributes,i.label=3;case 3:return n=r,t=Object.assign({},n),this._tracker({name:"_session.start",attributes:t},this._config.provider).catch(function(a){ao.debug("record session start event failed.",a)}),[2]}})})},e.prototype.configure=function(n){return this._envCheck()?(Object.assign(this._config,n),this._config.enable&&!this._hasEnabled?(this._sendInitialEvent(),document.addEventListener(this._visibilityChange,this._trackFunc,!1),window.addEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!0):!this._config.enable&&this._hasEnabled&&(document.removeEventListener(this._visibilityChange,this._trackFunc,!1),window.removeEventListener("beforeunload",this._trackBeforeUnload,!1),this._hasEnabled=!1),this._config):this._config},e}();var ew=Jfe;var zs=function(){return zs=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zs.apply(this,arguments)},Md=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Dd=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Gt=new q("AnalyticsClass"),Wfe=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Xfe=function(e,n,r){ye.dispatch("analytics",{event:e,data:n,message:r},"Analytics",Wfe)},mk={pageView:Y0,event:Z0,session:ew},Ls=null,Yfe=function(){function e(){this._config={},this._pluggables=[],this._disabled=!1,this._trackers={},Ls=this,this.record=this.record.bind(this),ye.listen("auth",nw),ye.listen("storage",nw),ye.listen("analytics",nw)}return e.prototype.getModuleName=function(){return"Analytics"},e.prototype.configure=function(n){var r=this;if(!n)return this._config;Gt.debug("configure Analytics",n);var t=Ka.parseMobilehubConfig(n);return this._config=Object.assign({},this._config,t.Analytics,n),this._config.disabled&&(this._disabled=!0),this._config.autoSessionRecord===void 0&&(this._config.autoSessionRecord=!0),this._pluggables.forEach(function(i){var a=i.getProviderName()==="AWSPinpoint"&&!r._config.AWSPinpoint?r._config:r._config[i.getProviderName()];i.configure(zs({disabled:r._config.disabled,autoSessionRecord:r._config.autoSessionRecord},a))}),this._pluggables.length===0&&this.addPluggable(new Od),Xfe("configured",null,"The Analytics category has been configured successfully"),Gt.debug("current configuration",this._config),this._config},e.prototype.addPluggable=function(n){if(n&&n.getCategory()==="Analytics"){this._pluggables.push(n);var r=n.getProviderName()==="AWSPinpoint"&&!this._config.AWSPinpoint?this._config:this._config[n.getProviderName()],t=zs({disabled:this._config.disabled},r);return n.configure(t),t}},e.prototype.getPluggable=function(n){for(var r=0;r<this._pluggables.length;r+=1){var t=this._pluggables[r];if(t.getProviderName()===n)return t}return Gt.debug("No plugin found with providerName",n),null},e.prototype.removePluggable=function(n){for(var r=0;r<this._pluggables.length&&this._pluggables[r].getProviderName()!==n;)r+=1;if(r===this._pluggables.length){Gt.debug("No plugin found with providerName",n);return}else{this._pluggables.splice(r,r+1);return}},e.prototype.disable=function(){this._disabled=!0},e.prototype.enable=function(){this._disabled=!1},e.prototype.startSession=function(n){return Md(this,void 0,void 0,function(){var r;return Dd(this,function(t){return r={event:{name:"_session.start"},provider:n},[2,this._sendEvent(r)]})})},e.prototype.stopSession=function(n){return Md(this,void 0,void 0,function(){var r;return Dd(this,function(t){return r={event:{name:"_session.stop"},provider:n},[2,this._sendEvent(r)]})})},e.prototype.record=function(n,r,t){return Md(this,void 0,void 0,function(){var i;return Dd(this,function(a){return i=null,typeof n=="string"?i={event:{name:n,attributes:r,metrics:t},provider:"AWSPinpoint"}:i={event:n,provider:r},[2,this._sendEvent(i)]})})},e.prototype.updateEndpoint=function(n,r){return Md(this,void 0,void 0,function(){var t;return Dd(this,function(i){return t=zs(zs({},n),{name:"_update_endpoint"}),[2,this.record(t,r)]})})},e.prototype._sendEvent=function(n){var r=this;if(this._disabled)return Gt.debug("Analytics has been disabled"),Promise.resolve();var t=n.provider?n.provider:"AWSPinpoint";return new Promise(function(i,a){r._pluggables.forEach(function(s){s.getProviderName()===t&&s.record(n,{resolve:i,reject:a})})})},e.prototype.autoTrack=function(n,r){if(!mk[n]){Gt.debug("invalid tracker type");return}n==="session"&&(this._config.autoSessionRecord=r.enable);var t=this._trackers[n];t?t.configure(r):this._trackers[n]=new mk[n](this.record,r)},e}();var pk=!1,om=!1,kd=!1,nw=function(e){var n=e.channel,r=e.payload;switch(Gt.debug("on hub capsule "+n,r),n){case"auth":Zfe(r);break;case"storage":Qfe(r);break;case"analytics":eme(r);break;default:break}},Qfe=function(e){var n=e.data,r=n.attrs,t=n.metrics;r&&kd&&Ls.record({name:"Storage",attributes:r,metrics:t}).catch(function(i){Gt.debug("Failed to send the storage event automatically",i)})},Zfe=function(e){var n=e.event;if(n){var r=function(t){return Md(void 0,void 0,void 0,function(){var i;return Dd(this,function(a){switch(a.label){case 0:if(!(om&&kd))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Ls.record({name:"_userauth."+t})];case 2:return[2,a.sent()];case 3:return i=a.sent(),Gt.debug("Failed to send the "+t+" event automatically",i),[3,4];case 4:return[2]}})})};switch(n){case"signIn":return r("sign_in");case"signUp":return r("sign_up");case"signOut":return r("sign_out");case"signIn_failure":return r("auth_fail");case"configured":om=!0,om&&kd&&vk();break}}},eme=function(e){var n=e.event;if(n)switch(n){case"pinpointProvider_configured":kd=!0,om&&kd&&vk();break}},vk=function(){var e=Ls.configure();!pk&&e.autoSessionRecord&&(Ls.updateEndpoint({immediate:!0}).catch(function(n){Gt.debug("Failed to update the endpoint",n)}),pk=!0),Ls.autoTrack("session",{enable:e.autoSessionRecord})},sm=new Yfe;se.register(sm);var hk={name:"@aws-sdk/client-kinesis",description:"AWS SDK for JavaScript Kinesis Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-kinesis",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-kinesis"}};var Uk=W(va());var Pk=W(dm());function cw(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var lm=function(){function e(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(n+" is too large (or, if negative, too small) to represent as an Int64");for(var r=new Uint8Array(8),t=7,i=Math.abs(Math.round(n));t>-1&&i>0;t--,i/=256)r[t]=i;return n<0&&Ek(r),new e(r)},e.prototype.valueOf=function(){var n=this.bytes.slice(0),r=n[0]&128;return r&&Ek(n),parseInt(Qe(n),16)*(r?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Ek(e){for(var n=0;n<8;n++)e[n]^=255;for(var n=7;n>-1&&(e[n]++,e[n]===0);n--);}var xk=function(){function e(n,r){this.toUtf8=n,this.fromUtf8=r}return e.prototype.format=function(n){var r,t,i,a,s=[];try{for(var c=cw(Object.keys(n)),d=c.next();!d.done;d=c.next()){var o=d.value,l=this.fromUtf8(o);s.push(Uint8Array.from([l.byteLength]),l,this.formatHeaderValue(n[o]))}}catch(y){r={error:y}}finally{try{d&&!d.done&&(t=c.return)&&t.call(c)}finally{if(r)throw r.error}}var f=new Uint8Array(s.reduce(function(y,g){return y+g.byteLength},0)),m=0;try{for(var p=cw(s),v=p.next();!v.done;v=p.next()){var h=v.value;f.set(h,m),m+=h.byteLength}}catch(y){i={error:y}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return f},e.prototype.formatHeaderValue=function(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":var r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,n.value,!1),new Uint8Array(r.buffer);case"integer":var t=new DataView(new ArrayBuffer(5));return t.setUint8(0,4),t.setInt32(1,n.value,!1),new Uint8Array(t.buffer);case"long":var i=new Uint8Array(9);return i[0]=5,i.set(n.value.bytes,1),i;case"binary":var a=new DataView(new ArrayBuffer(3+n.value.byteLength));a.setUint8(0,6),a.setUint16(1,n.value.byteLength,!1);var s=new Uint8Array(a.buffer);return s.set(n.value,3),s;case"string":var c=this.fromUtf8(n.value),d=new DataView(new ArrayBuffer(3+c.byteLength));d.setUint8(0,7),d.setUint16(1,c.byteLength,!1);var o=new Uint8Array(d.buffer);return o.set(c,3),o;case"timestamp":var l=new Uint8Array(9);return l[0]=8,l.set(lm.fromNumber(n.value.valueOf()).bytes,1),l;case"uuid":if(!Lme.test(n.value))throw new Error("Invalid UUID received: "+n.value);var f=new Uint8Array(17);return f[0]=9,f.set(Ox(n.value.replace(/\-/g,"")),1),f}},e.prototype.parse=function(n){for(var r={},t=0;t<n.byteLength;){var i=n.getUint8(t++),a=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,i));switch(t+=i,n.getUint8(t++)){case 0:r[a]={type:Sk,value:!0};break;case 1:r[a]={type:Sk,value:!1};break;case 2:r[a]={type:Ime,value:n.getInt8(t++)};break;case 3:r[a]={type:Nme,value:n.getInt16(t,!1)},t+=2;break;case 4:r[a]={type:Rme,value:n.getInt32(t,!1)},t+=4;break;case 5:r[a]={type:Ome,value:new lm(new Uint8Array(n.buffer,n.byteOffset+t,8))},t+=8;break;case 6:var s=n.getUint16(t,!1);t+=2,r[a]={type:Mme,value:new Uint8Array(n.buffer,n.byteOffset+t,s)},t+=s;break;case 7:var c=n.getUint16(t,!1);t+=2,r[a]={type:Dme,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+t,c))},t+=c;break;case 8:r[a]={type:kme,value:new Date(new lm(new Uint8Array(n.buffer,n.byteOffset+t,8)).valueOf())},t+=8;break;case 9:var d=new Uint8Array(n.buffer,n.byteOffset+t,16);t+=16,r[a]={type:zme,value:Qe(d.subarray(0,4))+"-"+Qe(d.subarray(4,6))+"-"+Qe(d.subarray(6,8))+"-"+Qe(d.subarray(8,10))+"-"+Qe(d.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return r},e}();var _k;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(_k||(_k={}));var Sk="boolean",Ime="byte",Nme="short",Rme="integer",Ome="long",Mme="binary",Dme="string",kme="timestamp",zme="uuid",Lme=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Ck=W(dm()),Ak=4,ci=Ak*2,io=4,Bme=ci+io*2;function Tk(e){var n=e.byteLength,r=e.byteOffset,t=e.buffer;if(n<Bme)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(t,r,n),a=i.getUint32(0,!1);if(n!==a)throw new Error("Reported message length does not match received message length");var s=i.getUint32(Ak,!1),c=i.getUint32(ci,!1),d=i.getUint32(n-io,!1),o=new Ck.Crc32().update(new Uint8Array(t,r,ci));if(c!==o.digest())throw new Error("The prelude checksum specified in the message ("+c+") does not match the calculated CRC32 checksum ("+o.digest()+")");if(o.update(new Uint8Array(t,r+ci,n-(ci+io))),d!==o.digest())throw new Error("The message checksum ("+o.digest()+") did not match the expected value of "+d);return{headers:new DataView(t,r+ci+io,s),body:new Uint8Array(t,r+ci+io+s,a-s-(ci+io+io))}}var um=function(){function e(n,r){this.headerMarshaller=new xk(n,r)}return e.prototype.marshall=function(n){var r=n.headers,t=n.body,i=this.headerMarshaller.format(r),a=i.byteLength+t.byteLength+16,s=new Uint8Array(a),c=new DataView(s.buffer,s.byteOffset,s.byteLength),d=new Pk.Crc32;return c.setUint32(0,a,!1),c.setUint32(4,i.byteLength,!1),c.setUint32(8,d.update(s.subarray(0,8)).digest(),!1),s.set(i,12),s.set(t,i.byteLength+12),c.setUint32(a-4,d.update(s.subarray(8,a-4)).digest(),!1),s},e.prototype.unmarshall=function(n){var r=Tk(n),t=r.headers,i=r.body;return{headers:this.headerMarshaller.parse(t),body:i}},e.prototype.formatHeaders=function(n){return this.headerMarshaller.format(n)},e}();function Bs(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Ik(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function en(e){return this instanceof en?(this.v=e,this):new en(e)}function Us(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof en?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}function fm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof Ik=="function"?Ik(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}}function Nk(e){var n,r=0,t=0,i=null,a=null,s=function(d){if(typeof d!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+d);r=d,t=4,i=new Uint8Array(d);var o=new DataView(i.buffer);o.setUint32(0,d,!1)},c=function(){return Us(this,arguments,function(){var d,o,l,f,m,p,v,h,y;return Bs(this,function(g){switch(g.label){case 0:d=e[Symbol.asyncIterator](),g.label=1;case 1:return[4,en(d.next())];case 2:return o=g.sent(),l=o.value,f=o.done,f?r?[3,4]:[4,en(void 0)]:[3,10];case 3:return[2,g.sent()];case 4:return r!==t?[3,7]:[4,en(i)];case 5:return[4,g.sent()];case 6:return g.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,en(void 0)];case 9:return[2,g.sent()];case 10:m=l.length,p=0,g.label=11;case 11:if(!(p<m))return[3,15];if(!i){if(v=m-p,a||(a=new Uint8Array(4)),h=Math.min(4-t,v),a.set(l.slice(p,p+h),t),t+=h,p+=h,t<4)return[3,15];s(new DataView(a.buffer).getUint32(0,!1)),a=null}return y=Math.min(r-t,m-p),i.set(l.slice(p,p+y),t),t+=y,p+=y,r&&r===t?[4,en(i)]:[3,14];case 12:return[4,g.sent()];case 13:g.sent(),i=null,r=0,t=0,g.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})};return n={},n[Symbol.asyncIterator]=c,n}function Rk(e,n){var r;return r={},r[Symbol.asyncIterator]=function(){return Us(this,arguments,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b;return Bs(this,function(E){switch(E.label){case 0:E.trys.push([0,12,13,18]),t=fm(e),E.label=1;case 1:return[4,en(t.next())];case 2:if(i=E.sent(),!!i.done)return[3,11];if(a=i.value,s=n.eventMarshaller.unmarshall(a),c=s.headers[":message-type"].value,c!=="error")return[3,3];throw d=new Error(s.headers[":error-message"].value||"UnknownError"),d.name=s.headers[":error-code"].value,d;case 3:return c!=="exception"?[3,5]:(o=s.headers[":exception-type"].value,l=(y={},y[o]=s,y),[4,en(n.deserializer(l))]);case 4:throw f=E.sent(),f.$unknown?(m=new Error(n.toUtf8(s.body)),m.name=o,m):f[o];case 5:return c!=="event"?[3,9]:(p=(g={},g[s.headers[":event-type"].value]=s,g),[4,en(n.deserializer(p))]);case 6:return v=E.sent(),v.$unknown?[3,10]:[4,en(v)];case 7:return[4,E.sent()];case 8:return E.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+s.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return h=E.sent(),w={error:h},[3,18];case 13:return E.trys.push([13,,16,17]),i&&!i.done&&(b=t.return)?[4,en(b.call(t))]:[3,15];case 14:E.sent(),E.label=15;case 15:return[3,17];case 16:if(w)throw w.error;return[7];case 17:return[7];case 18:return[2]}})})},r}var dw=function(){function e(n){var r=n.utf8Encoder,t=n.utf8Decoder;this.eventMarshaller=new um(r,t),this.utfEncoder=r}return e.prototype.deserialize=function(n,r){var t=Nk(n),i=Rk(t,{eventMarshaller:this.eventMarshaller,deserializer:r,toUtf8:this.utfEncoder});return i},e.prototype.serialize=function(n,r){var t,i=this,a=function(){return Us(this,arguments,function(){var s,c,d,o,l,f,m;return Bs(this,function(p){switch(p.label){case 0:p.trys.push([0,7,8,13]),s=fm(n),p.label=1;case 1:return[4,en(s.next())];case 2:return c=p.sent(),!c.done?(d=c.value,o=i.eventMarshaller.marshall(r(d)),[4,en(o)]):[3,6];case 3:return[4,p.sent()];case 4:p.sent(),p.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return l=p.sent(),f={error:l},[3,13];case 8:return p.trys.push([8,,11,12]),c&&!c.done&&(m=s.return)?[4,en(m.call(s))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,12];case 11:if(f)throw f.error;return[7];case 12:return[7];case 13:return[4,en(new Uint8Array(0))];case 14:return[4,p.sent()];case 15:return p.sent(),[2]}})})};return t={},t[Symbol.asyncIterator]=a,t},e}();function Ok(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function lw(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function oo(e){return this instanceof oo?(this.v=e,this):new oo(e)}function Mk(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){t[m]&&(i[m]=function(p){return new Promise(function(v,h){a.push([m,p,v,h])>1||c(m,p)})})}function c(m,p){try{d(t[m](p))}catch(v){f(a[0][3],v)}}function d(m){m.value instanceof oo?Promise.resolve(m.value.v).then(o,l):f(a[0][2],m)}function o(m){c("next",m)}function l(m){c("throw",m)}function f(m,p){m(p),a.shift(),a.length&&c(a[0][0],a[0][1])}}var Dk=function(e){var n;return n={},n[Symbol.asyncIterator]=function(){return Mk(this,arguments,function(){var r,t,i,a;return lw(this,function(s){switch(s.label){case 0:r=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,oo(r.read())];case 3:return t=s.sent(),i=t.done,a=t.value,i?[4,oo(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,oo(a)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})},n},kk=function(e){var n=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(r){return Ok(this,void 0,void 0,function(){var t,i,a;return lw(this,function(s){switch(s.label){case 0:return[4,n.next()];case 1:return t=s.sent(),i=t.done,a=t.value,i?[2,r.close()]:(r.enqueue(a),[2])}})})}})};var zk=function(){function e(n){var r=n.utf8Encoder,t=n.utf8Decoder;this.eventMarshaller=new um(r,t),this.universalMarshaller=new dw({utf8Decoder:t,utf8Encoder:r})}return e.prototype.deserialize=function(n,r){var t=Ume(n)?Dk(n):n;return this.universalMarshaller.deserialize(t,r)},e.prototype.serialize=function(n,r){var t=this.universalMarshaller.serialize(n,r);return typeof ReadableStream=="function"?kk(t):t},e}();var Ume=function(e){return typeof ReadableStream=="function"&&e instanceof ReadableStream};var mm=function(e){return new zk(e)};var pm=W(hr());var Lk="kinesis.{region}.amazonaws.com",Fme="kinesis.{region}.amazonaws.com.cn",jme="kinesis.{region}.c2s.ic.gov",qme="kinesis.{region}.sc2s.sgov.gov",$me="kinesis.{region}.amazonaws.com",Hme=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Gme=new Set(["cn-north-1","cn-northwest-1"]),Vme=new Set(["us-iso-east-1"]),Kme=new Set(["us-isob-east-1"]),Jme=new Set(["us-gov-east-1","us-gov-west-1"]),Bk=function(e,n){var r=void 0;switch(e){case"af-south-1":r={hostname:"kinesis.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"kinesis.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"kinesis.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"kinesis.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"kinesis.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"kinesis.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"kinesis.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"kinesis.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"kinesis.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"kinesis.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"kinesis.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"kinesis.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"kinesis.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"kinesis.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"kinesis.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"kinesis.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"kinesis-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"kinesis-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-west-1":r={hostname:"kinesis-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":r={hostname:"kinesis-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":r={hostname:"kinesis.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":r={hostname:"kinesis.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"kinesis.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"kinesis.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"kinesis.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"us-gov-west-1":r={hostname:"kinesis.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"us-iso-east-1":r={hostname:"kinesis.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"kinesis.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"kinesis.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"kinesis.us-west-2.amazonaws.com",partition:"aws"};break;default:Hme.has(e)&&(r={hostname:Lk.replace("{region}",e),partition:"aws"}),Gme.has(e)&&(r={hostname:Fme.replace("{region}",e),partition:"aws-cn"}),Vme.has(e)&&(r={hostname:jme.replace("{region}",e),partition:"aws-iso"}),Kme.has(e)&&(r={hostname:qme.replace("{region}",e),partition:"aws-iso-b"}),Jme.has(e)&&(r={hostname:$me.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:Lk.replace("{region}",e),partition:"aws"})}return Promise.resolve(u({signingService:"kinesis"},r))};var uw={apiVersion:"2013-12-02",disableHostPrefix:!1,logger:{},regionInfoProvider:Bk,serviceId:"Kinesis",urlParser:qn};var Fk=u(u({},uw),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:uw.serviceId,clientVersion:hk.version}),eventStreamSerdeProvider:mm,maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:Uk.Sha256,streamCollector:zn,utf8Decoder:pm.fromUtf8,utf8Encoder:pm.toUtf8});var Ld=function(){return Ld=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Ld.apply(this,arguments)};var vm=function(e){return Ld(Ld({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})};var jk=function(e){J(n,e);function n(r){var t=this,i=u(u({},Fk),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o),f=vm(l);return t=e.call(this,f)||this,t.config=f,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var qk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qk||(qk={}));var $k;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($k||($k={}));var Hk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Hk||(Hk={}));var fw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fw||(fw={}));var mw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mw||(mw={}));var Gk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Gk||(Gk={}));var Vk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Vk||(Vk={}));var Kk;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING"})(Kk||(Kk={}));var Jk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Jk||(Jk={}));var Wk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Wk||(Wk={}));var Xk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Xk||(Xk={}));var Yk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Yk||(Yk={}));var Qk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Qk||(Qk={}));var Zk;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Zk||(Zk={}));var e4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(e4||(e4={}));var n4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(n4||(n4={}));var r4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(r4||(r4={}));var t4;(function(e){e.KMS="KMS",e.NONE="NONE"})(t4||(t4={}));var a4;(function(e){e.ALL="ALL",e.INCOMING_BYTES="IncomingBytes",e.INCOMING_RECORDS="IncomingRecords",e.ITERATOR_AGE_MILLISECONDS="IteratorAgeMilliseconds",e.OUTGOING_BYTES="OutgoingBytes",e.OUTGOING_RECORDS="OutgoingRecords",e.READ_PROVISIONED_THROUGHPUT_EXCEEDED="ReadProvisionedThroughputExceeded",e.WRITE_PROVISIONED_THROUGHPUT_EXCEEDED="WriteProvisionedThroughputExceeded"})(a4||(a4={}));var i4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(i4||(i4={}));var o4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(o4||(o4={}));var s4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(s4||(s4={}));var c4;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"})(c4||(c4={}));var d4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(d4||(d4={}));var l4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(l4||(l4={}));var u4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(u4||(u4={}));var f4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(f4||(f4={}));var m4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(m4||(m4={}));var p4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(p4||(p4={}));var v4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(v4||(v4={}));var h4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(h4||(h4={}));var y4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(y4||(y4={}));var g4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(g4||(g4={}));var w4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(w4||(w4={}));var b4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(b4||(b4={}));var E4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(E4||(E4={}));var _4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_4||(_4={}));var S4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(S4||(S4={}));var pw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pw||(pw={}));var vw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vw||(vw={}));var hw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hw||(hw={}));var yw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yw||(yw={}));var gw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gw||(gw={}));var ww;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ww||(ww={}));var x4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(x4||(x4={}));var C4;(function(e){e.AFTER_SEQUENCE_NUMBER="AFTER_SEQUENCE_NUMBER",e.AT_SEQUENCE_NUMBER="AT_SEQUENCE_NUMBER",e.AT_TIMESTAMP="AT_TIMESTAMP",e.LATEST="LATEST",e.TRIM_HORIZON="TRIM_HORIZON"})(C4||(C4={}));var A4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(A4||(A4={}));var T4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(T4||(T4={}));var P4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(P4||(P4={}));var bw;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bw||(bw={}));var I4;(function(e){e.AFTER_SHARD_ID="AFTER_SHARD_ID",e.AT_LATEST="AT_LATEST",e.AT_TIMESTAMP="AT_TIMESTAMP",e.AT_TRIM_HORIZON="AT_TRIM_HORIZON",e.FROM_TIMESTAMP="FROM_TIMESTAMP",e.FROM_TRIM_HORIZON="FROM_TRIM_HORIZON"})(I4||(I4={}));var N4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(N4||(N4={}));var R4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(R4||(R4={}));var O4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(O4||(O4={}));var M4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(M4||(M4={}));var D4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(D4||(D4={}));var k4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(k4||(k4={}));var z4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(z4||(z4={}));var L4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(L4||(L4={}));var B4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(B4||(B4={}));var U4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(U4||(U4={}));var F4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(F4||(F4={}));var j4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(j4||(j4={}));var q4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(q4||(q4={}));var $4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($4||($4={}));var hm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hm||(hm={}));var H4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(H4||(H4={}));var ym;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ym||(ym={}));var G4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(G4||(G4={}));var V4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(V4||(V4={}));var K4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(K4||(K4={}));var J4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(J4||(J4={}));var W4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(W4||(W4={}));var X4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(X4||(X4={}));var Y4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Y4||(Y4={}));var Q4;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Q4||(Q4={}));var Ew;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Ew||(Ew={}));var Z4;(function(e){e.visit=function(n,r){return n.SubscribeToShardEvent!==void 0?r.SubscribeToShardEvent(n.SubscribeToShardEvent):n.ResourceNotFoundException!==void 0?r.ResourceNotFoundException(n.ResourceNotFoundException):n.ResourceInUseException!==void 0?r.ResourceInUseException(n.ResourceInUseException):n.KMSDisabledException!==void 0?r.KMSDisabledException(n.KMSDisabledException):n.KMSInvalidStateException!==void 0?r.KMSInvalidStateException(n.KMSInvalidStateException):n.KMSAccessDeniedException!==void 0?r.KMSAccessDeniedException(n.KMSAccessDeniedException):n.KMSNotFoundException!==void 0?r.KMSNotFoundException(n.KMSNotFoundException):n.KMSOptInRequired!==void 0?r.KMSOptInRequired(n.KMSOptInRequired):n.KMSThrottlingException!==void 0?r.KMSThrottlingException(n.KMSThrottlingException):n.InternalFailureException!==void 0?r.InternalFailureException(n.InternalFailureException):r._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var r;if(n.SubscribeToShardEvent!==void 0)return{SubscribeToShardEvent:Ew.filterSensitiveLog(n.SubscribeToShardEvent)};if(n.ResourceNotFoundException!==void 0)return{ResourceNotFoundException:mw.filterSensitiveLog(n.ResourceNotFoundException)};if(n.ResourceInUseException!==void 0)return{ResourceInUseException:fw.filterSensitiveLog(n.ResourceInUseException)};if(n.KMSDisabledException!==void 0)return{KMSDisabledException:vw.filterSensitiveLog(n.KMSDisabledException)};if(n.KMSInvalidStateException!==void 0)return{KMSInvalidStateException:hw.filterSensitiveLog(n.KMSInvalidStateException)};if(n.KMSAccessDeniedException!==void 0)return{KMSAccessDeniedException:pw.filterSensitiveLog(n.KMSAccessDeniedException)};if(n.KMSNotFoundException!==void 0)return{KMSNotFoundException:yw.filterSensitiveLog(n.KMSNotFoundException)};if(n.KMSOptInRequired!==void 0)return{KMSOptInRequired:gw.filterSensitiveLog(n.KMSOptInRequired)};if(n.KMSThrottlingException!==void 0)return{KMSThrottlingException:ww.filterSensitiveLog(n.KMSThrottlingException)};if(n.InternalFailureException!==void 0)return{InternalFailureException:bw.filterSensitiveLog(n.InternalFailureException)};if(n.$unknown!==void 0)return r={},r[n.$unknown[0]]="UNKNOWN",r}})(Z4||(Z4={}));var ez;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.EventStream&&{EventStream:"STREAMING_CONTENT"})}})(ez||(ez={}));var nz;(function(e){e.UNIFORM_SCALING="UNIFORM_SCALING"})(nz||(nz={}));var rz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rz||(rz={}));var tz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tz||(tz={}));var az=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Kinesis_20131202.PutRecords"},t=JSON.stringify(ipe(e,n)),[2,_pe(n,r,"/",void 0,t)]})})};var iz=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,Wme(e,n)]:[4,oz(e.body,n)];case 1:return r=a.sent(),t={},t=hpe(r,n),i=u({$metadata:nn(e)},t),[2,Promise.resolve(i)]}})})},Wme=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w;return N(this,function(b){switch(b.label){case 0:return t=[u({},e)],w={},[4,oz(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(w.body=b.sent(),w)])),a="UnknownError",a=Spe(e,r.body),s=a,s){case"InvalidArgumentException":return[3,2];case"com.amazonaws.kinesis#InvalidArgumentException":return[3,2];case"KMSAccessDeniedException":return[3,4];case"com.amazonaws.kinesis#KMSAccessDeniedException":return[3,4];case"KMSDisabledException":return[3,6];case"com.amazonaws.kinesis#KMSDisabledException":return[3,6];case"KMSInvalidStateException":return[3,8];case"com.amazonaws.kinesis#KMSInvalidStateException":return[3,8];case"KMSNotFoundException":return[3,10];case"com.amazonaws.kinesis#KMSNotFoundException":return[3,10];case"KMSOptInRequired":return[3,12];case"com.amazonaws.kinesis#KMSOptInRequired":return[3,12];case"KMSThrottlingException":return[3,14];case"com.amazonaws.kinesis#KMSThrottlingException":return[3,14];case"ProvisionedThroughputExceededException":return[3,16];case"com.amazonaws.kinesis#ProvisionedThroughputExceededException":return[3,16];case"ResourceNotFoundException":return[3,18];case"com.amazonaws.kinesis#ResourceNotFoundException":return[3,18]}return[3,20];case 2:return c=[{}],[4,Xme(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 4:return d=[{}],[4,Yme(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 6:return o=[{}],[4,Qme(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 8:return l=[{}],[4,Zme(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 10:return f=[{}],[4,epe(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 12:return m=[{}],[4,npe(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 14:return p=[{}],[4,rpe(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 16:return v=[{}],[4,tpe(r,n)];case 17:return i=u.apply(void 0,[u.apply(void 0,v.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 18:return h=[{}],[4,ape(r,n)];case 19:return i=u.apply(void 0,[u.apply(void 0,h.concat([b.sent()])),{name:a,$metadata:nn(e)}]),[3,21];case 20:y=r.body,a=y.code||y.Code||a,i=u(u({},y),{name:""+a,message:y.message||y.Message||a,$fault:"client",$metadata:nn(e)}),b.label=21;case 21:return g=i.message||i.Message||a,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}})})};var Xme=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=cpe(r,n),i=u({name:"InvalidArgumentException",$fault:"client",$metadata:nn(e)},t),[2,i]})})},Yme=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=dpe(r,n),i=u({name:"KMSAccessDeniedException",$fault:"client",$metadata:nn(e)},t),[2,i]})})},Qme=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=lpe(r,n),i=u({name:"KMSDisabledException",$fault:"client",$metadata:nn(e)},t),[2,i]})})},Zme=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=upe(r,n),i=u({name:"KMSInvalidStateException",$fault:"client",$metadata:nn(e)},t),[2,i]})})},epe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=fpe(r,n),i=u({name:"KMSNotFoundException",$fault:"client",$metadata:nn(e)},t),[2,i]})})},npe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=mpe(r,n),i=u({name:"KMSOptInRequired",$fault:"client",$metadata:nn(e)},t),[2,i]})})},rpe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=ppe(r,n),i=u({name:"KMSThrottlingException",$fault:"client",$metadata:nn(e)},t),[2,i]})})};var tpe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=vpe(r,n),i=u({name:"ProvisionedThroughputExceededException",$fault:"client",$metadata:nn(e)},t),[2,i]})})};var ape=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=wpe(r,n),i=u({name:"ResourceNotFoundException",$fault:"client",$metadata:nn(e)},t),[2,i]})})};var ipe=function(e,n){return u(u({},e.Records!==void 0&&e.Records!==null&&{Records:spe(e.Records,n)}),e.StreamName!==void 0&&e.StreamName!==null&&{StreamName:e.StreamName})},ope=function(e,n){return u(u(u({},e.Data!==void 0&&e.Data!==null&&{Data:n.base64Encoder(e.Data)}),e.ExplicitHashKey!==void 0&&e.ExplicitHashKey!==null&&{ExplicitHashKey:e.ExplicitHashKey}),e.PartitionKey!==void 0&&e.PartitionKey!==null&&{PartitionKey:e.PartitionKey})},spe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:ope(r,n)})};var cpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},dpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},lpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},upe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},fpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},mpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},ppe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var vpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var hpe=function(e,n){return{EncryptionType:e.EncryptionType!==void 0&&e.EncryptionType!==null?e.EncryptionType:void 0,FailedRecordCount:e.FailedRecordCount!==void 0&&e.FailedRecordCount!==null?e.FailedRecordCount:void 0,Records:e.Records!==void 0&&e.Records!==null?gpe(e.Records,n):void 0}},ype=function(e,n){return{ErrorCode:e.ErrorCode!==void 0&&e.ErrorCode!==null?e.ErrorCode:void 0,ErrorMessage:e.ErrorMessage!==void 0&&e.ErrorMessage!==null?e.ErrorMessage:void 0,SequenceNumber:e.SequenceNumber!==void 0&&e.SequenceNumber!==null?e.SequenceNumber:void 0,ShardId:e.ShardId!==void 0&&e.ShardId!==null?e.ShardId:void 0}},gpe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:ype(r,n)})};var wpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var nn=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},bpe=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},Epe=function(e,n){return bpe(e,n).then(function(r){return n.utf8Encoder(r)})},_pe=function(e,n,r,t,i){return R(void 0,void 0,void 0,function(){var a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return a=f.sent(),s=a.hostname,c=a.protocol,d=c===void 0?"https":c,o=a.port,l={protocol:d,hostname:s,port:o,method:"POST",path:r,headers:n},t!==void 0&&(l.hostname=t),i!==void 0&&(l.body=i),[2,new ae(l)]}})})},oz=function(e,n){return Epe(e,n).then(function(r){return r.length?JSON.parse(r):{}})},Spe=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var sz=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="KinesisClient",d="PutRecordsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:hm.filterSensitiveLog,outputFilterSensitiveLog:ym.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return az(r,t)},n.prototype.deserialize=function(r,t){return iz(r,t)},n}(ee);var uz=W(hr()),cz=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},dz=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ct=new q("AWSKinesisProvider"),lz=1e3,xpe=100,Cpe=5*1e3,Ape=5,Bd=function(){function e(n){this._buffer=[],this._config=n||{},this._config.bufferSize=this._config.bufferSize||lz,this._config.flushSize=this._config.flushSize||xpe,this._config.flushInterval=this._config.flushInterval||Cpe,this._config.resendLimit=this._config.resendLimit||Ape,this._setupTimer()}return e.prototype._setupTimer=function(){var n=this;this._timer&&clearInterval(this._timer);var r=this._config,t=r.flushSize,i=r.flushInterval;this._timer=setInterval(function(){for(var a=n._buffer.length<t?n._buffer.length:t,s=[],c=0;c<a;c+=1){var d=n._buffer.shift();s.push(d)}n._sendFromBuffer(s)},i)},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AWSKinesis"},e.prototype.configure=function(n){ct.debug("configure Analytics",n);var r=n||{};return this._config=Object.assign({},this._config,r),this._setupTimer(),this._config},e.prototype.record=function(n){return cz(this,void 0,void 0,function(){var r;return dz(this,function(t){switch(t.label){case 0:return[4,this._getCredentials()];case 1:return r=t.sent(),r?(Object.assign(n,{config:this._config,credentials:r}),[2,this._putToBuffer(n)]):[2,Promise.resolve(!1)]}})})},e.prototype.updateEndpoint=function(){return ct.debug("updateEndpoint is not implemented in Kinesis provider"),Promise.resolve(!0)},e.prototype._putToBuffer=function(n){return this._buffer.length<lz?(this._buffer.push(n),Promise.resolve(!0)):(ct.debug("exceed analytics events buffer size"),Promise.reject(!1))},e.prototype._sendFromBuffer=function(n){for(var r=this,t=[],i=null,a=[],s=0;s<n.length;s+=1){var c=n[s].credentials;s===0?(a.push(n[s]),i=c):c.sessionToken===i.sessionToken&&c.identityId===i.identityId?(ct.debug("no change for cred, put event in the same group"),a.push(n[s])):(t.push(a),a=[],a.push(n[s]),i=c)}t.push(a),t.map(function(d){r._sendEvents(d)})},e.prototype._sendEvents=function(n){var r=this;if(n.length!==0){var t=n[0],i=t.config,a=t.credentials,s=this._init(i,a);if(!s)return!1;var c={};n.map(function(d){var o=d.event,l=o.streamName;c[l]===void 0&&(c[l]=[]);var f=o.data&&typeof o.data!="string"?JSON.stringify(o.data):o.data,m=(0,uz.fromUtf8)(f),p=o.partitionKey||"partition-"+a.identityId,v={Data:m,PartitionKey:p};c[l].push(v)}),Object.keys(c).map(function(d){return cz(r,void 0,void 0,function(){var o,l;return dz(this,function(f){switch(f.label){case 0:ct.debug("putting records to kinesis with records",c[d]),f.label=1;case 1:return f.trys.push([1,3,,4]),o=new sz({Records:c[d],StreamName:d}),[4,this._kinesis.send(o)];case 2:return f.sent(),ct.debug("Upload records to stream",d),[3,4];case 3:return l=f.sent(),ct.debug("Failed to upload records to Kinesis",l),[3,4];case 4:return[2]}})})})}},e.prototype._init=function(n,r){if(ct.debug("init clients"),this._kinesis&&this._config.credentials&&this._config.credentials.sessionToken===r.sessionToken&&this._config.credentials.identityId===r.identityId)return ct.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=r;var t=n.region,i=n.endpoint;return this._initKinesis(t,i,r)},e.prototype._initKinesis=function(n,r,t){return ct.debug("initialize kinesis with credentials",t),this._kinesis=new jk({region:n,credentials:t,customUserAgent:Ye(),endpoint:r}),!0},e.prototype._getCredentials=function(){var n=this;return ie.get().then(function(r){return r?(ct.debug("set credentials for analytics",n._config.credentials),ie.shear(r)):null}).catch(function(r){return ct.debug("ensure credentials error",r),null})},e}();var fz={name:"@aws-sdk/client-firehose",description:"AWS SDK for JavaScript Firehose Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-firehose",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-firehose"}};var vz=W(va());var gm=W(hr());var mz="firehose.{region}.amazonaws.com",Ppe="firehose.{region}.amazonaws.com.cn",Ipe="firehose.{region}.c2s.ic.gov",Npe="firehose.{region}.sc2s.sgov.gov",Rpe="firehose.{region}.amazonaws.com",Ope=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Mpe=new Set(["cn-north-1","cn-northwest-1"]),Dpe=new Set(["us-iso-east-1"]),kpe=new Set(["us-isob-east-1"]),zpe=new Set(["us-gov-east-1","us-gov-west-1"]),pz=function(e,n){var r=void 0;switch(e){case"af-south-1":r={hostname:"firehose.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"firehose.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"firehose.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"firehose.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"firehose.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"firehose.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"firehose.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"firehose.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"firehose.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"firehose.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"firehose.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"firehose.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"firehose.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"firehose.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"firehose.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"firehose.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"firehose-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"firehose-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-east-1":r={hostname:"firehose-fips.us-gov-east-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-east-1"};break;case"fips-us-gov-west-1":r={hostname:"firehose-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-1":r={hostname:"firehose-fips.us-west-1.amazonaws.com",partition:"aws",signingRegion:"us-west-1"};break;case"fips-us-west-2":r={hostname:"firehose-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"me-south-1":r={hostname:"firehose.me-south-1.amazonaws.com",partition:"aws"};break;case"sa-east-1":r={hostname:"firehose.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"firehose.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"firehose.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"firehose.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":r={hostname:"firehose.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"firehose.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"firehose.us-west-2.amazonaws.com",partition:"aws"};break;default:Ope.has(e)&&(r={hostname:mz.replace("{region}",e),partition:"aws"}),Mpe.has(e)&&(r={hostname:Ppe.replace("{region}",e),partition:"aws-cn"}),Dpe.has(e)&&(r={hostname:Ipe.replace("{region}",e),partition:"aws-iso"}),kpe.has(e)&&(r={hostname:Npe.replace("{region}",e),partition:"aws-iso-b"}),zpe.has(e)&&(r={hostname:Rpe.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:mz.replace("{region}",e),partition:"aws"})}return Promise.resolve(u({signingService:"firehose"},r))};var _w={apiVersion:"2015-08-04",disableHostPrefix:!1,logger:{},regionInfoProvider:pz,serviceId:"Firehose",urlParser:qn};var hz=u(u({},_w),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:_w.serviceId,clientVersion:fz.version}),maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:vz.Sha256,streamCollector:zn,utf8Decoder:gm.fromUtf8,utf8Encoder:gm.toUtf8});var yz=function(e){J(n,e);function n(r){var t=this,i=u(u({},hz),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var gz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gz||(gz={}));var wz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wz||(wz={}));var bz;(function(e){e.GZIP="GZIP",e.HADOOP_SNAPPY="HADOOP_SNAPPY",e.SNAPPY="Snappy",e.UNCOMPRESSED="UNCOMPRESSED",e.ZIP="ZIP"})(bz||(bz={}));var Ez;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Ez||(Ez={}));var _z;(function(e){e.GZIP="GZIP",e.NONE="NONE"})(_z||(_z={}));var Sz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Sz||(Sz={}));var xz;(function(e){e.AWS_OWNED_CMK="AWS_OWNED_CMK",e.CUSTOMER_MANAGED_CMK="CUSTOMER_MANAGED_CMK"})(xz||(xz={}));var Cz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Cz||(Cz={}));var Az;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Az||(Az={}));var Tz;(function(e){e.BUFFER_INTERVAL_IN_SECONDS="BufferIntervalInSeconds",e.BUFFER_SIZE_IN_MB="BufferSizeInMBs",e.LAMBDA_ARN="LambdaArn",e.LAMBDA_NUMBER_OF_RETRIES="NumberOfRetries",e.ROLE_ARN="RoleArn"})(Tz||(Tz={}));var Pz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Pz||(Pz={}));var Iz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Iz||(Iz={}));var Nz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Nz||(Nz={}));var Rz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Rz||(Rz={}));var Oz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Oz||(Oz={}));var Mz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Mz||(Mz={}));var Dz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Dz||(Dz={}));var kz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kz||(kz={}));var zz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zz||(zz={}));var Lz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Lz||(Lz={}));var Bz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Bz||(Bz={}));var Uz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Uz||(Uz={}));var Fz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Fz||(Fz={}));var jz;(function(e){e.NONE="NONE",e.SNAPPY="SNAPPY",e.ZLIB="ZLIB"})(jz||(jz={}));var qz;(function(e){e.V0_11="V0_11",e.V0_12="V0_12"})(qz||(qz={}));var $z;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($z||($z={}));var Hz;(function(e){e.GZIP="GZIP",e.SNAPPY="SNAPPY",e.UNCOMPRESSED="UNCOMPRESSED"})(Hz||(Hz={}));var Gz;(function(e){e.V1="V1",e.V2="V2"})(Gz||(Gz={}));var Vz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Vz||(Vz={}));var Kz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Kz||(Kz={}));var Jz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Jz||(Jz={}));var Wz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Wz||(Wz={}));var Xz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Xz||(Xz={}));var Yz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Yz||(Yz={}));var Qz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Qz||(Qz={}));var wm;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.Url&&{Url:X}),n.AccessKey&&{AccessKey:X})}})(wm||(wm={}));var Sw;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.AttributeName&&{AttributeName:X}),n.AttributeValue&&{AttributeValue:X})}})(Sw||(Sw={}));var Ud;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.CommonAttributes&&{CommonAttributes:n.CommonAttributes.map(function(r){return Sw.filterSensitiveLog(r)})})}})(Ud||(Ud={}));var Zz;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Zz||(Zz={}));var xw;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.EndpointConfiguration&&{EndpointConfiguration:wm.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Ud.filterSensitiveLog(n.RequestConfiguration)})}})(xw||(xw={}));var eL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(eL||(eL={}));var nL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nL||(nL={}));var Cw;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.Username&&{Username:X}),n.Password&&{Password:X})}})(Cw||(Cw={}));var rL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rL||(rL={}));var tL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tL||(tL={}));var aL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aL||(aL={}));var iL;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.RedshiftDestinationConfiguration&&{RedshiftDestinationConfiguration:Cw.filterSensitiveLog(n.RedshiftDestinationConfiguration)}),n.HttpEndpointDestinationConfiguration&&{HttpEndpointDestinationConfiguration:xw.filterSensitiveLog(n.HttpEndpointDestinationConfiguration)})}})(iL||(iL={}));var oL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oL||(oL={}));var sL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sL||(sL={}));var cL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cL||(cL={}));var dL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dL||(dL={}));var lL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lL||(lL={}));var uL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uL||(uL={}));var fL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fL||(fL={}));var mL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mL||(mL={}));var pL;(function(e){e.CREATE_ENI_FAILED="CREATE_ENI_FAILED",e.CREATE_KMS_GRANT_FAILED="CREATE_KMS_GRANT_FAILED",e.DELETE_ENI_FAILED="DELETE_ENI_FAILED",e.DISABLED_KMS_KEY="DISABLED_KMS_KEY",e.ENI_ACCESS_DENIED="ENI_ACCESS_DENIED",e.INVALID_KMS_KEY="INVALID_KMS_KEY",e.KMS_ACCESS_DENIED="KMS_ACCESS_DENIED",e.KMS_KEY_NOT_FOUND="KMS_KEY_NOT_FOUND",e.KMS_OPT_IN_REQUIRED="KMS_OPT_IN_REQUIRED",e.RETIRE_KMS_GRANT_FAILED="RETIRE_KMS_GRANT_FAILED",e.SECURITY_GROUP_ACCESS_DENIED="SECURITY_GROUP_ACCESS_DENIED",e.SECURITY_GROUP_NOT_FOUND="SECURITY_GROUP_NOT_FOUND",e.SUBNET_ACCESS_DENIED="SUBNET_ACCESS_DENIED",e.SUBNET_NOT_FOUND="SUBNET_NOT_FOUND",e.UNKNOWN_ERROR="UNKNOWN_ERROR"})(pL||(pL={}));var vL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vL||(vL={}));var hL;(function(e){e.DISABLED="DISABLED",e.DISABLING="DISABLING",e.DISABLING_FAILED="DISABLING_FAILED",e.ENABLED="ENABLED",e.ENABLING="ENABLING",e.ENABLING_FAILED="ENABLING_FAILED"})(hL||(hL={}));var yL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yL||(yL={}));var gL;(function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.CREATING_FAILED="CREATING_FAILED",e.DELETING="DELETING",e.DELETING_FAILED="DELETING_FAILED"})(gL||(gL={}));var wL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wL||(wL={}));var bL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bL||(bL={}));var EL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EL||(EL={}));var _L;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_L||(_L={}));var Aw;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Url&&{Url:X})}})(Aw||(Aw={}));var Tw;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.EndpointConfiguration&&{EndpointConfiguration:Aw.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Ud.filterSensitiveLog(n.RequestConfiguration)})}})(Tw||(Tw={}));var Pw;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Username&&{Username:X})}})(Pw||(Pw={}));var SL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SL||(SL={}));var Iw;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.RedshiftDestinationDescription&&{RedshiftDestinationDescription:Pw.filterSensitiveLog(n.RedshiftDestinationDescription)}),n.HttpEndpointDestinationDescription&&{HttpEndpointDestinationDescription:Tw.filterSensitiveLog(n.HttpEndpointDestinationDescription)})}})(Iw||(Iw={}));var xL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xL||(xL={}));var CL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CL||(CL={}));var Nw;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Destinations&&{Destinations:n.Destinations.map(function(r){return Iw.filterSensitiveLog(r)})})}})(Nw||(Nw={}));var AL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AL||(AL={}));var TL;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.DeliveryStreamDescription&&{DeliveryStreamDescription:Nw.filterSensitiveLog(n.DeliveryStreamDescription)})}})(TL||(TL={}));var PL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PL||(PL={}));var IL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IL||(IL={}));var NL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NL||(NL={}));var RL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RL||(RL={}));var OL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OL||(OL={}));var ML;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ML||(ML={}));var DL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DL||(DL={}));var kL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kL||(kL={}));var zL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zL||(zL={}));var LL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LL||(LL={}));var BL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BL||(BL={}));var bm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bm||(bm={}));var UL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UL||(UL={}));var Em;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Em||(Em={}));var FL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FL||(FL={}));var jL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jL||(jL={}));var qL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qL||(qL={}));var $L;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($L||($L={}));var HL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HL||(HL={}));var GL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GL||(GL={}));var VL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VL||(VL={}));var KL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KL||(KL={}));var Rw;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.EndpointConfiguration&&{EndpointConfiguration:wm.filterSensitiveLog(n.EndpointConfiguration)}),n.RequestConfiguration&&{RequestConfiguration:Ud.filterSensitiveLog(n.RequestConfiguration)})}})(Rw||(Rw={}));var Ow;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.Username&&{Username:X}),n.Password&&{Password:X})}})(Ow||(Ow={}));var JL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JL||(JL={}));var WL;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.RedshiftDestinationUpdate&&{RedshiftDestinationUpdate:Ow.filterSensitiveLog(n.RedshiftDestinationUpdate)}),n.HttpEndpointDestinationUpdate&&{HttpEndpointDestinationUpdate:Rw.filterSensitiveLog(n.HttpEndpointDestinationUpdate)})}})(WL||(WL={}));var XL;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XL||(XL={}));var YL=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"Firehose_20150804.PutRecordBatch"},t=JSON.stringify(qpe(e,n)),[2,eve(n,r,"/",void 0,t)]})})};var QL=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){switch(a.label){case 0:return e.statusCode>=300?[2,Lpe(e,n)]:[4,ZL(e.body,n)];case 1:return r=a.sent(),t={},t=Kpe(r,n),i=u({$metadata:Vt(e)},t),[2,Promise.resolve(i)]}})})},Lpe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p;return N(this,function(v){switch(v.label){case 0:return t=[u({},e)],p={},[4,ZL(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(p.body=v.sent(),p)])),a="UnknownError",a=nve(e,r.body),s=a,s){case"InvalidArgumentException":return[3,2];case"com.amazonaws.firehose#InvalidArgumentException":return[3,2];case"InvalidKMSResourceException":return[3,4];case"com.amazonaws.firehose#InvalidKMSResourceException":return[3,4];case"ResourceNotFoundException":return[3,6];case"com.amazonaws.firehose#ResourceNotFoundException":return[3,6];case"ServiceUnavailableException":return[3,8];case"com.amazonaws.firehose#ServiceUnavailableException":return[3,8]}return[3,10];case 2:return c=[{}],[4,Bpe(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([v.sent()])),{name:a,$metadata:Vt(e)}]),[3,11];case 4:return d=[{}],[4,Upe(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([v.sent()])),{name:a,$metadata:Vt(e)}]),[3,11];case 6:return o=[{}],[4,Fpe(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([v.sent()])),{name:a,$metadata:Vt(e)}]),[3,11];case 8:return l=[{}],[4,jpe(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([v.sent()])),{name:a,$metadata:Vt(e)}]),[3,11];case 10:f=r.body,a=f.code||f.Code||a,i=u(u({},f),{name:""+a,message:f.message||f.Message||a,$fault:"client",$metadata:Vt(e)}),v.label=11;case 11:return m=i.message||i.Message||a,i.message=m,delete i.Message,[2,Promise.reject(Object.assign(new Error(m),i))]}})})};var Bpe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Gpe(r,n),i=u({name:"InvalidArgumentException",$fault:"client",$metadata:Vt(e)},t),[2,i]})})},Upe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Vpe(r,n),i=u({name:"InvalidKMSResourceException",$fault:"client",$metadata:Vt(e)},t),[2,i]})})};var Fpe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Xpe(r,n),i=u({name:"ResourceNotFoundException",$fault:"client",$metadata:Vt(e)},t),[2,i]})})},jpe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i;return N(this,function(a){return r=e.body,t=Ype(r,n),i=u({name:"ServiceUnavailableException",$fault:"server",$metadata:Vt(e)},t),[2,i]})})};var qpe=function(e,n){return u(u({},e.DeliveryStreamName!==void 0&&e.DeliveryStreamName!==null&&{DeliveryStreamName:e.DeliveryStreamName}),e.Records!==void 0&&e.Records!==null&&{Records:$pe(e.Records,n)})},$pe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:Hpe(r,n)})};var Hpe=function(e,n){return u({},e.Data!==void 0&&e.Data!==null&&{Data:n.base64Encoder(e.Data)})};var Gpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Vpe=function(e,n){return{code:e.code!==void 0&&e.code!==null?e.code:void 0,message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Kpe=function(e,n){return{Encrypted:e.Encrypted!==void 0&&e.Encrypted!==null?e.Encrypted:void 0,FailedPutCount:e.FailedPutCount!==void 0&&e.FailedPutCount!==null?e.FailedPutCount:void 0,RequestResponses:e.RequestResponses!==void 0&&e.RequestResponses!==null?Wpe(e.RequestResponses,n):void 0}},Jpe=function(e,n){return{ErrorCode:e.ErrorCode!==void 0&&e.ErrorCode!==null?e.ErrorCode:void 0,ErrorMessage:e.ErrorMessage!==void 0&&e.ErrorMessage!==null?e.ErrorMessage:void 0,RecordId:e.RecordId!==void 0&&e.RecordId!==null?e.RecordId:void 0}},Wpe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:Jpe(r,n)})};var Xpe=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Ype=function(e,n){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}};var Vt=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Qpe=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},Zpe=function(e,n){return Qpe(e,n).then(function(r){return n.utf8Encoder(r)})},eve=function(e,n,r,t,i){return R(void 0,void 0,void 0,function(){var a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return a=f.sent(),s=a.hostname,c=a.protocol,d=c===void 0?"https":c,o=a.port,l={protocol:d,hostname:s,port:o,method:"POST",path:r,headers:n},t!==void 0&&(l.hostname=t),i!==void 0&&(l.body=i),[2,new ae(l)]}})})},ZL=function(e,n){return Zpe(e,n).then(function(r){return r.length?JSON.parse(r):{}})},nve=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var eB=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="FirehoseClient",d="PutRecordBatchCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:bm.filterSensitiveLog,outputFilterSensitiveLog:Em.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return YL(r,t)},n.prototype.deserialize=function(r,t){return QL(r,t)},n}(ee);var nB=W(hr()),rve=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),Fs=new q("AWSKineisFirehoseProvider"),Mw=function(e){rve(n,e);function n(r){return e.call(this,r)||this}return n.prototype.getProviderName=function(){return"AWSKinesisFirehose"},n.prototype._sendEvents=function(r){var t=this;if(r.length!==0){var i=r[0],a=i.config,s=i.credentials,c=this._init(a,s);if(!c)return!1;var d={};r.map(function(o){var l=o.event,f=l.streamName,m=l.data;d[f]===void 0&&(d[f]=[]);var p=m&&typeof m!="string"?JSON.stringify(m):m,v=(0,nB.fromUtf8)(p),h={Data:v};d[f].push(h)}),Object.keys(d).map(function(o){Fs.debug("putting records to kinesis",o,"with records",d[o]),t._kinesisFirehose.send(new eB({Records:d[o],DeliveryStreamName:o})).then(function(l){return Fs.debug("Upload records to stream",o)}).catch(function(l){return Fs.debug("Failed to upload records to Kinesis",l)})})}},n.prototype._init=function(r,t){if(Fs.debug("init clients"),this._kinesisFirehose&&this._config.credentials&&this._config.credentials.sessionToken===t.sessionToken&&this._config.credentials.identityId===t.identityId)return Fs.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=t;var i=r.region;return this._initFirehose(i,t)},n.prototype._initFirehose=function(r,t){return Fs.debug("initialize kinesis firehose with credentials",t),this._kinesisFirehose=new yz({apiVersion:"2015-08-04",region:r,credentials:t}),!0},n}(Bd);var rB={name:"@aws-sdk/client-personalize-events",description:"AWS SDK for JavaScript Personalize Events Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs",test:"exit 0","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-personalize-events",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-personalize-events"}};var iB=W(va());var _m=W(hr());var tB="personalize-events.{region}.amazonaws.com",ave="personalize-events.{region}.amazonaws.com.cn",ive="personalize-events.{region}.c2s.ic.gov",ove="personalize-events.{region}.sc2s.sgov.gov",sve="personalize-events.{region}.amazonaws.com",cve=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),dve=new Set(["cn-north-1","cn-northwest-1"]),lve=new Set(["us-iso-east-1"]),uve=new Set(["us-isob-east-1"]),fve=new Set(["us-gov-east-1","us-gov-west-1"]),aB=function(e,n){var r=void 0;switch(e){default:cve.has(e)&&(r={hostname:tB.replace("{region}",e),partition:"aws"}),dve.has(e)&&(r={hostname:ave.replace("{region}",e),partition:"aws-cn"}),lve.has(e)&&(r={hostname:ive.replace("{region}",e),partition:"aws-iso"}),uve.has(e)&&(r={hostname:ove.replace("{region}",e),partition:"aws-iso-b"}),fve.has(e)&&(r={hostname:sve.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:tB.replace("{region}",e),partition:"aws"})}return Promise.resolve(u({signingService:"personalize"},r))};var Dw={apiVersion:"2018-03-22",disableHostPrefix:!1,logger:{},regionInfoProvider:aB,serviceId:"Personalize Events",urlParser:qn};var oB=u(u({},Dw),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:Dw.serviceId,clientVersion:rB.version}),maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:iB.Sha256,streamCollector:zn,utf8Decoder:_m.fromUtf8,utf8Encoder:_m.toUtf8});var sB=function(e){J(n,e);function n(r){var t=this,i=u(u({},oB),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var cB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cB||(cB={}));var dB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dB||(dB={}));var Sm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Sm||(Sm={}));var lB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lB||(lB={}));var uB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uB||(uB={}));var fB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fB||(fB={}));var mB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mB||(mB={}));var pB;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pB||(pB={}));var vB=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o;return N(this,function(l){switch(l.label){case 0:return r={"content-type":"application/json"},t="/events",i=JSON.stringify(u(u(u(u({},e.eventList!==void 0&&e.eventList!==null&&{eventList:hve(e.eventList,n)}),e.sessionId!==void 0&&e.sessionId!==null&&{sessionId:e.sessionId}),e.trackingId!==void 0&&e.trackingId!==null&&{trackingId:e.trackingId}),e.userId!==void 0&&e.userId!==null&&{userId:e.userId})),[4,n.endpoint()];case 1:return a=l.sent(),s=a.hostname,c=a.protocol,d=c===void 0?"https":c,o=a.port,[2,new ae({protocol:d,hostname:s,port:o,method:"POST",headers:r,path:t,body:i})]}})})};var hB=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,mve(e,n)]:(r={$metadata:xm(e)},[4,yB(e.body,n)]);case 1:return t.sent(),[2,Promise.resolve(r)]}})})},mve=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return t=[u({},e)],l={},[4,wve(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(l.body=f.sent(),l)])),a="UnknownError",a=bve(e,r.body),s=a,s){case"InvalidInputException":return[3,2];case"com.amazonaws.personalizeevents#InvalidInputException":return[3,2]}return[3,4];case 2:return c=[{}],[4,pve(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),{name:a,$metadata:xm(e)}]),[3,5];case 4:d=r.body,a=d.code||d.Code||a,i=u(u({},d),{name:""+a,message:d.message||d.Message||a,$fault:"client",$metadata:xm(e)}),f.label=5;case 5:return o=i.message||i.Message||a,i.message=o,delete i.Message,[2,Promise.reject(Object.assign(new Error(o),i))]}})})};var pve=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"InvalidInputException",$fault:"client",$metadata:xm(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})};var vve=function(e,n){return u(u(u(u(u(u(u(u({},e.eventId!==void 0&&e.eventId!==null&&{eventId:e.eventId}),e.eventType!==void 0&&e.eventType!==null&&{eventType:e.eventType}),e.eventValue!==void 0&&e.eventValue!==null&&{eventValue:e.eventValue}),e.impression!==void 0&&e.impression!==null&&{impression:yve(e.impression,n)}),e.itemId!==void 0&&e.itemId!==null&&{itemId:e.itemId}),e.properties!==void 0&&e.properties!==null&&{properties:Et.fromObject(e.properties)}),e.recommendationId!==void 0&&e.recommendationId!==null&&{recommendationId:e.recommendationId}),e.sentAt!==void 0&&e.sentAt!==null&&{sentAt:Math.round(e.sentAt.getTime()/1e3)})},hve=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:vve(r,n)})},yve=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:r})};var xm=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},yB=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},gve=function(e,n){return yB(e,n).then(function(r){return n.utf8Encoder(r)})};var wve=function(e,n){return gve(e,n).then(function(r){return r.length?JSON.parse(r):{}})},bve=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var gB=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="PersonalizeEventsClient",d="PutEventsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Sm.filterSensitiveLog,outputFilterSensitiveLog:function(f){return f}},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return vB(r,t)},n.prototype.deserialize=function(r,t){return hB(r,t)},n}(ee);var Jt=W(Qw()),jj=W(tb()),Wd=W(ps());var nbe="_awsct",ab="_awsct_uid",ib="_awsct_sid",rbe="peronslize",tbe=30*1e3,abe=".",ibe=7,A8e=new q("AmazonPersonalizeProvider"),qj=function(){function e(n){n===void 0&&(n=""),this._isBrowser=Se.browserOrNode().isBrowser,this._timerKey=(0,Wd.v1)().substr(0,15),this._refreshTimer()}return e.prototype._refreshTimer=function(){this._timer&&clearInterval(this._timer);var n=this;this._timer=setInterval(function(){n._timerKey=(0,Wd.v1)().substr(0,15)},tbe)},e.prototype.storeValue=function(n,r){var t=new Date,i=new Date;i.setTime(t.getTime()+36e5*24*ibe),fn.setItem(this._getCachePrefix(n),r,{expires:i.getTime()})},e.prototype.retrieveValue=function(n){return fn.getItem(this._getCachePrefix(n))},e.prototype._getCachePrefix=function(n){return this._isBrowser?n+abe+window.location.host:rbe},e.prototype.getTimerKey=function(){return this._timerKey},e.prototype.updateSessionInfo=function(n,r){var t=r.userId,i=r.sessionId;if(this._isRequireNewSession(n,t,i)){var a=(0,Wd.v1)();this.storeValue(ab,n),this.storeValue(ib,a),r.sessionId=a}else this._isRequireUpdateSessionInfo(n,t,i)&&this.storeValue(ab,n);r.userId=n},e.prototype._isRequireUpdateSessionInfo=function(n,r,t){var i=(0,Jt.default)(t);return!i&&(0,Jt.default)(r)&&!(0,Jt.default)(n)},e.prototype.retrieveSessionInfo=function(n){var r={};return r.trackingId=n,r.sessionId=this.retrieveValue(ib),r.userId=this.retrieveValue(ab),(0,Jt.default)(r.sessionId)&&(r.sessionId=(0,Wd.v1)(),this.storeValue(ib,r.sessionId)),this.storeValue(nbe,n),r},e.prototype._isRequireNewSession=function(n,r,t){var i=(0,Jt.default)(t),a=(0,Jt.default)(n)&&!(0,Jt.default)(r),s=!(0,Jt.default)(n)&&!(0,Jt.default)(r)&&!(0,jj.default)(n,r);return i||a||s},e}();var Xd;(function(e){e.PLAY="play",e.PAUSE="pause",e.ENDED="Ended"})(Xd||(Xd={}));var xa;(function(e){e.IFRAME="IFRAME",e.VIDEO="VIDEO",e.AUDIO="AUDIO"})(xa||(xa={}));var Qn;(function(e){e.PLAY="Play",e.ENDED="Ended",e.PAUSE="Pause",e.TIME_WATCHED="TimeWatched"})(Qn||(Qn={}));var $j=function(){function e(n,r){var t;this.eventActionMapping=(t={},t[Qn.ENDED]=this.endedEventAction.bind(this),t[Qn.PLAY]=this.playEventAction.bind(this),t[Qn.PAUSE]=this.pauseEventAction.bind(this),t);var i=n.eventData;this._params=n,this._mediaElement=document.getElementById(i.properties.domElementId),this._started=!1,this._provider=r;var a={IFRAME:this._iframeMediaTracker,VIDEO:this._html5MediaTracker,AUDIO:this._html5MediaTracker};a[this._mediaElement.tagName].bind(this)(),this._initYoutubeFrame()}return e.prototype._initYoutubeFrame=function(){this._youTubeIframeLoader={src:"https://www.youtube.com/iframe_api",loading:!1,loaded:!1,listeners:[],load:function(n){var r=this;if(this.listeners.push(n),this.loaded){setTimeout(function(){r.done()});return}if(!this.loading){this.loading=!0,window.onYouTubeIframeAPIReady=function(){r.loaded=!0,r.done()};var t=document.createElement("script");t.type="text/javascript",t.src=this.src,document.body.appendChild(t)}},done:function(){for(delete window.onYouTubeIframeAPIReady;this.listeners.length;)this.listeners.pop()(window.YT)}}},e.prototype._iframeMediaTracker=function(){var n=this;setInterval(function(){n._started&&n.recordEvent(xa.IFRAME,Qn.TIME_WATCHED)},3*1e3),this._youTubeIframeLoader.load(function(r){n._iframePlayer=new r.Player(n._mediaElement.id,{events:{onStateChange:n._onPlayerStateChange.bind(n)}})})},e.prototype._onPlayerStateChange=function(n){var r={0:Qn.ENDED,1:Qn.PLAY,2:Qn.PAUSE},t=r[n.data];t&&this.eventActionMapping[t](xa.IFRAME)},e.prototype._html5MediaTracker=function(){var n=this;setInterval(function(){n._started&&n.recordEvent(xa.VIDEO,Qn.TIME_WATCHED)},3*1e3),this._mediaElement.addEventListener(Xd.PLAY,function(){n.eventActionMapping[Qn.PLAY](xa.VIDEO)},!1),this._mediaElement.addEventListener(Xd.PAUSE,function(){n.eventActionMapping[Qn.PAUSE](xa.VIDEO)},!1),this._mediaElement.addEventListener(Xd.ENDED,function(){n.eventActionMapping[Qn.ENDED](xa.VIDEO)},!1)},e.prototype.playEventAction=function(n){this._started=!0,this.recordEvent(n,Qn.PLAY)},e.prototype.pauseEventAction=function(n){this._started=!1,this.recordEvent(n,Qn.PAUSE)},e.prototype.endedEventAction=function(n){this._started=!1,this.recordEvent(n,Qn.ENDED)},e.prototype.recordEvent=function(n,r){var t=Object.assign({},this._params),i=t.eventData;i.eventType=r,n===xa.VIDEO?(i.properties.timestamp=this._mediaElement.currentTime,i.properties.duration=this._mediaElement.duration):(i.properties.timestamp=this._financial(this._iframePlayer.getCurrentTime()),i.properties.duration=this._financial(this._iframePlayer.getDuration()));var a=parseFloat(i.properties.timestamp)/parseFloat(i.properties.duration);i.properties.eventValue=Number(a.toFixed(4)),delete i.properties.domElementId,this._provider.putToBuffer(t)},e.prototype._financial=function(n){return Number.parseFloat(n).toFixed(4)},e}();var gq=W(yq()),Yd=W(Qw()),wq=W(tb()),$be=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Hbe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Br=new q("AmazonPersonalizeProvider"),Gbe=5,Vbe=10,Kbe=5*1e3,Jbe="Identify",sb=function(){function e(n){this._buffer=[],this._config=n||{},this._config.flushSize=this._config.flushSize>0&&this._config.flushSize<=Vbe?this._config.flushSize:Gbe,this._config.flushInterval=this._config.flushInterval||Kbe,this._sessionManager=new qj,(0,Yd.default)(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._isBrowser=Se.browserOrNode().isBrowser,this._setupTimer()}return e.prototype._setupTimer=function(){this._timer&&clearInterval(this._timer);var n=this._config.flushInterval,r=this;this._timer=setInterval(function(){r._sendFromBuffer()},n)},e.prototype.record=function(n){return $be(this,void 0,void 0,function(){var r,t,i,a,s,c;return Hbe(this,function(d){switch(d.label){case 0:return[4,this._getCredentials()];case 1:return r=d.sent(),r?(Object.assign(n,{config:this._config,credentials:r,sentAt:new Date}),t=n.event,i=t.eventType,a=t.properties,i===Jbe?(this._sessionManager.updateSessionInfo(a&&a.userId?a.userId:"",this._sessionInfo),[2]):((0,Yd.default)(n.event.userId)||this._sessionManager.updateSessionInfo(n.event.userId,this._sessionInfo),s=this.generateRequestParams(n,this._sessionInfo),i!=="MediaAutoTrack"?[3,7]:this._isBrowser?(0,Yd.default)((0,gq.default)(s,"eventData.properties.domElementId",null))?[3,3]:[4,this.isElementFullyLoaded(this.loadElement,s.eventData.properties.domElementId,500,5)]:[3,5])):[2,Promise.resolve(!1)];case 2:return c=d.sent(),c?new $j(s,this):Br.debug("Cannot find the media element."),[3,4];case 3:Br.debug("Missing domElementId field in 'properties' for MediaAutoTrack event type."),d.label=4;case 4:return[3,6];case 5:Br.debug("MediaAutoTrack only for browser"),d.label=6;case 6:return[2];case 7:return[2,this.putToBuffer(s)]}})})},e.prototype.loadElement=function(n){return new Promise(function(r,t){return document.getElementById(n)&&document.getElementById(n).clientHeight?r(!0):t(!0)})},e.prototype.isElementFullyLoaded=function(n,r,t,i){var a=this,s=function(c){return new Promise(function(d){return setTimeout(d,c)})};return new Promise(function(c,d){return n(r).then(c).catch(function(o){return i-1>0?s(t).then(a.isElementFullyLoaded.bind(null,n,r,t,i-1)).then(c).catch(d):d(o)})})},e.prototype.getCategory=function(){return"Analytics"},e.prototype.getProviderName=function(){return"AmazonPersonalize"},e.prototype.configure=function(n){Br.debug("configure Analytics",n);var r=n||{};return this._config=Object.assign({},this._config,r),(0,Yd.default)(this._config.trackingId)||(this._sessionInfo=this._sessionManager.retrieveSessionInfo(this._config.trackingId)),this._setupTimer(),this._config},e.prototype.generateRequestParams=function(n,r){var t={},i=n.event,a=i.eventType,s=i.properties;return t.eventData={eventType:a,properties:s},t.sessionInfo=r,t.sentAt=n.sentAt,t.credentials=n.credentials,t.config=n.config,t},e.prototype._sendEvents=function(n){var r=n.length;if(r===0){Br.debug("events array is empty, directly return");return}var t=n[0],i=t.config,a=t.credentials,s=t.sessionInfo,c=this._init(i,a);if(!c)return!1;if(r>0){for(var d=[],o=0;o<r;o+=1){var l=n.shift(),f=this._generateSingleRecordPayload(l,s);d.push(f)}var m={};m.trackingId=s.trackingId,m.sessionId=s.sessionId,m.userId=s.userId,m.eventList=[],d.forEach(function(v){m.eventList.push(v)});var p=new gB(m);this._personalize.send(p,function(v){v?Br.debug("Failed to call putEvents in Personalize",v):Br.debug("Put events")})}},e.prototype.putToBuffer=function(n){return this._buffer.length<this._config.flushSize?this._buffer.push(n):(this._buffer.push(n),this._sendFromBuffer()),Promise.resolve(!0)},e.prototype._sendFromBuffer=function(){var n=this,r=this._buffer.length;if(!(r<=0)){for(var t=[],i=null,a=[],s=0;s<r;s+=1){var c=this._buffer.shift(),d=c.credentials,o=c.sessionInfo;s===0?(a.push(c),i=d):(0,wq.default)(o,this._sessionInfo)&&d.sessionToken===i.sessionToken&&d.identityId===i.identityId?(Br.debug("no change for cred, put event in the same group"),a.push(c)):(t.push(a),a=[],a.push(c),i=d,this._sessionInfo=o)}t.push(a),t.map(function(l){n._sendEvents(l)})}},e.prototype._generateSingleRecordPayload=function(n,r){var t=n.eventData,i=n.sentAt,a={};return a.sentAt=i,a.properties=t.properties&&JSON.stringify(t.properties),a.eventId=this._sessionManager.getTimerKey()+r.sessionId,a.eventType=t.eventType,a},e.prototype._init=function(n,r){if(Br.debug("init clients"),this._personalize&&this._config.credentials&&this._config.credentials.sessionToken===r.sessionToken&&this._config.credentials.identityId===r.identityId)return Br.debug("no change for analytics config, directly return from init"),!0;this._config.credentials=r;var t=n.region;return Br.debug("initialize personalize with credentials",r),this._personalize=new sB({region:t,credentials:r,customUserAgent:Ye()}),!0},e.prototype._getCredentials=function(){var n=this;return ie.get().then(function(r){return r?(Br.debug("set credentials for analytics",n._config.credentials),ie.shear(r)):null}).catch(function(r){return Br.debug("ensure credentials error",r),null})},e}();var bq={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var Mq=W(va());function Eq(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function _q(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Sq(e,n,r){return r===void 0&&(r=1024*1024),new Promise(function(t,i){var a=new FileReader;a.addEventListener("error",i),a.addEventListener("abort",i);var s=e.size,c=0;function d(){if(c>=s){t();return}a.readAsArrayBuffer(e.slice(c,Math.min(s,c+r)))}a.addEventListener("load",function(o){var l=o.target.result;n(new Uint8Array(l)),c+=l.byteLength,d()}),d()})}var xq=function(n,r){return Eq(this,void 0,void 0,function(){var t;return _q(this,function(i){switch(i.label){case 0:return t=new n,[4,Sq(r,function(a){t.update(a)})];case 1:return i.sent(),[2,t.digest()]}})})};function Cq(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function Aq(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var Iq=W(hr());var Ca=64,Tq=16,Pq=[1732584193,4023233417,2562383102,271733878];var Nq=function(){function e(){this.state=Uint32Array.from(Pq),this.buffer=new DataView(new ArrayBuffer(Ca)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(!Xbe(n)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=Ybe(n),t=0,i=r.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[t++]),i--,this.bufferLength===Ca&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return Cq(this,void 0,void 0,function(){var n,r,t,i,a,c,c,s,c;return Aq(this,function(d){if(!this.finished){if(n=this,r=n.buffer,t=n.bufferLength,i=n.bytesHashed,a=i*8,r.setUint8(this.bufferLength++,128),t%Ca>=Ca-8){for(c=this.bufferLength;c<Ca;c++)r.setUint8(c,0);this.hashBuffer(),this.bufferLength=0}for(c=this.bufferLength;c<Ca-8;c++)r.setUint8(c,0);r.setUint32(Ca-8,a>>>0,!0),r.setUint32(Ca-4,Math.floor(a/4294967296),!0),this.hashBuffer(),this.finished=!0}for(s=new DataView(new ArrayBuffer(Tq)),c=0;c<4;c++)s.setUint32(c*4,this.state[c],!0);return[2,new Uint8Array(s.buffer,s.byteOffset,s.byteLength)]})})},e.prototype.hashBuffer=function(){var n=this,r=n.buffer,t=n.state,i=t[0],a=t[1],s=t[2],c=t[3];i=Zn(i,a,s,c,r.getUint32(0,!0),7,3614090360),c=Zn(c,i,a,s,r.getUint32(4,!0),12,3905402710),s=Zn(s,c,i,a,r.getUint32(8,!0),17,606105819),a=Zn(a,s,c,i,r.getUint32(12,!0),22,3250441966),i=Zn(i,a,s,c,r.getUint32(16,!0),7,4118548399),c=Zn(c,i,a,s,r.getUint32(20,!0),12,1200080426),s=Zn(s,c,i,a,r.getUint32(24,!0),17,2821735955),a=Zn(a,s,c,i,r.getUint32(28,!0),22,4249261313),i=Zn(i,a,s,c,r.getUint32(32,!0),7,1770035416),c=Zn(c,i,a,s,r.getUint32(36,!0),12,2336552879),s=Zn(s,c,i,a,r.getUint32(40,!0),17,4294925233),a=Zn(a,s,c,i,r.getUint32(44,!0),22,2304563134),i=Zn(i,a,s,c,r.getUint32(48,!0),7,1804603682),c=Zn(c,i,a,s,r.getUint32(52,!0),12,4254626195),s=Zn(s,c,i,a,r.getUint32(56,!0),17,2792965006),a=Zn(a,s,c,i,r.getUint32(60,!0),22,1236535329),i=er(i,a,s,c,r.getUint32(4,!0),5,4129170786),c=er(c,i,a,s,r.getUint32(24,!0),9,3225465664),s=er(s,c,i,a,r.getUint32(44,!0),14,643717713),a=er(a,s,c,i,r.getUint32(0,!0),20,3921069994),i=er(i,a,s,c,r.getUint32(20,!0),5,3593408605),c=er(c,i,a,s,r.getUint32(40,!0),9,38016083),s=er(s,c,i,a,r.getUint32(60,!0),14,3634488961),a=er(a,s,c,i,r.getUint32(16,!0),20,3889429448),i=er(i,a,s,c,r.getUint32(36,!0),5,568446438),c=er(c,i,a,s,r.getUint32(56,!0),9,3275163606),s=er(s,c,i,a,r.getUint32(12,!0),14,4107603335),a=er(a,s,c,i,r.getUint32(32,!0),20,1163531501),i=er(i,a,s,c,r.getUint32(52,!0),5,2850285829),c=er(c,i,a,s,r.getUint32(8,!0),9,4243563512),s=er(s,c,i,a,r.getUint32(28,!0),14,1735328473),a=er(a,s,c,i,r.getUint32(48,!0),20,2368359562),i=nr(i,a,s,c,r.getUint32(20,!0),4,4294588738),c=nr(c,i,a,s,r.getUint32(32,!0),11,2272392833),s=nr(s,c,i,a,r.getUint32(44,!0),16,1839030562),a=nr(a,s,c,i,r.getUint32(56,!0),23,4259657740),i=nr(i,a,s,c,r.getUint32(4,!0),4,2763975236),c=nr(c,i,a,s,r.getUint32(16,!0),11,1272893353),s=nr(s,c,i,a,r.getUint32(28,!0),16,4139469664),a=nr(a,s,c,i,r.getUint32(40,!0),23,3200236656),i=nr(i,a,s,c,r.getUint32(52,!0),4,681279174),c=nr(c,i,a,s,r.getUint32(0,!0),11,3936430074),s=nr(s,c,i,a,r.getUint32(12,!0),16,3572445317),a=nr(a,s,c,i,r.getUint32(24,!0),23,76029189),i=nr(i,a,s,c,r.getUint32(36,!0),4,3654602809),c=nr(c,i,a,s,r.getUint32(48,!0),11,3873151461),s=nr(s,c,i,a,r.getUint32(60,!0),16,530742520),a=nr(a,s,c,i,r.getUint32(8,!0),23,3299628645),i=rr(i,a,s,c,r.getUint32(0,!0),6,4096336452),c=rr(c,i,a,s,r.getUint32(28,!0),10,1126891415),s=rr(s,c,i,a,r.getUint32(56,!0),15,2878612391),a=rr(a,s,c,i,r.getUint32(20,!0),21,4237533241),i=rr(i,a,s,c,r.getUint32(48,!0),6,1700485571),c=rr(c,i,a,s,r.getUint32(12,!0),10,2399980690),s=rr(s,c,i,a,r.getUint32(40,!0),15,4293915773),a=rr(a,s,c,i,r.getUint32(4,!0),21,2240044497),i=rr(i,a,s,c,r.getUint32(32,!0),6,1873313359),c=rr(c,i,a,s,r.getUint32(60,!0),10,4264355552),s=rr(s,c,i,a,r.getUint32(24,!0),15,2734768916),a=rr(a,s,c,i,r.getUint32(52,!0),21,1309151649),i=rr(i,a,s,c,r.getUint32(16,!0),6,4149444226),c=rr(c,i,a,s,r.getUint32(44,!0),10,3174756917),s=rr(s,c,i,a,r.getUint32(8,!0),15,718787259),a=rr(a,s,c,i,r.getUint32(36,!0),21,3951481745),t[0]=i+t[0]&4294967295,t[1]=a+t[1]&4294967295,t[2]=s+t[2]&4294967295,t[3]=c+t[3]&4294967295},e}();function Om(e,n,r,t,i,a){return n=(n+e&4294967295)+(t+a&4294967295)&4294967295,(n<<i|n>>>32-i)+r&4294967295}function Zn(e,n,r,t,i,a,s){return Om(n&r|~n&t,e,n,i,a,s)}function er(e,n,r,t,i,a,s){return Om(n&t|r&~t,e,n,i,a,s)}function nr(e,n,r,t,i,a,s){return Om(n^r^t,e,n,i,a,s)}function rr(e,n,r,t,i,a,s){return Om(r^(n|~t),e,n,i,a,s)}function Xbe(e){return typeof e=="string"?e.length===0:e.byteLength===0}function Ybe(e){return typeof e=="string"?(0,Iq.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var Mm=W(hr());var Rq="s3.{region}.amazonaws.com",Qbe="s3.{region}.amazonaws.com.cn",Zbe="s3.{region}.c2s.ic.gov",e1e="s3.{region}.sc2s.sgov.gov",n1e="s3.{region}.amazonaws.com",r1e=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),t1e=new Set(["cn-north-1","cn-northwest-1"]),a1e=new Set(["us-iso-east-1"]),i1e=new Set(["us-isob-east-1"]),o1e=new Set(["us-gov-east-1","us-gov-west-1"]),Oq=function(e,n){var r=void 0;switch(e){case"af-south-1":r={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":r={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":r={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":r={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":r={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":r={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":r={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":r={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":r={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:r1e.has(e)&&(r={hostname:Rq.replace("{region}",e),partition:"aws"}),t1e.has(e)&&(r={hostname:Qbe.replace("{region}",e),partition:"aws-cn"}),a1e.has(e)&&(r={hostname:Zbe.replace("{region}",e),partition:"aws-iso"}),i1e.has(e)&&(r={hostname:e1e.replace("{region}",e),partition:"aws-iso-b"}),o1e.has(e)&&(r={hostname:n1e.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:Rq.replace("{region}",e),partition:"aws"})}return Promise.resolve(u({signingService:"s3"},r))};var cb={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:Oq,serviceId:"S3",signingEscapePath:!1,urlParser:qn,useArnRegion:!1};var Dq=u(u({},cb),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:cb.serviceId,clientVersion:bq.version}),eventStreamSerdeProvider:mm,maxAttempts:un,md5:Nq,region:Ln("Region is missing"),requestHandler:new Dn,sha256:Mq.Sha256,streamCollector:zn,streamHasher:xq,utf8Decoder:Mm.fromUtf8,utf8Encoder:Mm.toUtf8});var Ur=function(){return Ur=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Ur.apply(this,arguments)};function kq(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function zq(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function Xs(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}function Lq(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a}var Dm=function(e){return typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6},Bq=function(e){var n=e.split(":");if(n.length<6||n[0]!=="arn")throw new Error("Malformed ARN");var r=Lq(n),t=r[1],i=r[2],a=r[3],s=r[4],c=r.slice(5);return{partition:t,service:i,region:a,accountId:s,resource:c.join(":")}};var s1e=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,c1e=/(\d+\.){3}\d+/,d1e=/\.\./,lb=/\./,l1e=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,Fq=/^s3(-external-1)?\.amazonaws\.com$/,db="amazonaws.com",jq=function(e){return typeof e.bucketName=="string"},Ys=function(e){return vb(e)?e.replace(/fips-|-fips/,""):e},qq=function(e){return s1e.test(e)&&!c1e.test(e)&&!d1e.test(e)},$q=function(e){var n=e.match(l1e);return[n[2],e.replace(new RegExp("^"+n[0]),"")]},Hq=function(e){return Fq.test(e)?["us-east-1",db]:$q(e)},ub=function(e){return Fq.test(e)?[e.replace("."+db,""),db]:$q(e)},Gq=function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},Vq=function(e){if(e!=="s3"&&e!=="s3-outposts")throw new Error("Expect 's3' or 's3-outposts' in ARN service component")},Kq=function(e){if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},fb=function(e){if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},mb=function(e,n){if(e!==n.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+n.clientPartition+'"')},pb=function(e,n){if(e==="")throw new Error("ARN region is empty");if(!n.useArnRegion&&!Uq(e,n.clientRegion)&&!Uq(e,n.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+n.clientRegion);if(n.useArnRegion&&vb(e))throw new Error("Endpoint does not support FIPS region")},vb=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},Uq=function(e,n){return e===n||Ys(e)===n||e===Ys(n)},hb=function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},km=function(e,n){if(n===void 0&&(n={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||n?.tlsCompatible&&lb.test(e))throw new Error("Invalid DNS label "+e)},yb=function(e){var n=e.includes(":")?":":"/",r=Xs(e.split(n)),t=r[0],i=r.slice(1);if(t==="accesspoint"){if(i.length!==1||i[0]==="")throw new Error("Access Point ARN should have one resource accesspoint"+n+"{accesspointname}");return{accesspointName:i[0]}}else if(t==="outpost"){if(!i[0]||i[1]!=="accesspoint"||!i[2]||i.length!==3)throw new Error("Outpost ARN should have resource outpost"+n+"{outpostId}"+n+"accesspoint"+n+"{accesspointName}");var a=Xs(i,3),s=a[0],c=a[1],d=a[2];return{outpostId:s,accesspointName:d}}else throw new Error("ARN resource should begin with 'accesspoint"+n+"' or 'outpost"+n+"'")},gb=function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")},wb=function(e){if(vb(e??""))throw new Error("FIPS region is not supported with Outpost, got "+e)};var bb=function(e){var n=e.isCustomEndpoint,r=e.baseHostname,t=e.dualstackEndpoint,i=e.accelerateEndpoint;if(n){if(t)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(i)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return jq(e)?f1e(Ur(Ur({},e),{isCustomEndpoint:n})):u1e(Ur(Ur({},e),{isCustomEndpoint:n}))},u1e=function(e){var n=e.isCustomEndpoint,r=e.baseHostname,t=Xs(n?[e.clientRegion,r]:ub(r),2),i=t[0],a=t[1],s=e.pathStyleEndpoint,c=e.dualstackEndpoint,d=c===void 0?!1:c,o=e.accelerateEndpoint,l=o===void 0?!1:o,f=e.tlsCompatible,m=f===void 0?!0:f,p=e.useArnRegion,v=e.bucketName,h=e.clientPartition,y=h===void 0?"aws":h,g=e.clientSigningRegion,w=g===void 0?i:g;Gq({pathStyleEndpoint:s,accelerateEndpoint:l,tlsCompatible:m});var b=v.service,E=v.partition,S=v.accountId,A=v.region,I=v.resource;Vq(b),mb(E,{clientPartition:y}),hb(S),pb(A,{useArnRegion:p,clientRegion:i,clientSigningRegion:w});var P=yb(I),O=P.accesspointName,k=P.outpostId;km(O+"-"+S,{tlsCompatible:m});var _=p?A:i,x=p?A:w;if(k){fb(b),km(k,{tlsCompatible:m}),gb(d),wb(_);var T=O+"-"+S+"."+k;return{bucketEndpoint:!0,hostname:""+T+(n?"":".s3-outposts."+_)+"."+a,signingRegion:x,signingService:"s3-outposts"}}Kq(b);var M=O+"-"+S;return{bucketEndpoint:!0,hostname:""+M+(n?"":".s3-accesspoint"+(d?".dualstack":"")+"."+_)+"."+a,signingRegion:x}},f1e=function(e){var n=e.accelerateEndpoint,r=n===void 0?!1:n,t=e.clientRegion,i=e.baseHostname,a=e.bucketName,s=e.dualstackEndpoint,c=s===void 0?!1:s,d=e.pathStyleEndpoint,o=d===void 0?!1:d,l=e.tlsCompatible,f=l===void 0?!0:l,m=e.isCustomEndpoint,p=m===void 0?!1:m,v=Xs(p?[t,i]:Hq(i),2),h=v[0],y=v[1];return o||!qq(a)||f&&lb.test(a)?{bucketEndpoint:!1,hostname:c?"s3.dualstack."+h+"."+y:i}:(r?i="s3-accelerate"+(c?".dualstack":"")+"."+y:c&&(i="s3.dualstack."+h+"."+y),{bucketEndpoint:!0,hostname:a+"."+i})};var m1e=function(e){return function(n,r){return function(t){return kq(void 0,void 0,void 0,function(){var i,a,s,c,g,d,o,l,f,m,p,v,E,S,h,y,g,w,b,E,S;return zq(this,function(A){switch(A.label){case 0:return i=t.input.Bucket,a=e.bucketEndpoint,s=t.request,ae.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return Dm(i)?(c=Bq(i),d=Ys,[4,e.region()]):[3,5];case 2:return g=d.apply(void 0,[A.sent()]),[4,e.regionInfoProvider(g)];case 3:return o=A.sent()||{},l=o.partition,f=o.signingRegion,m=f===void 0?g:f,[4,e.useArnRegion()];case 4:return p=A.sent(),v=bb({bucketName:c,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:s.protocol==="https:",useArnRegion:p,clientPartition:l,clientSigningRegion:m,clientRegion:g,isCustomEndpoint:e.isCustomEndpoint}),E=v.hostname,S=v.bucketEndpoint,h=v.signingRegion,y=v.signingService,h&&h!==m&&(r.signing_region=h),y&&y!=="s3"&&(r.signing_service=y),s.hostname=E,a=S,[3,7];case 5:return w=Ys,[4,e.region()];case 6:g=w.apply(void 0,[A.sent()]),b=bb({bucketName:i,clientRegion:g,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:s.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint}),E=b.hostname,S=b.bucketEndpoint,s.hostname=E,a=S,A.label=7;case 7:a&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),s.path===""&&(s.path="/")),A.label=8;case 8:return[2,n(Ur(Ur({},t),{request:s}))]}})})}}},p1e={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},$e=function(e){return{applyToStack:function(n){n.addRelativeTo(m1e(e),p1e)}}};function Jq(e){var n=e.bucketEndpoint,r=n===void 0?!1:n,t=e.forcePathStyle,i=t===void 0?!1:t,a=e.useAccelerateEndpoint,s=a===void 0?!1:a,c=e.useDualstackEndpoint,d=c===void 0?!1:c,o=e.useArnRegion,l=o===void 0?!1:o;return Ur(Ur({},e),{bucketEndpoint:r,forcePathStyle:i,useAccelerateEndpoint:s,useDualstackEndpoint:d,useArnRegion:typeof l=="function"?l:function(){return Promise.resolve(l)}})}var lo=function(){return lo=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},lo.apply(this,arguments)};function Wq(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function Xq(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function v1e(e){var n=this;return function(r){return function(t){return Wq(n,void 0,void 0,function(){var i;return Xq(this,function(a){return i=t.request,ae.isInstance(i)&&i.body&&e.runtime==="node"&&(i.headers=lo(lo({},i.headers),{Expect:"100-continue"})),[2,r(lo(lo({},t),{request:i}))]})})}}}var h1e={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Yq=function(e){return{applyToStack:function(n){n.add(v1e(e),h1e)}}};var uo=function(){return uo=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},uo.apply(this,arguments)};function Qs(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function Zs(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function y1e(){var e=this;return function(n){return function(r){return Qs(e,void 0,void 0,function(){var t,i;return Zs(this,function(a){if(t=r.input.Bucket,typeof t=="string"&&!Dm(t)&&t.indexOf("/")>=0)throw i=new Error("Bucket name shouldn't contain '/', received '"+t+"'"),i.name="InvalidBucketName",i;return[2,n(uo({},r))]})})}}}var g1e={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Qq=function(e){return{applyToStack:function(n){n.add(y1e(),g1e)}}};var w1e=function(e){return function(n){return function(r){return Qs(void 0,void 0,void 0,function(){var t,i;return Zs(this,function(a){switch(a.label){case 0:return t=r.request,!ae.isInstance(t)||e.isCustomEndpoint?[2,n(uo({},r))]:t.hostname!=="s3.amazonaws.com"?[3,1]:(t.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===a.sent()&&(t.hostname="s3.amazonaws.com"),a.label=3;case 3:return[2,n(uo({},r))]}})})}}},b1e={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},Zq=function(e){return{applyToStack:function(n){n.add(w1e(e),b1e)}}};var E1e=function(e){return function(n){return function(r){return Qs(void 0,void 0,void 0,function(){var t,i,a,s,c,d,o;return Zs(this,function(l){switch(l.label){case 0:return[4,n(r)];case 1:return t=l.sent(),i=t.response,Ja.isInstance(i)?(a=i.statusCode,s=i.body,a<200&&a>=300?[2,t]:[4,e6(s,e)]):[2,t];case 2:return c=l.sent(),[4,_1e(c,e)];case 3:if(d=l.sent(),c.length===0)throw o=new Error("S3 aborted request"),o.name="InternalError",o;return d&&d.match("<Error>")&&(i.statusCode=400),i.body=c,[2,t]}})})}}},e6=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},_1e=function(e,n){return e6(e,n).then(function(r){return n.utf8Encoder(r)})},S1e={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},zm=function(e){return{applyToStack:function(n){n.addRelativeTo(E1e(e),S1e)}}};var n6=function(e){J(n,e);function n(r){var t=this,i=u(u({},Dq),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Jq(o),f=Wn(l),m=vm(f);return t=e.call(this,m)||this,t.config=m,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Qq(t.config)),t.middlewareStack.use(Zq(t.config)),t.middlewareStack.use(Yq(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var r6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(r6||(r6={}));var Lm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Lm||(Lm={}));var Bm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Bm||(Bm={}));var t6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(t6||(t6={}));var a6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(a6||(a6={}));var i6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(i6||(i6={}));var o6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(o6||(o6={}));var s6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(s6||(s6={}));var c6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(c6||(c6={}));var d6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(d6||(d6={}));var Um;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X})}})(Um||(Um={}));var l6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(l6||(l6={}));var u6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(u6||(u6={}));var Fm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Fm||(Fm={}));var f6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(f6||(f6={}));var jm;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:X})}})(jm||(jm={}));var qm;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X}),n.SSEKMSKeyId&&{SSEKMSKeyId:X}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:X}),n.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:X})}})(qm||(qm={}));var m6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(m6||(m6={}));var p6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(p6||(p6={}));var v6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(v6||(v6={}));var h6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(h6||(h6={}));var y6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(y6||(y6={}));var g6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(g6||(g6={}));var $m;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:X})}})($m||($m={}));var Hm;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X}),n.SSEKMSKeyId&&{SSEKMSKeyId:X}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:X})}})(Hm||(Hm={}));var w6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(w6||(w6={}));var b6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(b6||(b6={}));var E6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(E6||(E6={}));var _6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_6||(_6={}));var S6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(S6||(S6={}));var x6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(x6||(x6={}));var C6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(C6||(C6={}));var A6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(A6||(A6={}));var T6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(T6||(T6={}));var P6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(P6||(P6={}));var I6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(I6||(I6={}));var N6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(N6||(N6={}));var R6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(R6||(R6={}));var Gm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Gm||(Gm={}));var Vm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Vm||(Vm={}));var O6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(O6||(O6={}));var M6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(M6||(M6={}));var D6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(D6||(D6={}));var k6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(k6||(k6={}));var z6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(z6||(z6={}));var L6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(L6||(L6={}));var B6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(B6||(B6={}));var U6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(U6||(U6={}));var F6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(F6||(F6={}));var j6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(j6||(j6={}));var q6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(q6||(q6={}));var $6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($6||($6={}));var H6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(H6||(H6={}));var ec;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ec||(ec={}));var Eb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Eb||(Eb={}));var _b;(function(e){e.visit=function(n,r){return n.Prefix!==void 0?r.Prefix(n.Prefix):n.Tag!==void 0?r.Tag(n.Tag):n.And!==void 0?r.And(n.And):r._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var r;if(n.Prefix!==void 0)return{Prefix:n.Prefix};if(n.Tag!==void 0)return{Tag:ec.filterSensitiveLog(n.Tag)};if(n.And!==void 0)return{And:Eb.filterSensitiveLog(n.And)};if(n.$unknown!==void 0)return r={},r[n.$unknown[0]]="UNKNOWN",r}})(_b||(_b={}));var G6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(G6||(G6={}));var V6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(V6||(V6={}));var K6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(K6||(K6={}));var J6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(J6||(J6={}));var Qd;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Filter&&{Filter:_b.filterSensitiveLog(n.Filter)})}})(Qd||(Qd={}));var W6;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.AnalyticsConfiguration&&{AnalyticsConfiguration:Qd.filterSensitiveLog(n.AnalyticsConfiguration)})}})(W6||(W6={}));var X6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(X6||(X6={}));var Y6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Y6||(Y6={}));var Q6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Q6||(Q6={}));var Z6;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Z6||(Z6={}));var Sb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.KMSMasterKeyID&&{KMSMasterKeyID:X})}})(Sb||(Sb={}));var xb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Sb.filterSensitiveLog(n.ApplyServerSideEncryptionByDefault)})}})(xb||(xb={}));var Km;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Rules&&{Rules:n.Rules.map(function(r){return xb.filterSensitiveLog(r)})})}})(Km||(Km={}));var e$;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Km.filterSensitiveLog(n.ServerSideEncryptionConfiguration)})}})(e$||(e$={}));var n$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(n$||(n$={}));var r$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(r$||(r$={}));var t$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(t$||(t$={}));var a$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(a$||(a$={}));var i$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(i$||(i$={}));var o$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(o$||(o$={}));var s$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(s$||(s$={}));var Cb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.KeyId&&{KeyId:X})}})(Cb||(Cb={}));var c$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(c$||(c$={}));var Ab;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSEKMS&&{SSEKMS:Cb.filterSensitiveLog(n.SSEKMS)})}})(Ab||(Ab={}));var Tb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Encryption&&{Encryption:Ab.filterSensitiveLog(n.Encryption)})}})(Tb||(Tb={}));var Pb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.S3BucketDestination&&{S3BucketDestination:Tb.filterSensitiveLog(n.S3BucketDestination)})}})(Pb||(Pb={}));var d$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(d$||(d$={}));var l$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(l$||(l$={}));var Zd;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Destination&&{Destination:Pb.filterSensitiveLog(n.Destination)})}})(Zd||(Zd={}));var u$;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.InventoryConfiguration&&{InventoryConfiguration:Zd.filterSensitiveLog(n.InventoryConfiguration)})}})(u$||(u$={}));var f$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(f$||(f$={}));var m$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(m$||(m$={}));var Ib;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Ib||(Ib={}));var Nb;(function(e){e.visit=function(n,r){return n.Prefix!==void 0?r.Prefix(n.Prefix):n.Tag!==void 0?r.Tag(n.Tag):n.And!==void 0?r.And(n.And):r._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var r;if(n.Prefix!==void 0)return{Prefix:n.Prefix};if(n.Tag!==void 0)return{Tag:ec.filterSensitiveLog(n.Tag)};if(n.And!==void 0)return{And:Ib.filterSensitiveLog(n.And)};if(n.$unknown!==void 0)return r={},r[n.$unknown[0]]="UNKNOWN",r}})(Nb||(Nb={}));var p$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(p$||(p$={}));var v$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(v$||(v$={}));var h$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(h$||(h$={}));var Jm;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Filter&&{Filter:Nb.filterSensitiveLog(n.Filter)})}})(Jm||(Jm={}));var y$;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Rules&&{Rules:n.Rules.map(function(r){return Jm.filterSensitiveLog(r)})})}})(y$||(y$={}));var g$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(g$||(g$={}));var w$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(w$||(w$={}));var b$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(b$||(b$={}));var E$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(E$||(E$={}));var _$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_$||(_$={}));var S$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(S$||(S$={}));var x$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(x$||(x$={}));var Rb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Rb||(Rb={}));var Ob;(function(e){e.visit=function(n,r){return n.Prefix!==void 0?r.Prefix(n.Prefix):n.Tag!==void 0?r.Tag(n.Tag):n.And!==void 0?r.And(n.And):r._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var r;if(n.Prefix!==void 0)return{Prefix:n.Prefix};if(n.Tag!==void 0)return{Tag:ec.filterSensitiveLog(n.Tag)};if(n.And!==void 0)return{And:Rb.filterSensitiveLog(n.And)};if(n.$unknown!==void 0)return r={},r[n.$unknown[0]]="UNKNOWN",r}})(Ob||(Ob={}));var el;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Filter&&{Filter:Ob.filterSensitiveLog(n.Filter)})}})(el||(el={}));var C$;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.MetricsConfiguration&&{MetricsConfiguration:el.filterSensitiveLog(n.MetricsConfiguration)})}})(C$||(C$={}));var A$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(A$||(A$={}));var T$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(T$||(T$={}));var P$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(P$||(P$={}));var I$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(I$||(I$={}));var N$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(N$||(N$={}));var R$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(R$||(R$={}));var O$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(O$||(O$={}));var M$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(M$||(M$={}));var D$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(D$||(D$={}));var k$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(k$||(k$={}));var z$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(z$||(z$={}));var L$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(L$||(L$={}));var B$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(B$||(B$={}));var U$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(U$||(U$={}));var F$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(F$||(F$={}));var j$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(j$||(j$={}));var q$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(q$||(q$={}));var $$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($$||($$={}));var H$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(H$||(H$={}));var G$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(G$||(G$={}));var V$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(V$||(V$={}));var K$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(K$||(K$={}));var J$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(J$||(J$={}));var W$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(W$||(W$={}));var X$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(X$||(X$={}));var Mb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Mb||(Mb={}));var Db;(function(e){e.visit=function(n,r){return n.Prefix!==void 0?r.Prefix(n.Prefix):n.Tag!==void 0?r.Tag(n.Tag):n.And!==void 0?r.And(n.And):r._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var r;if(n.Prefix!==void 0)return{Prefix:n.Prefix};if(n.Tag!==void 0)return{Tag:ec.filterSensitiveLog(n.Tag)};if(n.And!==void 0)return{And:Mb.filterSensitiveLog(n.And)};if(n.$unknown!==void 0)return r={},r[n.$unknown[0]]="UNKNOWN",r}})(Db||(Db={}));var Y$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Y$||(Y$={}));var Q$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Q$||(Q$={}));var Z$;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Z$||(Z$={}));var kb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Filter&&{Filter:Db.filterSensitiveLog(n.Filter)})}})(kb||(kb={}));var Wm;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Rules&&{Rules:n.Rules.map(function(r){return kb.filterSensitiveLog(r)})})}})(Wm||(Wm={}));var eH;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.ReplicationConfiguration&&{ReplicationConfiguration:Wm.filterSensitiveLog(n.ReplicationConfiguration)})}})(eH||(eH={}));var nH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nH||(nH={}));var rH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rH||(rH={}));var tH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tH||(tH={}));var aH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aH||(aH={}));var iH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iH||(iH={}));var oH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oH||(oH={}));var sH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sH||(sH={}));var cH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cH||(cH={}));var dH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dH||(dH={}));var lH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lH||(lH={}));var uH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uH||(uH={}));var fH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fH||(fH={}));var mH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(mH||(mH={}));var pH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pH||(pH={}));var vH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vH||(vH={}));var Xm;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X})}})(Xm||(Xm={}));var Ym;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X})}})(Ym||(Ym={}));var hH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hH||(hH={}));var yH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yH||(yH={}));var gH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gH||(gH={}));var wH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wH||(wH={}));var bH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bH||(bH={}));var EH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EH||(EH={}));var _H;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_H||(_H={}));var SH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SH||(SH={}));var xH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xH||(xH={}));var CH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CH||(CH={}));var AH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AH||(AH={}));var TH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TH||(TH={}));var PH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PH||(PH={}));var IH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IH||(IH={}));var NH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NH||(NH={}));var RH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RH||(RH={}));var OH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OH||(OH={}));var MH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MH||(MH={}));var DH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DH||(DH={}));var kH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kH||(kH={}));var zH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zH||(zH={}));var LH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LH||(LH={}));var BH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BH||(BH={}));var UH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UH||(UH={}));var FH;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X})}})(FH||(FH={}));var jH;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X})}})(jH||(jH={}));var qH;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.AnalyticsConfigurationList&&{AnalyticsConfigurationList:n.AnalyticsConfigurationList.map(function(r){return Qd.filterSensitiveLog(r)})})}})(qH||(qH={}));var $H;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($H||($H={}));var HH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HH||(HH={}));var GH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GH||(GH={}));var VH;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.InventoryConfigurationList&&{InventoryConfigurationList:n.InventoryConfigurationList.map(function(r){return Zd.filterSensitiveLog(r)})})}})(VH||(VH={}));var KH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KH||(KH={}));var JH;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.MetricsConfigurationList&&{MetricsConfigurationList:n.MetricsConfigurationList.map(function(r){return el.filterSensitiveLog(r)})})}})(JH||(JH={}));var WH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WH||(WH={}));var XH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XH||(XH={}));var YH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(YH||(YH={}));var QH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QH||(QH={}));var ZH;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZH||(ZH={}));var e8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(e8||(e8={}));var n8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(n8||(n8={}));var r8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(r8||(r8={}));var t8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(t8||(t8={}));var Qm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Qm||(Qm={}));var Zm;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Zm||(Zm={}));var ep;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ep||(ep={}));var np;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(np||(np={}));var a8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(a8||(a8={}));var i8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(i8||(i8={}));var o8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(o8||(o8={}));var s8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(s8||(s8={}));var c8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(c8||(c8={}));var rp;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(rp||(rp={}));var tp;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tp||(tp={}));var d8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(d8||(d8={}));var l8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(l8||(l8={}));var u8;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.AnalyticsConfiguration&&{AnalyticsConfiguration:Qd.filterSensitiveLog(n.AnalyticsConfiguration)})}})(u8||(u8={}));var f8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(f8||(f8={}));var m8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(m8||(m8={}));var p8;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Km.filterSensitiveLog(n.ServerSideEncryptionConfiguration)})}})(p8||(p8={}));var v8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(v8||(v8={}));var h8;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.InventoryConfiguration&&{InventoryConfiguration:Zd.filterSensitiveLog(n.InventoryConfiguration)})}})(h8||(h8={}));var zb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Rules&&{Rules:n.Rules.map(function(r){return Jm.filterSensitiveLog(r)})})}})(zb||(zb={}));var y8;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.LifecycleConfiguration&&{LifecycleConfiguration:zb.filterSensitiveLog(n.LifecycleConfiguration)})}})(y8||(y8={}));var g8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(g8||(g8={}));var w8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(w8||(w8={}));var b8;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.MetricsConfiguration&&{MetricsConfiguration:el.filterSensitiveLog(n.MetricsConfiguration)})}})(b8||(b8={}));var E8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(E8||(E8={}));var _8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_8||(_8={}));var S8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(S8||(S8={}));var x8;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.ReplicationConfiguration&&{ReplicationConfiguration:Wm.filterSensitiveLog(n.ReplicationConfiguration)})}})(x8||(x8={}));var C8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(C8||(C8={}));var A8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(A8||(A8={}));var T8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(T8||(T8={}));var P8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(P8||(P8={}));var I8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(I8||(I8={}));var N8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(N8||(N8={}));var R8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(R8||(R8={}));var O8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(O8||(O8={}));var ap;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:X})}})(ap||(ap={}));var ip;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X}),n.SSEKMSKeyId&&{SSEKMSKeyId:X}),n.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:X})}})(ip||(ip={}));var M8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(M8||(M8={}));var D8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(D8||(D8={}));var k8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(k8||(k8={}));var z8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(z8||(z8={}));var L8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(L8||(L8={}));var B8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(B8||(B8={}));var U8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(U8||(U8={}));var F8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(F8||(F8={}));var j8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(j8||(j8={}));var q8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(q8||(q8={}));var $8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($8||($8={}));var H8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(H8||(H8={}));var G8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(G8||(G8={}));var V8;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(V8||(V8={}));var op;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.KMSKeyId&&{KMSKeyId:X})}})(op||(op={}));function K8(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function J8(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var nl=function(){function e(n,r){r===void 0&&(r=[]),this.name=n,this.children=r,this.attributes={}}return e.prototype.withName=function(n){return this.name=n,this},e.prototype.addAttribute=function(n,r){return this.attributes[n]=r,this},e.prototype.addChildNode=function(n){return this.children.push(n),this},e.prototype.removeAttribute=function(n){return delete this.attributes[n],this},e.prototype.toString=function(){var n,r,t=!!this.children.length,i="<"+this.name,a=this.attributes;try{for(var s=K8(Object.keys(a)),c=s.next();!c.done;c=s.next()){var d=c.value,o=a[d];typeof o<"u"&&o!==null&&(i+=" "+d+'="'+J8(""+o)+'"')}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i+=t?">"+this.children.map(function(l){return l.toString()}).join("")+"</"+this.name+">":"/>"},e}();function W8(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Lb=function(){function e(n){this.value=n}return e.prototype.toString=function(){return W8(""+this.value)},e}();var IG=W(PG()),NG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u({},$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(p){return be(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a=u({"x-id":"AbortMultipartUpload"},e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"DELETE",headers:r,path:t,query:a,body:s})]}})})},RG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:if(r=u(u({"content-type":"application/xml"},$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(v){return be(v)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a=u({},e.UploadId!==void 0&&{uploadId:e.UploadId}),e.MultipartUpload!==void 0&&(c=IEe(e.MultipartUpload,n),s='<?xml version="1.0" encoding="UTF-8"?>',c.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=c.toString()),[4,n.endpoint()];case 1:return d=p.sent(),o=d.hostname,l=d.protocol,f=l===void 0?"https":l,m=d.port,[2,new ae({protocol:f,hostname:o,port:m,method:"POST",headers:r,path:t,query:a,body:s})]}})})},OG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({},$(e.ACL)&&{"x-amz-acl":e.ACL}),$(e.CacheControl)&&{"cache-control":e.CacheControl}),$(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),$(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),$(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),$(e.ContentType)&&{"content-type":e.ContentType}),$(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),$(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),$(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":Za(e.CopySourceIfModifiedSince).toString()}),$(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),$(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":Za(e.CopySourceIfUnmodifiedSince).toString()}),$(e.Expires)&&{expires:Za(e.Expires).toString()}),$(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),$(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),$(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),$(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),$(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),$(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),$(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),$(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),$(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),$(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),$(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),$(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),$(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),$(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),$(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),$(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),$(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),$(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.Tagging)&&{"x-amz-tagging":e.Tagging}),$(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),$(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),$(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),$(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(p,v){var h;return u(u({},p),(h={},h["x-amz-meta-"+v.toLowerCase()]=e.Metadata[v],h))},{})),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(p){return be(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a={"x-id":"CopyObject"},[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"PUT",headers:r,path:t,query:a,body:s})]}})})};var MG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({},$(e.ACL)&&{"x-amz-acl":e.ACL}),$(e.CacheControl)&&{"cache-control":e.CacheControl}),$(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),$(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),$(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),$(e.ContentType)&&{"content-type":e.ContentType}),$(e.Expires)&&{expires:Za(e.Expires).toString()}),$(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),$(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),$(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),$(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),$(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),$(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),$(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),$(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),$(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),$(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),$(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),$(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),$(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.Tagging)&&{"x-amz-tagging":e.Tagging}),$(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),$(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),$(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(p,v){var h;return u(u({},p),(h={},h["x-amz-meta-"+v.toLowerCase()]=e.Metadata[v],h))},{})),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(p){return be(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a={uploads:""},[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"POST",headers:r,path:t,query:a,body:s})]}})})};var DG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u(u(u({},$(e.MFA)&&{"x-amz-mfa":e.MFA}),$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(p){return be(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a=u({"x-id":"DeleteObject"},e.VersionId!==void 0&&{versionId:e.VersionId}),[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"DELETE",headers:r,path:t,query:a,body:s})]}})})};var kG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u(u(u(u(u(u(u(u(u({},$(e.IfMatch)&&{"if-match":e.IfMatch}),$(e.IfModifiedSince)&&{"if-modified-since":Za(e.IfModifiedSince).toString()}),$(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),$(e.IfUnmodifiedSince)&&{"if-unmodified-since":Za(e.IfUnmodifiedSince).toString()}),$(e.Range)&&{range:e.Range}),$(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),$(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),$(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(p){return be(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a=u(u(u(u(u(u(u(u({"x-id":"GetObject"},e.ResponseCacheControl!==void 0&&{"response-cache-control":e.ResponseCacheControl}),e.ResponseContentDisposition!==void 0&&{"response-content-disposition":e.ResponseContentDisposition}),e.ResponseContentEncoding!==void 0&&{"response-content-encoding":e.ResponseContentEncoding}),e.ResponseContentLanguage!==void 0&&{"response-content-language":e.ResponseContentLanguage}),e.ResponseContentType!==void 0&&{"response-content-type":e.ResponseContentType}),e.ResponseExpires!==void 0&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),e.VersionId!==void 0&&{versionId:e.VersionId}),e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"GET",headers:r,path:t,query:a,body:s})]}})})};var zG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u({},$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return a=u(u(u(u(u({},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.Marker!==void 0&&{marker:e.Marker}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"GET",headers:r,path:t,query:a,body:s})]}})})},LG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u({},$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return a=u(u(u(u(u(u(u({"list-type":"2"},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),e.ContinuationToken!==void 0&&{"continuation-token":e.ContinuationToken}),e.FetchOwner!==void 0&&{"fetch-owner":e.FetchOwner.toString()}),e.StartAfter!==void 0&&{"start-after":e.StartAfter}),[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"GET",headers:r,path:t,query:a,body:s})]}})})};var BG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:if(r=u(u({},$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(p){return be(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a=u(u(u({"x-id":"ListParts"},e.MaxParts!==void 0&&{"max-parts":e.MaxParts.toString()}),e.PartNumberMarker!==void 0&&{"part-number-marker":e.PartNumberMarker}),e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,n.endpoint()];case 1:return c=m.sent(),d=c.hostname,o=c.protocol,l=o===void 0?"https":o,f=c.port,[2,new ae({protocol:l,hostname:d,port:f,method:"GET",headers:r,path:t,query:a,body:s})]}})})};var UG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:if(r=u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({"content-type":"application/octet-stream"},$(e.ACL)&&{"x-amz-acl":e.ACL}),$(e.CacheControl)&&{"cache-control":e.CacheControl}),$(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),$(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),$(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),$(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),$(e.ContentMD5)&&{"content-md5":e.ContentMD5}),$(e.ContentType)&&{"content-type":e.ContentType}),$(e.Expires)&&{expires:Za(e.Expires).toString()}),$(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),$(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),$(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),$(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),$(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),$(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),$(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),$(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),$(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),$(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),$(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),$(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),$(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.Tagging)&&{"x-amz-tagging":e.Tagging}),$(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),$(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),$(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(v,h){var y;return u(u({},v),(y={},y["x-amz-meta-"+h.toLowerCase()]=e.Metadata[h],y))},{})),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(v){return be(v)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a={"x-id":"PutObject"},e.Body!==void 0&&(c=e.Body,s=c),[4,n.endpoint()];case 1:return d=p.sent(),o=d.hostname,l=d.protocol,f=l===void 0?"https":l,m=d.port,[2,new ae({protocol:f,hostname:o,port:m,method:"PUT",headers:r,path:t,query:a,body:s})]}})})};var FG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:if(r=u(u(u(u(u(u(u({"content-type":"application/octet-stream"},$(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),$(e.ContentMD5)&&{"content-md5":e.ContentMD5}),$(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),$(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),$(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),$(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),$(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),t="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");t=t.replace("{Bucket}",be(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");t=t.replace("{Key+}",i.split("/").map(function(v){return be(v)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return a=u(u({"x-id":"UploadPart"},e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),e.UploadId!==void 0&&{uploadId:e.UploadId}),e.Body!==void 0&&(c=e.Body,s=c),[4,n.endpoint()];case 1:return d=p.sent(),o=d.hostname,l=d.protocol,f=l===void 0?"https":l,m=d.port,[2,new ae({protocol:f,hostname:o,port:m,method:"PUT",headers:r,path:t,query:a,body:s})]}})})};var jG=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,pEe(e,n)]:(r={$metadata:ge(e),RequestCharged:void 0},e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,il(e.body,n)]);case 1:return t.sent(),[2,Promise.resolve(r)]}})})},pEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return t=[u({},e)],l={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(l.body=f.sent(),l)])),a="UnknownError",a=xt(e,r.body),s=a,s){case"NoSuchUpload":return[3,2];case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return c=[{}],[4,TEe(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),{name:a,$metadata:ge(e)}]),[3,5];case 4:d=r.body,a=d.code||d.Code||a,i=u(u({},d),{name:""+a,message:d.message||d.Message||a,$fault:"client",$metadata:ge(e)}),f.label=5;case 5:return o=i.message||i.Message||a,i.message=o,delete i.Message,[2,Promise.reject(Object.assign(new Error(o),i))]}})})},qG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,vEe(e,n)]:(r={$metadata:ge(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,An(e.body,n)]);case 1:return t=i.sent(),t.Bucket!==void 0&&(r.Bucket=t.Bucket),t.ETag!==void 0&&(r.ETag=t.ETag),t.Key!==void 0&&(r.Key=t.Key),t.Location!==void 0&&(r.Location=t.Location),[2,Promise.resolve(r)]}})})},vEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return t=[u({},e)],d={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(d.body=o.sent(),d)])),a="UnknownError",a=xt(e,r.body),a){default:s=r.body,a=s.code||s.Code||a,i=u(u({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:ge(e)})}return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})},$G=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,hEe(e,n)]:(r={$metadata:ge(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-copy-source-version-id"]!==void 0&&(r.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,An(e.body,n)]);case 1:return t=i.sent(),r.CopyObjectResult=MEe(t,n),[2,Promise.resolve(r)]}})})},hEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return t=[u({},e)],l={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(l.body=f.sent(),l)])),a="UnknownError",a=xt(e,r.body),s=a,s){case"ObjectNotInActiveTierError":return[3,2];case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return c=[{}],[4,PEe(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),{name:a,$metadata:ge(e)}]),[3,5];case 4:d=r.body,a=d.code||d.Code||a,i=u(u({},d),{name:""+a,message:d.message||d.Message||a,$fault:"client",$metadata:ge(e)}),f.label=5;case 5:return o=i.message||i.Message||a,i.message=o,delete i.Message,[2,Promise.reject(Object.assign(new Error(o),i))]}})})};var HG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,yEe(e,n)]:(r={$metadata:ge(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,An(e.body,n)]);case 1:return t=i.sent(),t.Bucket!==void 0&&(r.Bucket=t.Bucket),t.Key!==void 0&&(r.Key=t.Key),t.UploadId!==void 0&&(r.UploadId=t.UploadId),[2,Promise.resolve(r)]}})})},yEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return t=[u({},e)],d={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(d.body=o.sent(),d)])),a="UnknownError",a=xt(e,r.body),a){default:s=r.body,a=s.code||s.Code||a,i=u(u({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:ge(e)})}return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})};var GG=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,gEe(e,n)]:(r={$metadata:ge(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,il(e.body,n)]);case 1:return t.sent(),[2,Promise.resolve(r)]}})})},gEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return t=[u({},e)],d={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(d.body=o.sent(),d)])),a="UnknownError",a=xt(e,r.body),a){default:s=r.body,a=s.code||s.Code||a,i=u(u({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:ge(e)})}return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})};var VG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return e.statusCode!==200&&e.statusCode>=300?[2,wEe(e,n)]:(r={$metadata:ge(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["accept-ranges"]!==void 0&&(r.AcceptRanges=e.headers["accept-ranges"]),e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-restore"]!==void 0&&(r.Restore=e.headers["x-amz-restore"]),e.headers["last-modified"]!==void 0&&(r.LastModified=new Date(e.headers["last-modified"])),e.headers["content-length"]!==void 0&&(r.ContentLength=parseInt(e.headers["content-length"],10)),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-missing-meta"]!==void 0&&(r.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["cache-control"]!==void 0&&(r.CacheControl=e.headers["cache-control"]),e.headers["content-disposition"]!==void 0&&(r.ContentDisposition=e.headers["content-disposition"]),e.headers["content-encoding"]!==void 0&&(r.ContentEncoding=e.headers["content-encoding"]),e.headers["content-language"]!==void 0&&(r.ContentLanguage=e.headers["content-language"]),e.headers["content-range"]!==void 0&&(r.ContentRange=e.headers["content-range"]),e.headers["content-type"]!==void 0&&(r.ContentType=e.headers["content-type"]),e.headers.expires!==void 0&&(r.Expires=new Date(e.headers.expires)),e.headers["x-amz-website-redirect-location"]!==void 0&&(r.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-storage-class"]!==void 0&&(r.StorageClass=e.headers["x-amz-storage-class"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),e.headers["x-amz-replication-status"]!==void 0&&(r.ReplicationStatus=e.headers["x-amz-replication-status"]),e.headers["x-amz-mp-parts-count"]!==void 0&&(r.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),e.headers["x-amz-tagging-count"]!==void 0&&(r.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),e.headers["x-amz-object-lock-mode"]!==void 0&&(r.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),e.headers["x-amz-object-lock-retain-until-date"]!==void 0&&(r.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),e.headers["x-amz-object-lock-legal-hold"]!==void 0&&(r.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach(function(a){r.Metadata===void 0&&(r.Metadata={}),a.startsWith("x-amz-meta-")&&(r.Metadata[a.substring(11)]=e.headers[a])}),t=e.body,r.Body=t,[2,Promise.resolve(r)])})})},wEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:return t=[u({},e)],f={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(f.body=m.sent(),f)])),a="UnknownError",a=xt(e,r.body),s=a,s){case"InvalidObjectState":return[3,2];case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":return[3,4];case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return c=[{}],[4,CEe(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([m.sent()])),{name:a,$metadata:ge(e)}]),[3,7];case 4:return d=[{}],[4,AEe(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([m.sent()])),{name:a,$metadata:ge(e)}]),[3,7];case 6:o=r.body,a=o.code||o.Code||a,i=u(u({},o),{name:""+a,message:o.message||o.Message||a,$fault:"client",$metadata:ge(e)}),m.label=7;case 7:return l=i.message||i.Message||a,i.message=l,delete i.Message,[2,Promise.reject(Object.assign(new Error(l),i))]}})})};var KG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,bEe(e,n)]:(r={$metadata:ge(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,An(e.body,n)]);case 1:return t=i.sent(),t.CommonPrefixes===""&&(r.CommonPrefixes=[]),t.CommonPrefixes!==void 0&&(r.CommonPrefixes=ZG(hs(t.CommonPrefixes),n)),t.Contents===""&&(r.Contents=[]),t.Contents!==void 0&&(r.Contents=e7(hs(t.Contents),n)),t.Delimiter!==void 0&&(r.Delimiter=t.Delimiter),t.EncodingType!==void 0&&(r.EncodingType=t.EncodingType),t.IsTruncated!==void 0&&(r.IsTruncated=t.IsTruncated=="true"),t.Marker!==void 0&&(r.Marker=t.Marker),t.MaxKeys!==void 0&&(r.MaxKeys=parseInt(t.MaxKeys)),t.Name!==void 0&&(r.Name=t.Name),t.NextMarker!==void 0&&(r.NextMarker=t.NextMarker),t.Prefix!==void 0&&(r.Prefix=t.Prefix),[2,Promise.resolve(r)]}})})},bEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return t=[u({},e)],l={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(l.body=f.sent(),l)])),a="UnknownError",a=xt(e,r.body),s=a,s){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return c=[{}],[4,QG(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),{name:a,$metadata:ge(e)}]),[3,5];case 4:d=r.body,a=d.code||d.Code||a,i=u(u({},d),{name:""+a,message:d.message||d.Message||a,$fault:"client",$metadata:ge(e)}),f.label=5;case 5:return o=i.message||i.Message||a,i.message=o,delete i.Message,[2,Promise.reject(Object.assign(new Error(o),i))]}})})},JG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,EEe(e,n)]:(r={$metadata:ge(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,An(e.body,n)]);case 1:return t=i.sent(),t.CommonPrefixes===""&&(r.CommonPrefixes=[]),t.CommonPrefixes!==void 0&&(r.CommonPrefixes=ZG(hs(t.CommonPrefixes),n)),t.Contents===""&&(r.Contents=[]),t.Contents!==void 0&&(r.Contents=e7(hs(t.Contents),n)),t.ContinuationToken!==void 0&&(r.ContinuationToken=t.ContinuationToken),t.Delimiter!==void 0&&(r.Delimiter=t.Delimiter),t.EncodingType!==void 0&&(r.EncodingType=t.EncodingType),t.IsTruncated!==void 0&&(r.IsTruncated=t.IsTruncated=="true"),t.KeyCount!==void 0&&(r.KeyCount=parseInt(t.KeyCount)),t.MaxKeys!==void 0&&(r.MaxKeys=parseInt(t.MaxKeys)),t.Name!==void 0&&(r.Name=t.Name),t.NextContinuationToken!==void 0&&(r.NextContinuationToken=t.NextContinuationToken),t.Prefix!==void 0&&(r.Prefix=t.Prefix),t.StartAfter!==void 0&&(r.StartAfter=t.StartAfter),[2,Promise.resolve(r)]}})})},EEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return t=[u({},e)],l={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(l.body=f.sent(),l)])),a="UnknownError",a=xt(e,r.body),s=a,s){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return c=[{}],[4,QG(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([f.sent()])),{name:a,$metadata:ge(e)}]),[3,5];case 4:d=r.body,a=d.code||d.Code||a,i=u(u({},d),{name:""+a,message:d.message||d.Message||a,$fault:"client",$metadata:ge(e)}),f.label=5;case 5:return o=i.message||i.Message||a,i.message=o,delete i.Message,[2,Promise.reject(Object.assign(new Error(o),i))]}})})};var WG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,_Ee(e,n)]:(r={$metadata:ge(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,An(e.body,n)]);case 1:return t=i.sent(),t.Bucket!==void 0&&(r.Bucket=t.Bucket),t.Initiator!==void 0&&(r.Initiator=DEe(t.Initiator,n)),t.IsTruncated!==void 0&&(r.IsTruncated=t.IsTruncated=="true"),t.Key!==void 0&&(r.Key=t.Key),t.MaxParts!==void 0&&(r.MaxParts=parseInt(t.MaxParts)),t.NextPartNumberMarker!==void 0&&(r.NextPartNumberMarker=t.NextPartNumberMarker),t.Owner!==void 0&&(r.Owner=n7(t.Owner,n)),t.PartNumberMarker!==void 0&&(r.PartNumberMarker=t.PartNumberMarker),t.Part===""&&(r.Parts=[]),t.Part!==void 0&&(r.Parts=LEe(hs(t.Part),n)),t.StorageClass!==void 0&&(r.StorageClass=t.StorageClass),t.UploadId!==void 0&&(r.UploadId=t.UploadId),[2,Promise.resolve(r)]}})})},_Ee=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return t=[u({},e)],d={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(d.body=o.sent(),d)])),a="UnknownError",a=xt(e,r.body),a){default:s=r.body,a=s.code||s.Code||a,i=u(u({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:ge(e)})}return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})};var XG=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,SEe(e,n)]:(r={$metadata:ge(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,il(e.body,n)]);case 1:return t.sent(),[2,Promise.resolve(r)]}})})},SEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return t=[u({},e)],d={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(d.body=o.sent(),d)])),a="UnknownError",a=xt(e,r.body),a){default:s=r.body,a=s.code||s.Code||a,i=u(u({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:ge(e)})}return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})};var YG=function(e,n){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,xEe(e,n)]:(r={$metadata:ge(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,il(e.body,n)]);case 1:return t.sent(),[2,Promise.resolve(r)]}})})},xEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return t=[u({},e)],d={},[4,An(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(d.body=o.sent(),d)])),a="UnknownError",a=xt(e,r.body),a){default:s=r.body,a=s.code||s.Code||a,i=u(u({},s),{name:""+a,message:s.message||s.Message||a,$fault:"client",$metadata:ge(e)})}return c=i.message||i.Message||a,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}})})};var CEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"InvalidObjectState",$fault:"client",$metadata:ge(e),AccessTier:void 0,StorageClass:void 0},t=e.body,t.AccessTier!==void 0&&(r.AccessTier=t.AccessTier),t.StorageClass!==void 0&&(r.StorageClass=t.StorageClass),[2,r]})})},QG=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"NoSuchBucket",$fault:"client",$metadata:ge(e)},t=e.body,[2,r]})})},AEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"NoSuchKey",$fault:"client",$metadata:ge(e)},t=e.body,[2,r]})})},TEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"NoSuchUpload",$fault:"client",$metadata:ge(e)},t=e.body,[2,r]})})};var PEe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:ge(e)},t=e.body,[2,r]})})};var IEe=function(e,n){var r=new nl("CompletedMultipartUpload");if(e.Parts!==void 0&&e.Parts!==null){var t=REe(e.Parts,n);t.map(function(i){i=i.withName("Part"),r.addChildNode(i)})}return r},NEe=function(e,n){var r=new nl("CompletedPart");if(e.ETag!==void 0&&e.ETag!==null){var t=new nl("ETag").addChildNode(new Lb(e.ETag)).withName("ETag");r.addChildNode(t)}if(e.PartNumber!==void 0&&e.PartNumber!==null){var t=new nl("PartNumber").addChildNode(new Lb(String(e.PartNumber))).withName("PartNumber");r.addChildNode(t)}return r},REe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){if(r===null)return null;var t=NEe(r,n);return t.withName("member")})};var OEe=function(e,n){var r={Prefix:void 0};return e.Prefix!==void 0&&(r.Prefix=e.Prefix),r},ZG=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:OEe(r,n)})};var MEe=function(e,n){var r={ETag:void 0,LastModified:void 0};return e.ETag!==void 0&&(r.ETag=e.ETag),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),r};var DEe=function(e,n){var r={ID:void 0,DisplayName:void 0};return e.ID!==void 0&&(r.ID=e.ID),e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),r};var kEe=function(e,n){var r={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return e.Key!==void 0&&(r.Key=e.Key),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=e.StorageClass),e.Owner!==void 0&&(r.Owner=n7(e.Owner,n)),r},e7=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:kEe(r,n)})};var n7=function(e,n){var r={DisplayName:void 0,ID:void 0};return e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),e.ID!==void 0&&(r.ID=e.ID),r};var zEe=function(e,n){var r={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return e.PartNumber!==void 0&&(r.PartNumber=parseInt(e.PartNumber)),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),r},LEe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:zEe(r,n)})};var ge=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},il=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},BEe=function(e,n){return il(e,n).then(function(r){return n.utf8Encoder(r)})},$=function(e){return e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0)},UEe=function(e){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")},An=function(e,n){return BEe(e,n).then(function(r){if(r.length){var t=(0,IG.parse)(r,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(c,d){return UEe(c)}}),i="#text",a=Object.keys(t)[0],s=t[a];return s[i]&&(s[a]=s[i],delete s[i]),s0(s)}return{}})},xt=function(e,n){return n.Code!==void 0?n.Code:e.statusCode==404?"NotFound":""};var mp=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="AbortMultipartUploadCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Bm.filterSensitiveLog,outputFilterSensitiveLog:Lm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return NG(r,t)},n.prototype.deserialize=function(r,t){return jG(r,t)},n}(ee);var pp=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use(zm(t)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="CompleteMultipartUploadCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Fm.filterSensitiveLog,outputFilterSensitiveLog:Um.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return RG(r,t)},n.prototype.deserialize=function(r,t){return qG(r,t)},n}(ee);var li=function(){return li=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},li.apply(this,arguments)};function r7(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function t7(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function a7(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function FEe(e){var n=this;return function(r){return function(t){return r7(n,void 0,void 0,function(){var i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E;return t7(this,function(S){switch(S.label){case 0:i=li({},t.input),a=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],S.label=1;case 1:S.trys.push([1,6,7,8]),s=a7(a),c=s.next(),S.label=2;case 2:return c.done?[3,5]:(d=c.value,o=i[d.target],o?(l=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):typeof o=="string"?e.utf8Decoder(o):new Uint8Array(o),f=e.base64Encoder(l),m=new e.md5,m.update(l),p=[li({},i)],E={},E[d.target]=f,v=d.hash,y=(h=e).base64Encoder,[4,m.digest()]):[3,4]);case 3:i=li.apply(void 0,p.concat([(E[v]=y.apply(h,[S.sent()]),E)])),S.label=4;case 4:return c=s.next(),[3,2];case 5:return[3,8];case 6:return g=S.sent(),w={error:g},[3,8];case 7:try{c&&!c.done&&(b=s.return)&&b.call(s)}finally{if(w)throw w.error}return[7];case 8:return[2,r(li(li({},t),{input:i}))]}})})}}}var jEe={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Yt=function(e){return{applyToStack:function(n){n.add(FEe(e),jEe)}}};var i7=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use(zm(t)),this.middlewareStack.use(Yt(t)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="CopyObjectCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:qm.filterSensitiveLog,outputFilterSensitiveLog:jm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return OG(r,t)},n.prototype.deserialize=function(r,t){return $G(r,t)},n}(ee);var vp=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use(Yt(t)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="CreateMultipartUploadCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Hm.filterSensitiveLog,outputFilterSensitiveLog:$m.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return MG(r,t)},n.prototype.deserialize=function(r,t){return HG(r,t)},n}(ee);var o7=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="DeleteObjectCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Vm.filterSensitiveLog,outputFilterSensitiveLog:Gm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return DG(r,t)},n.prototype.deserialize=function(r,t){return GG(r,t)},n}(ee);var $b=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use(Yt(t)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="GetObjectCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Ym.filterSensitiveLog,outputFilterSensitiveLog:Xm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return kG(r,t)},n.prototype.deserialize=function(r,t){return VG(r,t)},n}(ee);var s7=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="ListObjectsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:Zm.filterSensitiveLog,outputFilterSensitiveLog:Qm.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return zG(r,t)},n.prototype.deserialize=function(r,t){return KG(r,t)},n}(ee);var c7=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="ListObjectsV2Command",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:np.filterSensitiveLog,outputFilterSensitiveLog:ep.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return LG(r,t)},n.prototype.deserialize=function(r,t){return JG(r,t)},n}(ee);var hp=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="ListPartsCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:tp.filterSensitiveLog,outputFilterSensitiveLog:rp.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return BG(r,t)},n.prototype.deserialize=function(r,t){return WG(r,t)},n}(ee);var d7=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use(Yt(t)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="PutObjectCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:ip.filterSensitiveLog,outputFilterSensitiveLog:ap.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return UG(r,t)},n.prototype.deserialize=function(r,t){return XG(r,t)},n}(ee);var l7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(l7||(l7={}));var Hb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Encryption&&{Encryption:op.filterSensitiveLog(n.Encryption)})}})(Hb||(Hb={}));var Gb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.S3&&{S3:Hb.filterSensitiveLog(n.S3)})}})(Gb||(Gb={}));var u7;(function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"})(u7||(u7={}));var f7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(f7||(f7={}));var m7;(function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"})(m7||(m7={}));var p7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(p7||(p7={}));var v7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(v7||(v7={}));var h7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(h7||(h7={}));var y7;(function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"})(y7||(y7={}));var g7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(g7||(g7={}));var w7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(w7||(w7={}));var b7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(b7||(b7={}));var E7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(E7||(E7={}));var _7;(function(e){e.SELECT="SELECT"})(_7||(_7={}));var Vb;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.OutputLocation&&{OutputLocation:Gb.filterSensitiveLog(n.OutputLocation)})}})(Vb||(Vb={}));var S7;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.RestoreRequest&&{RestoreRequest:Vb.filterSensitiveLog(n.RestoreRequest)})}})(S7||(S7={}));var Kb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Kb||(Kb={}));var Jb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Jb||(Jb={}));var x7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(x7||(x7={}));var Wb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Wb||(Wb={}));var Xb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Xb||(Xb={}));var C7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(C7||(C7={}));var Yb;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(Yb||(Yb={}));var A7;(function(e){e.visit=function(n,r){return n.Records!==void 0?r.Records(n.Records):n.Stats!==void 0?r.Stats(n.Stats):n.Progress!==void 0?r.Progress(n.Progress):n.Cont!==void 0?r.Cont(n.Cont):n.End!==void 0?r.End(n.End):r._(n.$unknown[0],n.$unknown[1])},e.filterSensitiveLog=function(n){var r;if(n.Records!==void 0)return{Records:Xb.filterSensitiveLog(n.Records)};if(n.Stats!==void 0)return{Stats:Yb.filterSensitiveLog(n.Stats)};if(n.Progress!==void 0)return{Progress:Wb.filterSensitiveLog(n.Progress)};if(n.Cont!==void 0)return{Cont:Kb.filterSensitiveLog(n.Cont)};if(n.End!==void 0)return{End:Jb.filterSensitiveLog(n.End)};if(n.$unknown!==void 0)return r={},r[n.$unknown[0]]="UNKNOWN",r}})(A7||(A7={}));var T7;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Payload&&{Payload:"STREAMING_CONTENT"})}})(T7||(T7={}));var P7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(P7||(P7={}));var I7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(I7||(I7={}));var N7;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X})}})(N7||(N7={}));var yp;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X})}})(yp||(yp={}));var gp;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X})}})(gp||(gp={}));var R7;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(R7||(R7={}));var O7;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.SSEKMSKeyId&&{SSEKMSKeyId:X})}})(O7||(O7={}));var M7;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.SSECustomerKey&&{SSECustomerKey:X}),n.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:X})}})(M7||(M7={}));var wp=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize)),this.middlewareStack.use(Yt(t)),this.middlewareStack.use($e(t));var a=r.concat(this.middlewareStack),s=t.logger,c="S3Client",d="UploadPartCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:gp.filterSensitiveLog,outputFilterSensitiveLog:yp.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return FG(r,t)},n.prototype.deserialize=function(r,t){return YG(r,t)},n}(ee);function Qb(e){var n=e.port,r=e.query,t=e.protocol,i=e.path,a=e.hostname;t&&t.substr(-1)!==":"&&(t+=":"),n&&(a+=":"+n),i&&i.charAt(0)!=="/"&&(i="/"+i);var s=r?ls(r):"";return s&&s[0]!=="?"&&(s="?"+s),t+"//"+a+i+s}function Zb(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function e1(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function D7(e,n){return Zb(this,void 0,void 0,function(){var r,t,i,a=this;return e1(this,function(s){switch(s.label){case 0:return r=function(c){return function(d){return Zb(a,void 0,void 0,function(){return e1(this,function(o){return[2,{output:{request:d.request},response:void 0}]})})}},t=e.middlewareStack.clone(),t.add(r,{step:"build",priority:"low"}),i=n.resolveMiddleware(t,e.config,void 0),[4,i(n).then(function(c){return c.output.request})];case 1:return[2,s.sent()]}})})}var ol=function(){return ol=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},ol.apply(this,arguments)};function k7(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}function z7(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})}function L7(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var B7="UNSIGNED-PAYLOAD",U7="X-Amz-Content-Sha256";var n1=function(){function e(n){var r=ol({service:n.signingName||n.service||"s3",uriEscapePath:n.uriEscapePath||!1},n);this.signer=new Yu(r)}return e.prototype.presign=function(n,r){r===void 0&&(r={});var t=r.unsignableHeaders,i=t===void 0?new Set:t,a=r.unhoistableHeaders,s=a===void 0?new Set:a,c=k7(r,["unsignableHeaders","unhoistableHeaders"]);return z7(this,void 0,void 0,function(){return L7(this,function(d){return i.add("content-type"),Object.keys(n.headers).map(function(o){return o.toLowerCase()}).filter(function(o){return o.startsWith("x-amz-server-side-encryption")}).forEach(function(o){s.add(o)}),n.headers[U7]=B7,n.headers.host||(n.headers.host=n.hostname),[2,this.signer.presign(n,ol({expiresIn:900,unsignableHeaders:i,unhoistableHeaders:s},c))]})})},e}();var Np=W(Ip());var Qt;(function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"})(Qt||(Qt={}));var KV;(function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"})(KV||(KV={}));var vo;(function(e){e.UPLOAD_PAUSED_MESSAGE="paused"})(vo||(vo={}));var M_e=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},D_e=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},E1=new q("axios-http-handler"),ho="sendUploadProgress",tc="sendDownloadProgress";function k_e(e){return typeof Blob<"u"&&e instanceof Blob}var JV=function(e,n){var r,t;try{for(var i=M_e(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=D_e(a.value,2),c=s[0],d=s[1];c!==n&&c.toUpperCase()===n.toUpperCase()&&(e[n]=d,delete e[c])}}catch(o){r={error:o}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}},z_e=[function(e,n){return k_e(e)?(JV(n,"Content-Type"),JV(n,"Accept"),e):Np.default.defaults.transformRequest[0].call(null,e,n)}],WV=function(){function e(n,r,t){n===void 0&&(n={}),this.httpOptions=n,this.emitter=r,this.cancelTokenSource=t}return e.prototype.destroy=function(){},e.prototype.handle=function(n,r){var t=this.httpOptions.requestTimeout,i=r.emitter||this.emitter,a=n.path;if(n.query){var s=ls(n.query);s&&(a+="?"+s)}var c=n.port,d=n.protocol+"//"+n.hostname+(c?":"+c:"")+a,o={};o.url=d,o.method=n.method,o.headers=n.headers,delete o.headers.host,n.body?o.data=n.body:o.headers[Object.keys(o.headers).find(function(f){return f.toLowerCase()==="content-type"})]&&(o.data=null),i&&(o.onUploadProgress=function(f){i.emit(ho,f),E1.debug(f)},o.onDownloadProgress=function(f){i.emit(tc,f),E1.debug(f)}),this.cancelTokenSource&&(o.cancelToken=this.cancelTokenSource.token),r.cancelTokenSource&&(o.cancelToken=r.cancelTokenSource.token),o.responseType="blob",cr.isReactNative&&(o.transformRequest=z_e);var l=[Np.default.request(o).then(function(f){return{response:new Ja({headers:f.headers,statusCode:f.status,body:f.data})}}).catch(function(f){var m,p,v;if(f.message!==vo.UPLOAD_PAUSED_MESSAGE&&E1.error(f.message),Np.default.isCancel(f))throw f;return{response:new Ja({statusCode:(m=f.response)===null||m===void 0?void 0:m.status,body:(p=f.response)===null||p===void 0?void 0:p.data,headers:(v=f.response)===null||v===void 0?void 0:v.headers})}}),L_e(t)];return Promise.race(l)},e}();function L_e(e){return e===void 0&&(e=0),new Promise(function(n,r){e&&setTimeout(function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",r(t)},e)})}var XV=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Rp="contentLengthMiddleware",YV="http://localhost:20005",yo="__uploadInProgress";var QV=function(e){if(typeof e=="string")return e.length;if(U_e(e))return e.byteLength;if(B_e(e))return e.size;throw new Error("Cannot determine byte length of "+e)},Sr=function(e,n,r,t,i){if(e){var a={attrs:r};t&&(a.metrics=t),ye.dispatch("storage",{event:n,data:a,message:i},"Storage",XV)}},ZV=function(e){return typeof e<"u"&&e instanceof File},B_e=function(e){return typeof e<"u"&&e instanceof Blob},U_e=function(e){return typeof e<"u"&&e instanceof ArrayBuffer};var ac=function(){return ac=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ac.apply(this,arguments)},_1=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},S1=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},eK=new q("S3ClientUtils"),nK={accessKeyId:"",secretAccessKey:""},x1=function(e){var n=e.credentials,r=e.level,t=e.customPrefix,i=e.identityId,a=t||{},s=i||n.identityId,c=(a.private!==void 0?a.private:"private/")+s+"/",d=(a.protected!==void 0?a.protected:"protected/")+s+"/",o=a.public!==void 0?a.public:"public/";switch(r){case"private":return c;case"protected":return d;default:return o}},Op=function(e,n){return function(r,t){return function(i){return _1(void 0,void 0,void 0,function(){var a,s,c,d,o;return S1(this,function(l){switch(l.label){case 0:return[4,ie.get()];case 1:return a=l.sent(),s=ie.shear(a),c=x1(ac(ac({},e),{credentials:s})),d=Object.assign({},i.input),Object.prototype.hasOwnProperty.call(i.input,"Key")?(d.Key=c+n,i.input=d):Object.prototype.hasOwnProperty.call(i.input,"Prefix")&&(d.Prefix=c+n,i.input=d),o=r(i),[2,o]}})})}}},F_e=function(e){return e.ServerTime&&typeof e.Code=="string"&&e.Code==="RequestTimeTooSkewed"},Mp=function(e){return function(n,r){return function(t){return _1(void 0,void 0,void 0,function(){var i,a;return S1(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,n(t)];case 1:return[2,s.sent()];case 2:throw i=s.sent(),F_e(i)&&(a=new Date(i.ServerTime),e.systemClockOffset=a.getTime()-Date.now()),i;case 3:return[2]}})})}}},Dp={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},kp={step:"initialize",name:"addPrefixMiddleware"},j_e=function(){return _1(void 0,void 0,void 0,function(){var e,n,r;return S1(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ie.get()];case 1:return e=t.sent(),e?(n=ie.shear(e),eK.debug("credentials provider get credentials",n),[2,n]):[2,nK];case 2:return r=t.sent(),eK.warn("credentials provider error",r),[2,nK];case 3:return[2]}})})},zp=function(e,n){var r=e.region,t=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,a=e.useAccelerateEndpoint,s={};i&&(s={endpoint:YV,tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var c=new n6(ac(ac({region:r,credentials:j_e,customUserAgent:Ye()},s),{requestHandler:new WV({},n,t),useAccelerateEndpoint:a}));return c.middlewareStack.remove(Rp),c};var fK=W(A1());var cl=function(){return cl=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},cl.apply(this,arguments)},ui=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},fi=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},T1=new q("AWSS3ProviderManagedUpload"),mK=function(){function e(n,r,t){this.minPartSize=5*1024*1024,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=n,this.opts=r,this.emitter=t,this.s3client=this._createNewS3Client(r,t)}return e.prototype.upload=function(){return ui(this,void 0,void 0,function(){var n,r,t,i,a,s,c=this;return fi(this,function(d){switch(d.label){case 0:return n=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return n.body=d.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,r=new d7(this.params),[2,this.s3client.send(r)]):[3,2];case 2:return[4,this.createMultiPartUpload()];case 3:t=d.sent(),i=Math.ceil(this.totalBytesToUpload/this.minPartSize),a=this.createParts(),s=0,d.label=4;case 4:return s<i?[4,this.checkIfUploadCancelled(t)]:[3,9];case 5:return d.sent(),[4,this.uploadParts(t,a.slice(s,s+this.queueSize))];case 6:return d.sent(),[4,this.checkIfUploadCancelled(t)];case 7:d.sent(),d.label=8;case 8:return s+=this.queueSize,[3,4];case 9:return a.map(function(o){c.removeEventListener(o)}),[4,this.finishMultiPartUpload(t)];case 10:return[2,d.sent()]}})})},e.prototype.createParts=function(){for(var n=[],r=0;r<this.totalBytesToUpload;){var t=Math.min(r+this.minPartSize,this.totalBytesToUpload);n.push({bodyPart:this.body.slice(r,t),partNumber:n.length+1,emitter:new fK.EventEmitter,_lastUploadedBytes:0}),r+=this.minPartSize}return n},e.prototype.createMultiPartUpload=function(){return ui(this,void 0,void 0,function(){var n,r;return fi(this,function(t){switch(t.label){case 0:return n=new vp(this.params),[4,this.s3client.send(n)];case 1:return r=t.sent(),T1.debug(r.UploadId),[2,r.UploadId]}})})},e.prototype.uploadParts=function(n,r){return ui(this,void 0,void 0,function(){var t,i,a,s=this;return fi(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Promise.all(r.map(function(d){return ui(s,void 0,void 0,function(){var o,l,f,m,p,v,h,y;return fi(this,function(g){switch(g.label){case 0:return this.setupEventListener(d),o={emitter:d.emitter},l=this.params,f=l.Key,m=l.Bucket,p=l.SSECustomerAlgorithm,v=l.SSECustomerKey,h=l.SSECustomerKeyMD5,[4,this.s3client.send(new wp(cl(cl(cl({PartNumber:d.partNumber,Body:d.bodyPart,UploadId:n,Key:f,Bucket:m},p&&{SSECustomerAlgorithm:p}),v&&{SSECustomerKey:v}),h&&{SSECustomerKeyMD5:h})),o)];case 1:return y=g.sent(),[2,y]}})})}))];case 1:for(t=c.sent(),i=0;i<t.length;i++)this.completedParts.push({PartNumber:r[i].partNumber,ETag:t[i].ETag});return[3,3];case 2:return a=c.sent(),T1.error("error happened while uploading a part. Cancelling the multipart upload",a),this.cancelUpload(),[2];case 3:return[2]}})})},e.prototype.finishMultiPartUpload=function(n){return ui(this,void 0,void 0,function(){var r,t,i,a;return fi(this,function(s){switch(s.label){case 0:r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:n,MultipartUpload:{Parts:this.completedParts}},t=new pp(r),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.s3client.send(t)];case 2:return i=s.sent(),[2,i.Key];case 3:return a=s.sent(),T1.error("error happened while finishing the upload. Cancelling the multipart upload",a),this.cancelUpload(),[2];case 4:return[2]}})})},e.prototype.checkIfUploadCancelled=function(n){return ui(this,void 0,void 0,function(){var r,t;return fi(this,function(i){switch(i.label){case 0:if(!this.cancel)return[3,5];r="Upload was cancelled.",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.cleanup(n)];case 2:return i.sent(),[3,4];case 3:return t=i.sent(),r+=" "+t.message,[3,4];case 4:throw new Error(r);case 5:return[2]}})})},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(n){return ui(this,void 0,void 0,function(){var r,t;return fi(this,function(i){switch(i.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:n},[4,this.s3client.send(new mp(r))];case 1:return i.sent(),[4,this.s3client.send(new hp(r))];case 2:if(t=i.sent(),t&&t.Parts&&t.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}})})},e.prototype.removeEventListener=function(n){n.emitter.removeAllListeners(ho),n.emitter.removeAllListeners(tc)},e.prototype.setupEventListener=function(n){var r=this;n.emitter.on(ho,function(t){r.progressChanged(n.partNumber,t.loaded-n._lastUploadedBytes),n._lastUploadedBytes=t.loaded})},e.prototype.progressChanged=function(n,r){this.bytesUploaded+=r,this.emitter.emit(ho,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:n,key:this.params.Key})},e.prototype.byteLength=function(n){if(n==null)return 0;if(typeof n.byteLength=="number")return n.byteLength;if(typeof n.length=="number")return n.length;if(typeof n.size=="number")return n.size;if(typeof n.path!="string")throw new Error("Cannot determine length of "+n)},e.prototype.validateAndSanitizeBody=function(n){return ui(this,void 0,void 0,function(){return fi(this,function(r){return this.isGenericObject(n)?[2,JSON.stringify(n)]:[2,n]})})},e.prototype.isGenericObject=function(n){if(n!==null&&typeof n=="object")try{return!(this.byteLength(n)>=0)}catch{return!0}return!1},e.prototype._createNewS3Client=function(n,r){var t=zp(n,r);return t.middlewareStack.add(Op(this.opts,this.params.Key),kp),t.middlewareStack.add(Mp(t.config),Dp),t},e}();var Up=W(Ip());var jr=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},qr=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},J_e=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},W_e=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(J_e(arguments[n]));return e},xr=new q("AWSS3UploadTask"),Je;(function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"})(Je||(Je={}));var dt;(function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"})(dt||(dt={}));var pK=1e4,X_e=5*1024*1024,Y_e=4;function Q_e(e,n){return e.PartNumber-n.PartNumber}var Fp=function(){function e(n){var r=n.s3Client,t=n.file,i=n.emitter,a=n.storage,s=n.params,c=n.level,d=n.prefixPromise;this.partSize=X_e,this.queueSize=Y_e,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=Je.INIT,this.prefixPromise=d,this.s3client=r,this.s3client.middlewareStack.remove(Rp),this.storage=a,this.storageSync=Promise.resolve(),typeof this.storage.sync=="function"&&(this.storageSync=this.storage.sync()),this.params=s,this.file=t,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=i,this.queued=[],this.fileId=this._getFileId(c),this._validateParams(),this.emitter.on(dt.ERROR,function(){})}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===Je.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(n){var r=n.key,t=n.bucket;return jr(this,void 0,void 0,function(){var i,a,s,c,d;return qr(this,function(o){switch(o.label){case 0:return[4,this.s3client.send(new c7({Bucket:t,Prefix:r}))];case 1:return i=o.sent(),a=i.Contents,s=a===void 0?[]:a,[4,this.prefixPromise];case 2:return c=o.sent(),d=s.find(function(l){return l.Key===""+c+r}),[2,d]}})})},e.prototype._getFileId=function(n){return ZV(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,n,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,n,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return jr(this,void 0,void 0,function(){var n,r,t;return qr(this,function(i){switch(i.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return n=i.sent(),Object.keys(n).length===0||!Object.prototype.hasOwnProperty.call(n,this.fileId)?[2,{parts:[],uploadId:null}]:(r=n[this.fileId],r.lastTouched=Date.now(),this.storage.setItem(yo,JSON.stringify(n)),[4,this.s3client.send(new hp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.uploadId}))]);case 2:return t=i.sent(),[2,{parts:t.Parts||[],uploadId:r.uploadId}]}})})},e.prototype._emitEvent=function(n,r){this.emitter.emit(n,r)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>pK)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is "+pK+".")},e.prototype._listCachedUploadTasks=function(){return jr(this,void 0,void 0,function(){var n;return qr(this,function(r){switch(r.label){case 0:return[4,this.storageSync];case 1:return r.sent(),n=this.storage.getItem(yo)||"{}",[2,JSON.parse(n)]}})})},e.prototype._cache=function(n){return jr(this,void 0,void 0,function(){var r;return qr(this,function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return r=t.sent(),r[this.fileId]=n,this.storage.setItem(yo,JSON.stringify(r)),[2]}})})},e.prototype._isCached=function(){return jr(this,void 0,void 0,function(){var n,r;return qr(this,function(t){switch(t.label){case 0:return r=(n=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,r.apply(n,[t.sent(),this.fileId])]}})})},e.prototype._removeFromCache=function(){return jr(this,void 0,void 0,function(){var n;return qr(this,function(r){switch(r.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return n=r.sent(),delete n[this.fileId],this.storage.setItem(yo,JSON.stringify(n)),[2]}})})},e.prototype._onPartUploadCompletion=function(n){var r=n.eTag,t=n.partNumber,i=n.chunk;return jr(this,void 0,void 0,function(){return qr(this,function(a){return this.completedParts.push({ETag:r,PartNumber:t}),this.bytesUploaded+=QV(i),this._emitEvent(dt.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter(function(s){return s.uploadPartInput.PartNumber!==t}),this.queued.length&&this.state!==Je.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]})})},e.prototype._completeUpload=function(){return jr(this,void 0,void 0,function(){var n;return qr(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.s3client.send(new pp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(Q_e)}}))];case 1:return r.sent(),this._verifyFileSize(),this._emitEvent(dt.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=Je.COMPLETED,[3,3];case 2:return n=r.sent(),xr.error("error completing upload",n),this._emitEvent(dt.ERROR,n),[3,3];case 3:return[2]}})})},e.prototype._makeUploadPartRequest=function(n,r){return jr(this,void 0,void 0,function(){var t,i;return qr(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,this.s3client.send(new wp(n),{cancelTokenSource:r})];case 1:return t=a.sent(),[4,this._onPartUploadCompletion({eTag:t.ETag,partNumber:n.PartNumber,chunk:n.Body})];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),this.state===Je.PAUSED?xr.log("upload paused"):this.state===Je.CANCELLED?xr.log("upload aborted"):xr.error("error starting next part of upload: ",i),!Up.default.isCancel(i)&&i.message!==vo.UPLOAD_PAUSED_MESSAGE&&(this._emitEvent(dt.ERROR,i),this.pause()),[3,4];case 4:return[2]}})})},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==Je.PAUSED){var n=Up.default.CancelToken.source(),r=this.queued.shift();this.inProgress.push({uploadPartInput:r,s3Request:this._makeUploadPartRequest(r,n),cancel:n.cancel})}},e.prototype._verifyFileSize=function(){return jr(this,void 0,void 0,function(){var n,r;return qr(this,function(t){switch(t.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(n=t.sent(),r=!!(n&&n.Size===this.file.size),!r)throw new Error("File size does not match between local file and file on s3");return[2,r]}})})},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var n=this.file.size,r=[],t=0;t<n;){var i=Math.min(t+this.partSize,n);r.push({Body:this.file.slice(t,i),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:r.length+1,UploadId:this.uploadId}),t+=this.partSize}return r},e.prototype._initCachedUploadParts=function(n){this.bytesUploaded+=n.reduce(function(t,i){return t+i.Size},0);var r=new Set(n.map(function(t){return t.PartNumber}));this.queued=this.queued.filter(function(t){return!r.has(t.PartNumber)}),this.completedParts=n.map(function(t){return{PartNumber:t.PartNumber,ETag:t.ETag}}),this._emitEvent(dt.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return jr(this,void 0,void 0,function(){var n;return qr(this,function(r){switch(r.label){case 0:return[4,this.s3client.send(new vp(this.params))];case 1:return n=r.sent(),this._cache({uploadId:n.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,n.UploadId]}})})},e.prototype._initializeUploadTask=function(){return jr(this,void 0,void 0,function(){var n,r,t,t,i;return qr(this,function(a){switch(a.label){case 0:this.state=Je.IN_PROGRESS,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,this._isCached()];case 2:return a.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return n=a.sent(),r=n.parts,t=n.uploadId,this.uploadId=t,this.queued=this._createParts(),this._initCachedUploadParts(r),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:t=a.sent(),this.uploadId=t,this.queued=this._createParts(),this._startUpload(),a.label=6;case 6:return[3,8];case 7:return i=a.sent(),Up.default.isCancel(i)||xr.error("Error initializing the upload task",i),[3,8];case 8:return[2]}})})},e.prototype.resume=function(){this.state===Je.CANCELLED?xr.warn("This task has already been cancelled"):this.state===Je.COMPLETED?xr.warn("This task has already been completed"):this.state===Je.IN_PROGRESS?xr.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=Je.IN_PROGRESS;for(var n=0;n<this.queueSize;n++)this._startNextPart()},e.prototype._cancel=function(){return jr(this,void 0,void 0,function(){var n;return qr(this,function(r){switch(r.label){case 0:return this.state!==Je.CANCELLED?[3,1]:(xr.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==Je.COMPLETED?[3,2]:(xr.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=Je.CANCELLED,r.label=3;case 3:return r.trys.push([3,6,,7]),[4,this.s3client.send(new mp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return r.sent(),[4,this._removeFromCache()];case 5:return r.sent(),[2,!0];case 6:return n=r.sent(),xr.error("Error cancelling upload task",n),[2,!1];case 7:return[2]}})})},e.prototype.pause=function(){var n;this.state===Je.CANCELLED?xr.warn("This task has already been cancelled"):this.state===Je.COMPLETED?xr.warn("This task has already been completed"):this.state===Je.PAUSED&&xr.warn("This task is already paused"),this.state=Je.PAUSED;var r=this.inProgress.splice(0,this.inProgress.length);r.forEach(function(t){t.cancel(vo.UPLOAD_PAUSED_MESSAGE)}),(n=this.queued).unshift.apply(n,W_e(r.map(function(t){return t.uploadPartInput})))},e}();var P1=W(A1()),Zt=function(){return Zt=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zt.apply(this,arguments)},dl=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},ll=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},tn=new q("AWSS3Provider"),vK="public",Z_e=900,I1=function(){function e(n){var r=this;this._config=n||{},this._storage=new ha().getStorage(),ye.listen("auth",function(t){var i=t.payload;(i.event==="signOut"||i.event==="signIn")&&r._storage.removeItem(yo)}),tn.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(n){if(tn.debug("configure Storage",n),!n)return this._config;var r=Ka.parseMobilehubConfig(n);return this._config=Object.assign({},this._config,r.Storage),this._config.bucket||tn.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(n,r){var t=n.s3Client,i=n.emitter,a=n.key,s=n.file,c=n.params,d=r.progressCallback,o=r.completeCallback,l=r.errorCallback,f=r.track,m=f===void 0?!1:f;if(!(s instanceof Blob))throw new Error(Qt.INVALID_BLOB);i.on(dt.UPLOAD_PROGRESS,function(h){d&&(typeof d=="function"?d(h):tn.warn("progressCallback should be a function, not a "+typeof d))}),i.on(dt.UPLOAD_COMPLETE,function(h){o&&(typeof o=="function"?o(h):tn.warn("completeCallback should be a function, not a "+typeof o))}),i.on(dt.ERROR,function(h){l&&(typeof l=="function"?l(h):tn.warn("errorCallback should be a function, not a "+typeof l))});var p=ie.get().then(function(h){var y=ie.shear(h);return x1(Zt(Zt({},r),{credentials:y}))}),v=new Fp({s3Client:t,file:s,emitter:i,level:r.level,storage:this._storage,params:c,prefixPromise:p});return Sr(m,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+a),v.resume(),v},e.prototype.copy=function(n,r,t){return dl(this,void 0,void 0,function(){var i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x,T;return ll(this,function(M){switch(M.label){case 0:return[4,this._ensureCredentials()];case 1:if(i=M.sent(),!i||!this._isWithCredentials(this._config))throw new Error(Qt.NO_CREDENTIALS);if(a=Object.assign({},this._config,t),s=a.acl,c=a.bucket,d=a.cacheControl,o=a.expires,l=a.track,f=a.serverSideEncryption,m=a.SSECustomerAlgorithm,p=a.SSECustomerKey,v=a.SSECustomerKeyMD5,h=a.SSEKMSKeyId,y=n.level,g=y===void 0?vK:y,w=n.identityId,b=n.key,E=r.level,S=E===void 0?vK:E,A=r.key,!b||typeof b!="string")throw new Error(Qt.NO_SRC_KEY);if(!A||typeof A!="string")throw new Error(Qt.NO_DEST_KEY);g!=="protected"&&w&&tn.warn(`You may copy files from another user if the source level is "protected", currently it's `+g),I=this._prefix(Zt(Zt(Zt({},a),{level:g}),w&&{identityId:w})),P=this._prefix(Zt(Zt({},a),{level:S})),O=c+"/"+I+b,k=""+P+A,tn.debug("copying "+O+" to "+k),_={Bucket:c,CopySource:O,Key:k,MetadataDirective:"COPY"},d&&(_.CacheControl=d),o&&(_.Expires=o),f&&(_.ServerSideEncryption=f),m&&(_.SSECustomerAlgorithm=m),p&&(_.SSECustomerKey=p),v&&(_.SSECustomerKeyMD5=v),h&&(_.SSEKMSKeyId=h),s&&(_.ACL=s),x=this._createNewS3Client(a),M.label=2;case 2:return M.trys.push([2,4,,5]),[4,x.send(new i7(_))];case 3:return M.sent(),Sr(l,"copy",{method:"copy",result:"success"},null,"Copy success from "+b+" to "+A),[2,{key:A}];case 4:throw T=M.sent(),Sr(l,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+b+" to "+A),T;case 5:return[2]}})})},e.prototype.get=function(n,r){return dl(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x,T,M;return ll(this,function(D){switch(D.label){case 0:return[4,this._ensureCredentials()];case 1:if(t=D.sent(),!t||!this._isWithCredentials(this._config))throw new Error(Qt.NO_CREDENTIALS);if(i=Object.assign({},this._config,r),a=i.bucket,s=i.download,c=i.cacheControl,d=i.contentDisposition,o=i.contentEncoding,l=i.contentLanguage,f=i.contentType,m=i.expires,p=i.track,v=i.SSECustomerAlgorithm,h=i.SSECustomerKey,y=i.SSECustomerKeyMD5,g=i.progressCallback,w=this._prefix(i),b=w+n,E=new P1.EventEmitter,S=this._createNewS3Client(i,E),tn.debug("get "+n+" from "+b),A={Bucket:a,Key:b},c&&(A.ResponseCacheControl=c),d&&(A.ResponseContentDisposition=d),o&&(A.ResponseContentEncoding=o),l&&(A.ResponseContentLanguage=l),f&&(A.ResponseContentType=f),v&&(A.SSECustomerAlgorithm=v),h&&(A.SSECustomerKey=h),y&&(A.SSECustomerKeyMD5=y),s!==!0)return[3,5];I=new $b(A),D.label=2;case 2:return D.trys.push([2,4,,5]),g&&(typeof g=="function"?E.on(tc,function(B){g(B)}):tn.warn("progressCallback should be a function, not a "+typeof g)),[4,S.send(I)];case 3:return P=D.sent(),E.removeAllListeners(tc),Sr(p,"download",{method:"get",result:"success"},{fileSize:Number(P.Body.size||P.Body.length)},"Download success for "+n),[2,P];case 4:throw O=D.sent(),Sr(p,"download",{method:"get",result:"failed"},null,"Download failed with "+O.message),O;case 5:return D.trys.push([5,8,,9]),k=new n1(Zt({},S.config)),[4,D7(S,new $b(A))];case 6:return _=D.sent(),T=Qb,[4,k.presign(_,{expiresIn:m||Z_e})];case 7:return x=T.apply(void 0,[D.sent()]),Sr(p,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+x),[2,x];case 8:throw M=D.sent(),tn.warn("get signed url error",M),Sr(p,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+n),M;case 9:return[2]}})})},e.prototype.put=function(n,r,t){var i=Object.assign({},this._config,t),a=i.bucket,s=i.track,c=i.progressCallback,d=i.level,o=i.resumable,l=i.contentType,f=i.contentDisposition,m=i.contentEncoding,p=i.cacheControl,v=i.expires,h=i.metadata,y=i.tagging,g=i.acl,w=i.serverSideEncryption,b=i.SSECustomerAlgorithm,E=i.SSECustomerKey,S=i.SSECustomerKeyMD5,A=i.SSEKMSKeyId,I=l||"binary/octet-stream",P={Bucket:a,Key:n,Body:r,ContentType:I};p&&(P.CacheControl=p),f&&(P.ContentDisposition=f),m&&(P.ContentEncoding=m),v&&(P.Expires=v),h&&(P.Metadata=h),y&&(P.Tagging=y),w&&(P.ServerSideEncryption=w),b&&(P.SSECustomerAlgorithm=b),E&&(P.SSECustomerKey=E),S&&(P.SSECustomerKeyMD5=S),A&&(P.SSEKMSKeyId=A);var O=new P1.EventEmitter,k=new mK(P,i,O);if(g&&(P.ACL=g),o===!0){var _=this._createNewS3Client(i);_.middlewareStack.add(Op(i,n),kp);var x={bucket:a,key:n,s3Client:_,file:r,emitter:O,accessLevel:d,params:P};return this.startResumableUpload(x,t)}try{return c&&(typeof c=="function"?O.on(ho,function(T){c(T)}):tn.warn("progressCallback should be a function, not a "+typeof c)),k.upload().then(function(T){return tn.debug("upload result",T),Sr(s,"upload",{method:"put",result:"success"},null,"Upload success for "+n),{key:n}})}catch(T){throw tn.warn("error uploading",T),Sr(s,"upload",{method:"put",result:"failed"},null,"Error uploading "+n),T}},e.prototype.remove=function(n,r){return dl(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p;return ll(this,function(v){switch(v.label){case 0:return[4,this._ensureCredentials()];case 1:if(t=v.sent(),!t||!this._isWithCredentials(this._config))throw new Error(Qt.NO_CREDENTIALS);i=Object.assign({},this._config,r),a=i.bucket,s=i.track,c=this._prefix(i),d=c+n,o=this._createNewS3Client(i),tn.debug("remove "+n+" from "+d),l={Bucket:a,Key:d},f=new o7(l),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,o.send(f)];case 3:return m=v.sent(),Sr(s,"delete",{method:"remove",result:"success"},null,"Deleted "+n+" successfully"),[2,m];case 4:throw p=v.sent(),Sr(s,"delete",{method:"remove",result:"failed"},null,"Deletion of "+n+" failed with "+p),p;case 5:return[2]}})})},e.prototype.list=function(n,r){return dl(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h;return ll(this,function(y){switch(y.label){case 0:return[4,this._ensureCredentials()];case 1:if(t=y.sent(),!t||!this._isWithCredentials(this._config))throw new Error(Qt.NO_CREDENTIALS);i=Object.assign({},this._config,r),a=i.bucket,s=i.track,c=i.maxKeys,d=this._prefix(i),o=d+n,l=this._createNewS3Client(i),tn.debug("list "+n+" from "+o),f={Bucket:a,Prefix:o,MaxKeys:c},m=new s7(f),y.label=2;case 2:return y.trys.push([2,4,,5]),[4,l.send(m)];case 3:return p=y.sent(),v=[],p&&p.Contents&&(v=p.Contents.map(function(g){return{key:g.Key.substr(d.length),eTag:g.ETag,lastModified:g.LastModified,size:g.Size}})),Sr(s,"list",{method:"list",result:"success"},null,v.length+" items returned from list operation"),tn.debug("list",v),[2,v];case 4:throw h=y.sent(),tn.warn("list error",h),Sr(s,"list",{method:"list",result:"failed"},null,"Listing items failed: "+h.message),h;case 5:return[2]}})})},e.prototype._ensureCredentials=function(){return dl(this,void 0,void 0,function(){var n,r,t;return ll(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,ie.get()];case 1:return n=i.sent(),n?(r=ie.shear(n),tn.debug("set credentials for storage",r),this._config.credentials=r,[2,!0]):[2,!1];case 2:return t=i.sent(),tn.warn("ensure credentials error",t),[2,!1];case 3:return[2]}})})},e.prototype._isWithCredentials=function(n){return typeof n=="object"&&n.hasOwnProperty("credentials")},e.prototype._prefix=function(n){var r=n.credentials,t=n.level,i=n.customPrefix||{},a=n.identityId||r.identityId,s=(i.private!==void 0?i.private:"private/")+a+"/",c=(i.protected!==void 0?i.protected:"protected/")+a+"/",d=i.public!==void 0?i.public:"public/";switch(t){case"private":return s;case"protected":return c;default:return d}},e.prototype._createNewS3Client=function(n,r){var t=zp(n,r);return t.middlewareStack.add(Mp(t.config),Dp),t},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}();var N1=W(Ip());var ea=function(){return ea=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ea.apply(this,arguments)},eSe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Aa=new q("StorageClass"),mi="AWSS3",ul=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,Aa.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(n){if(n&&n.getCategory()==="Storage"){this._pluggables.push(n);var r={};return r=n.configure(this._config[n.getProviderName()]),r}},e.prototype.getPluggable=function(n){var r=this._pluggables.find(function(t){return t.getProviderName()===n});return r===void 0?(Aa.debug("No plugin found with providerName",n),null):r},e.prototype.removePluggable=function(n){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==n})},e.prototype.configure=function(n){var r=this;if(Aa.debug("configure Storage"),!n)return this._config;var t=Ka.parseMobilehubConfig(n),i=Object.keys(t.Storage),a=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],s=function(d){return a.some(function(o){return o===d})},c=function(d){return d.find(function(o){return s(o)})};return i&&c(i)&&!t.Storage[mi]&&(t.Storage[mi]={}),Object.entries(t.Storage).map(function(d){var o=eSe(d,2),l=o[0],f=o[1];l&&s(l)&&f!==void 0&&(t.Storage[mi][l]=f,delete t.Storage[l])}),Object.keys(t.Storage).forEach(function(d){typeof t.Storage[d]!="string"&&(r._config[d]=ea(ea({},r._config[d]),t.Storage[d]))}),this._pluggables.forEach(function(d){d.configure(r._config[d.getProviderName()])}),this._pluggables.length===0&&this.addPluggable(new I1),this._config},e.prototype.getCancellableTokenSource=function(){return N1.default.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(n,r){this._cancelTokenSourceMap.set(n,r)},e.prototype.isUploadTask=function(n){return typeof n<"u"&&typeof n.pause=="function"&&typeof n.resume=="function"},e.prototype.cancel=function(n,r){if(n instanceof Fp)return n._cancel();var t=this._cancelTokenSourceMap.get(n);t?t.cancel(r):Aa.debug("The request does not map to any cancel token")},e.prototype.copy=function(n,r,t){var i=t?.provider||mi,a=this._pluggables.find(function(d){return d.getProviderName()===i});if(a===void 0)return Aa.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var s=this.getCancellableTokenSource();if(typeof a.copy!="function")return Promise.reject(".copy is not implemented on provider "+a.getProviderName());var c=a.copy(n,r,ea(ea({},t),{cancelTokenSource:s}));return this.updateRequestToBeCancellable(c,s),c},e.prototype.get=function(n,r){var t=r?.provider||mi,i=this._pluggables.find(function(c){return c.getProviderName()===t});if(i===void 0)return Aa.debug("No plugin found with providerName",t),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource(),s=i.get(n,ea(ea({},r),{cancelTokenSource:a}));return this.updateRequestToBeCancellable(s,a),s},e.prototype.isCancelError=function(n){return N1.default.isCancel(n)},e.prototype.put=function(n,r,t){var i=t?.provider||mi,a=this._pluggables.find(function(d){return d.getProviderName()===i});if(a===void 0)return Aa.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var s=this.getCancellableTokenSource(),c=a.put(n,r,ea(ea({},t),{cancelTokenSource:s}));return this.isUploadTask(c)||this.updateRequestToBeCancellable(c,s),c},e.prototype.remove=function(n,r){var t=r?.provider||mi,i=this._pluggables.find(function(a){return a.getProviderName()===t});return i===void 0?(Aa.debug("No plugin found with providerName",t),Promise.reject("No plugin found in Storage for the provider")):i.remove(n,r)},e.prototype.list=function(n,r){var t=r?.provider||mi,i=this._pluggables.find(function(a){return a.getProviderName()===t});return i===void 0?(Aa.debug("No plugin found with providerName",t),Promise.reject("No plugin found in Storage for the provider")):i.list(n,r)},e}();var fl=function(){return fl=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fl.apply(this,arguments)},R1=new q("Storage"),Ta=null,nSe=function(){if(Ta)return Ta;R1.debug("Create Storage Instance, debug"),Ta=new ul,Ta.vault=new ul;var e=Ta.configure;return Ta.configure=function(n){R1.debug("storage configure called");var r=fl({},e.call(Ta,n));Object.keys(r).forEach(function(t){typeof r[t]!="string"&&(r[t]=fl(fl({},r[t]),{level:"private"}))}),R1.debug("storage vault configure called"),Ta.vault.configure(r)},Ta},O1=nSe();se.register(O1);var pl=W(S5()),Xp=W(as()),na=function(){return na=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},na.apply(this,arguments)},KSe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},JSe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},x5=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},cc=new q("RestClient"),vl=function(){function e(n){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=ie,this._options=n,cc.debug("API Options",this._options),this._cancelTokenMap==null&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(n,r,t){return KSe(this,void 0,void 0,function(){var i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b=this;return JSe(this,function(E){switch(E.label){case 0:return cc.debug(r,n),s="us-east-1",c="execute-api",d=void 0,typeof n=="string"?(i=this._parseUrl(n),a=n):(a=n.endpoint,d=n.custom_header,s=n.region,c=n.service,i=this._parseUrl(n.endpoint)),o={method:r,url:a,host:i.host,path:i.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},l={},cr.isReactNative&&(f=cr.userAgent||"aws-amplify/0.1.x",l={"User-Agent":f}),m=Object.assign({},t),p=m.response,m.body&&(typeof FormData=="function"&&m.body instanceof FormData?(l["Content-Type"]="multipart/form-data",o.data=m.body):(l["Content-Type"]="application/json; charset=UTF-8",o.data=JSON.stringify(m.body))),m.responseType&&(o.responseType=m.responseType),m.withCredentials&&(o.withCredentials=m.withCredentials),m.timeout&&(o.timeout=m.timeout),m.cancellableToken&&(o.cancelToken=m.cancellableToken.token),o.signerServiceInfo=m.signerServiceInfo,typeof d!="function"?[3,2]:[4,d()];case 1:return h=E.sent(),[3,3];case 2:h=void 0,E.label=3;case 3:return v=h,o.headers=na(na(na({},l),v),m.headers),y=(0,Xp.parse)(a,!0,!0),g=y.search,w=x5(y,["search"]),o.url=(0,Xp.format)(na(na({},w),{query:na(na({},w.query),m.queryStringParameters||{})})),typeof o.headers.Authorization<"u"?(o.headers=Object.keys(o.headers).reduce(function(S,A){return o.headers[A]&&(S[A]=o.headers[A]),S},{}),[2,this._request(o,p)]):[2,this.Credentials.get().then(function(S){return b._signed(na({},o),S,p,{region:s,service:c}).catch(function(A){if(vr.isClockSkewError(A)){var I=A.response.headers,P=I&&(I.date||I.Date),O=new Date(P),k=vr.getDateFromHeaderString(o.headers["x-amz-date"]);if(vr.isClockSkewed(O))return vr.setClockOffset(O.getTime()-k.getTime()),b.ajax(n,r,t)}throw A})},function(S){return cc.debug("No credentials available, the request will be unsigned"),b._request(o,p)})]}})})},e.prototype.get=function(n,r){return this.ajax(n,"GET",r)},e.prototype.put=function(n,r){return this.ajax(n,"PUT",r)},e.prototype.patch=function(n,r){return this.ajax(n,"PATCH",r)},e.prototype.post=function(n,r){return this.ajax(n,"POST",r)},e.prototype.del=function(n,r){return this.ajax(n,"DELETE",r)},e.prototype.head=function(n,r){return this.ajax(n,"HEAD",r)},e.prototype.cancel=function(n,r){var t=this._cancelTokenMap.get(n);return t&&t.cancel(r),!0},e.prototype.isCancel=function(n){return pl.default.isCancel(n)},e.prototype.getCancellableToken=function(){return pl.default.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(n,r){this._cancelTokenMap.set(n,r)},e.prototype.endpoint=function(n){var r=this,t=this._options.endpoints,i="";return Array.isArray(t)&&t.forEach(function(a){a.name===n&&(i=a.endpoint,typeof a.region=="string"?r._region=a.region:typeof r._options.region=="string"&&(r._region=r._options.region),typeof a.service=="string"?r._service=a.service||"execute-api":r._service="execute-api",typeof a.custom_header=="function"?r._custom_header=a.custom_header:r._custom_header=void 0)}),i},e.prototype._signed=function(n,r,t,i){var a=i.service,s=i.region,c=n.signerServiceInfo,d=x5(n,["signerServiceInfo"]),o=s||this._region||this._options.region,l=a||this._service||this._options.service,f={secret_key:r.secretAccessKey,access_key:r.accessKeyId,session_token:r.sessionToken},m={region:o,service:l},p=Object.assign(m,c),v=yt.sign(d,f,p);return v.data&&(v.body=v.data),cc.debug("Signed Request: ",v),delete v.headers.host,(0,pl.default)(v).then(function(h){return t?h:h.data}).catch(function(h){throw cc.debug(h),h})},e.prototype._request=function(n,r){return r===void 0&&(r=!1),(0,pl.default)(n).then(function(t){return r?t:t.data}).catch(function(t){throw cc.debug(t),t})},e.prototype._parseUrl=function(n){var r=n.split("/");return{host:r[2],path:"/"+r.slice(3).join("/")}},e}();var Qp=function(){return Qp=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qp.apply(this,arguments)},WSe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},XSe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},YSe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},Yp=new q("RestAPI"),Zp=function(){function e(n){this._api=null,this.Credentials=ie,this._options=n,Yp.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(n){var r=n||{},t=r.API,i=t===void 0?{}:t,a=YSe(r,["API"]),s=Qp(Qp({},a),i);if(Yp.debug("configure Rest API",{opt:s}),s.aws_project_region){if(s.aws_cloud_logic_custom){var c=s.aws_cloud_logic_custom;s.endpoints=typeof c=="string"?JSON.parse(c):c}s=Object.assign({},s,{region:s.aws_project_region,header:{}})}return Array.isArray(s.endpoints)?s.endpoints.forEach(function(d){typeof d.custom_header<"u"&&typeof d.custom_header!="function"&&(Yp.warn("Rest API "+d.name+", custom_header should be a function"),d.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?s.endpoints=this._options.endpoints:s.endpoints=[],this._options=Object.assign({},this._options,s),this.createInstance(),this._options},e.prototype.createInstance=function(){return Yp.debug("create Rest API instance"),this._api=new vl(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(n,r,t){try{var i=this.getEndpointInfo(n,r),a=this._api.getCancellableToken(),s=Object.assign({},t);s.cancellableToken=a;var c=this._api.get(i,s);return this._api.updateRequestToBeCancellable(c,a),c}catch(d){return Promise.reject(d.message)}},e.prototype.post=function(n,r,t){try{var i=this.getEndpointInfo(n,r),a=this._api.getCancellableToken(),s=Object.assign({},t);s.cancellableToken=a;var c=this._api.post(i,s);return this._api.updateRequestToBeCancellable(c,a),c}catch(d){return Promise.reject(d.message)}},e.prototype.put=function(n,r,t){try{var i=this.getEndpointInfo(n,r),a=this._api.getCancellableToken(),s=Object.assign({},t);s.cancellableToken=a;var c=this._api.put(i,s);return this._api.updateRequestToBeCancellable(c,a),c}catch(d){return Promise.reject(d.message)}},e.prototype.patch=function(n,r,t){try{var i=this.getEndpointInfo(n,r),a=this._api.getCancellableToken(),s=Object.assign({},t);s.cancellableToken=a;var c=this._api.patch(i,s);return this._api.updateRequestToBeCancellable(c,a),c}catch(d){return Promise.reject(d.message)}},e.prototype.del=function(n,r,t){try{var i=this.getEndpointInfo(n,r),a=this._api.getCancellableToken(),s=Object.assign({},t);s.cancellableToken=a;var c=this._api.del(i,s);return this._api.updateRequestToBeCancellable(c,a),c}catch(d){return Promise.reject(d.message)}},e.prototype.head=function(n,r,t){try{var i=this.getEndpointInfo(n,r),a=this._api.getCancellableToken(),s=Object.assign({},t);s.cancellableToken=a;var c=this._api.head(i,s);return this._api.updateRequestToBeCancellable(c,a),c}catch(d){return Promise.reject(d.message)}},e.prototype.isCancel=function(n){return this._api.isCancel(n)},e.prototype.cancel=function(n,r){return this._api.cancel(n,r)},e.prototype.endpoint=function(n){return WSe(this,void 0,void 0,function(){return XSe(this,function(r){return[2,this._api.endpoint(n)]})})},e.prototype.getEndpointInfo=function(n,r){var t=this._options.endpoints;if(!Array.isArray(t))throw new Error("API category not configured");var i=t.find(function(s){return s.name===n});if(!i)throw new Error("API "+n+" does not exist");var a={endpoint:i.endpoint+r};return typeof i.region=="string"?a.region=i.region:typeof this._options.region=="string"&&(a.region=this._options.region),typeof i.service=="string"?a.service=i.service||"execute-api":a.service="execute-api",typeof i.custom_header=="function"?a.custom_header=i.custom_header:a.custom_header=void 0,a},e}();var Q1=new Zp(null);se.register(Q1);function ev(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ev=function(r){return typeof r}:ev=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ev(e)}function Z1(e){return ev(e)=="object"&&e!==null}var hWe=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator",yWe=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator",nv=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function dc(e,n){for(var r=/\r\n|[\n\r]/g,t=1,i=n+1,a;(a=r.exec(e.body))&&a.index<n;)t+=1,i=n+1-(a.index+a[0].length);return{line:t,column:i}}function eE(e){return tv(e.source,dc(e.source,e.start))}function tv(e,n){var r=e.locationOffset.column-1,t=rv(r)+e.body,i=n.line-1,a=e.locationOffset.line-1,s=n.line+a,c=n.line===1?r:0,d=n.column+c,o="".concat(e.name,":").concat(s,":").concat(d,`
`),l=t.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var m=Math.floor(d/80),p=d%80,v=[],h=0;h<f.length;h+=80)v.push(f.slice(h,h+80));return o+C5([["".concat(s),v[0]]].concat(v.slice(1,m+1).map(function(y){return["",y]}),[[" ",rv(p-1)+"^"],["",v[m+1]]]))}return o+C5([["".concat(s-1),l[i-1]],["".concat(s),f],["",rv(d-1)+"^"],["".concat(s+1),l[i+1]]])}function C5(e){var n=e.filter(function(t){var i=t[0],a=t[1];return a!==void 0}),r=Math.max.apply(Math,n.map(function(t){var i=t[0];return i.length}));return n.map(function(t){var i=t[0],a=t[1];return QSe(r,i)+(a?" | "+a:" |")}).join(`
`)}function rv(e){return Array(e+1).join(" ")}function QSe(e,n){return rv(e-n.length)+n}function av(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?av=function(r){return typeof r}:av=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},av(e)}function A5(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function ZSe(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?A5(Object(r),!0).forEach(function(t){exe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function exe(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function nxe(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function T5(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function rxe(e,n,r){return n&&T5(e.prototype,n),r&&T5(e,r),e}function txe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&yl(e,n)}function axe(e){var n=N5();return function(){var t=gl(e),i;if(n){var a=gl(this).constructor;i=Reflect.construct(t,arguments,a)}else i=t.apply(this,arguments);return I5(this,i)}}function I5(e,n){return n&&(av(n)==="object"||typeof n=="function")?n:hl(e)}function hl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nE(e){var n=typeof Map=="function"?new Map:void 0;return nE=function(t){if(t===null||!ixe(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return iv(t,arguments,gl(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),yl(i,t)},nE(e)}function iv(e,n,r){return N5()?iv=Reflect.construct:iv=function(i,a,s){var c=[null];c.push.apply(c,a);var d=Function.bind.apply(i,c),o=new d;return s&&yl(o,s.prototype),o},iv.apply(null,arguments)}function N5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ixe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function yl(e,n){return yl=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},yl(e,n)}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gl(e)}var Ar=function(e){txe(r,e);var n=axe(r);function r(t,i,a,s,c,d,o){var l,f,m,p;nxe(this,r),p=n.call(this,t),p.name="GraphQLError",p.originalError=d??void 0,p.nodes=P5(Array.isArray(i)?i:i?[i]:void 0);for(var v=[],h=0,y=(g=p.nodes)!==null&&g!==void 0?g:[];h<y.length;h++){var g,w=y[h],b=w.loc;b!=null&&v.push(b)}v=P5(v),p.source=a??((l=v)===null||l===void 0?void 0:l[0].source),p.positions=s??((f=v)===null||f===void 0?void 0:f.map(function(S){return S.start})),p.locations=s&&a?s.map(function(S){return dc(a,S)}):(m=v)===null||m===void 0?void 0:m.map(function(S){return dc(S.source,S.start)}),p.path=c??void 0;var E=d?.extensions;return o==null&&Z1(E)?p.extensions=ZSe({},E):p.extensions=o??{},Object.defineProperties(hl(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?(Object.defineProperty(hl(p),"stack",{value:d.stack,writable:!0,configurable:!0}),I5(p)):(Error.captureStackTrace?Error.captureStackTrace(hl(p),r):Object.defineProperty(hl(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return rxe(r,[{key:"toString",value:function(){return rE(this)}},{key:nv,get:function(){return"Object"}}]),r}(nE(Error));function P5(e){return e===void 0||e.length===0?void 0:e}function rE(e){var n=e.message;if(e.nodes)for(var r=0,t=e.nodes;r<t.length;r++){var i=t[r];i.loc&&(n+=`

`+eE(i.loc))}else if(e.source&&e.locations)for(var a=0,s=e.locations;a<s.length;a++){var c=s[a];n+=`

`+tv(e.source,c)}return n}function ir(e,n,r){return new Ar("Syntax Error: ".concat(r),void 0,e,[n])}var te=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function tE(e,n){var r=!!e;if(!r)throw new Error(n??"Unexpected invariant triggered.")}var oxe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,wl=oxe;function ov(e){var n=e.prototype.toJSON;typeof n=="function"||tE(0),e.prototype.inspect=n,wl&&(e.prototype[wl]=n)}var sv=function(){function e(r,t,i){this.start=r.start,this.end=t.end,this.startToken=r,this.endToken=t,this.source=i}var n=e.prototype;return n.toJSON=function(){return{start:this.start,end:this.end}},e}();ov(sv);var Me=function(){function e(r,t,i,a,s,c,d){this.kind=r,this.start=t,this.end=i,this.line=a,this.column=s,this.value=d,this.prev=c,this.next=null}var n=e.prototype;return n.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();ov(Me);function aE(e){return e!=null&&typeof e.kind=="string"}var G=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function cv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cv=function(r){return typeof r}:cv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cv(e)}var sxe=10,R5=2;function bl(e){return dv(e,[])}function dv(e,n){switch(cv(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":cxe(e,n);default:return String(e)}}function cxe(e,n){if(n.indexOf(e)!==-1)return"[Circular]";var r=[].concat(n,[e]),t=uxe(e);if(t!==void 0){var i=t.call(e);if(i!==e)return typeof i=="string"?i:dv(i,r)}else if(Array.isArray(e))return lxe(e,r);return dxe(e,r)}function dxe(e,n){var r=Object.keys(e);if(r.length===0)return"{}";if(n.length>R5)return"["+fxe(e)+"]";var t=r.map(function(i){var a=dv(e[i],n);return i+": "+a});return"{ "+t.join(", ")+" }"}function lxe(e,n){if(e.length===0)return"[]";if(n.length>R5)return"[Array]";for(var r=Math.min(sxe,e.length),t=e.length-r,i=[],a=0;a<r;++a)i.push(dv(e[a],n));return t===1?i.push("... 1 more item"):t>1&&i.push("... ".concat(t," more items")),"["+i.join(", ")+"]"}function uxe(e){var n=e[String(wl)];if(typeof n=="function")return n;if(typeof e.inspect=="function")return e.inspect}function fxe(e){var n=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(n==="Object"&&typeof e.constructor=="function"){var r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return n}function El(e,n){var r=!!e;if(!r)throw new Error(n)}var O5=function(n,r){return n instanceof r};function M5(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function mxe(e,n,r){return n&&M5(e.prototype,n),r&&M5(e,r),e}var lv=function(){function e(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof n=="string"||El(0,"Body must be a string. Received: ".concat(bl(n),".")),this.body=n,this.name=r,this.locationOffset=t,this.locationOffset.line>0||El(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||El(0,"column in locationOffset is 1-indexed and must be positive.")}return mxe(e,[{key:nv,get:function(){return"Source"}}]),e}();function D5(e){return O5(e,lv)}var iE=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function z5(e){var n=e.split(/\r\n|[\n\r]/g),r=pxe(e);if(r!==0)for(var t=1;t<n.length;t++)n[t]=n[t].slice(r);for(var i=0;i<n.length&&k5(n[i]);)++i;for(var a=n.length;a>i&&k5(n[a-1]);)--a;return n.slice(i,a).join(`
`)}function k5(e){for(var n=0;n<e.length;++n)if(e[n]!==" "&&e[n]!=="	")return!1;return!0}function pxe(e){for(var n,r=!0,t=!0,i=0,a=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:e.charCodeAt(s+1)===10&&++s;case 10:r=!1,t=!0,i=0;break;case 9:case 32:++i;break;default:t&&!r&&(a===null||i<a)&&(a=i),t=!1}return(n=a)!==null&&n!==void 0?n:0}function L5(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=e.indexOf(`
`)===-1,i=e[0]===" "||e[0]==="	",a=e[e.length-1]==='"',s=e[e.length-1]==="\\",c=!t||a||s||r,d="";return c&&!(t&&i)&&(d+=`
`+n),d+=n?e.replace(/\n/g,`
`+n):e,c&&(d+=`
`),'"""'+d.replace(/"""/g,'\\"""')+'"""'}var sE=function(){function e(r){var t=new Me(G.SOF,0,0,0,0,null);this.source=r,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var n=e.prototype;return n.advance=function(){this.lastToken=this.token;var t=this.token=this.lookahead();return t},n.lookahead=function(){var t=this.token;if(t.kind!==G.EOF)do{var i;t=(i=t.next)!==null&&i!==void 0?i:t.next=vxe(this,t)}while(t.kind===G.COMMENT);return t},e}();function B5(e){return e===G.BANG||e===G.DOLLAR||e===G.AMP||e===G.PAREN_L||e===G.PAREN_R||e===G.SPREAD||e===G.COLON||e===G.EQUALS||e===G.AT||e===G.BRACKET_L||e===G.BRACKET_R||e===G.BRACE_L||e===G.PIPE||e===G.BRACE_R}function wo(e){return isNaN(e)?G.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function vxe(e,n){for(var r=e.source,t=r.body,i=t.length,a=n.end;a<i;){var s=t.charCodeAt(a),c=e.line,d=1+a-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:t.charCodeAt(a+1)===10?a+=2:++a,++e.line,e.lineStart=a;continue;case 33:return new Me(G.BANG,a,a+1,c,d,n);case 35:return yxe(r,a,c,d,n);case 36:return new Me(G.DOLLAR,a,a+1,c,d,n);case 38:return new Me(G.AMP,a,a+1,c,d,n);case 40:return new Me(G.PAREN_L,a,a+1,c,d,n);case 41:return new Me(G.PAREN_R,a,a+1,c,d,n);case 46:if(t.charCodeAt(a+1)===46&&t.charCodeAt(a+2)===46)return new Me(G.SPREAD,a,a+3,c,d,n);break;case 58:return new Me(G.COLON,a,a+1,c,d,n);case 61:return new Me(G.EQUALS,a,a+1,c,d,n);case 64:return new Me(G.AT,a,a+1,c,d,n);case 91:return new Me(G.BRACKET_L,a,a+1,c,d,n);case 93:return new Me(G.BRACKET_R,a,a+1,c,d,n);case 123:return new Me(G.BRACE_L,a,a+1,c,d,n);case 124:return new Me(G.PIPE,a,a+1,c,d,n);case 125:return new Me(G.BRACE_R,a,a+1,c,d,n);case 34:return t.charCodeAt(a+1)===34&&t.charCodeAt(a+2)===34?bxe(r,a,c,d,n,e):wxe(r,a,c,d,n);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return gxe(r,a,s,c,d,n);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return _xe(r,a,c,d,n)}throw ir(r,a,hxe(s))}var o=e.line,l=1+a-e.lineStart;return new Me(G.EOF,i,i,o,l,n)}function hxe(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(wo(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(wo(e),".")}function yxe(e,n,r,t,i){var a=e.body,s,c=n;do s=a.charCodeAt(++c);while(!isNaN(s)&&(s>31||s===9));return new Me(G.COMMENT,n,c,r,t,i,a.slice(n+1,c))}function gxe(e,n,r,t,i,a){var s=e.body,c=r,d=n,o=!1;if(c===45&&(c=s.charCodeAt(++d)),c===48){if(c=s.charCodeAt(++d),c>=48&&c<=57)throw ir(e,d,"Invalid number, unexpected digit after 0: ".concat(wo(c),"."))}else d=oE(e,d,c),c=s.charCodeAt(d);if(c===46&&(o=!0,c=s.charCodeAt(++d),d=oE(e,d,c),c=s.charCodeAt(d)),(c===69||c===101)&&(o=!0,c=s.charCodeAt(++d),(c===43||c===45)&&(c=s.charCodeAt(++d)),d=oE(e,d,c),c=s.charCodeAt(d)),c===46||Sxe(c))throw ir(e,d,"Invalid number, expected digit but got: ".concat(wo(c),"."));return new Me(o?G.FLOAT:G.INT,n,d,t,i,a,s.slice(n,d))}function oE(e,n,r){var t=e.body,i=n,a=r;if(a>=48&&a<=57){do a=t.charCodeAt(++i);while(a>=48&&a<=57);return i}throw ir(e,i,"Invalid number, expected digit but got: ".concat(wo(a),"."))}function wxe(e,n,r,t,i){for(var a=e.body,s=n+1,c=s,d=0,o="";s<a.length&&!isNaN(d=a.charCodeAt(s))&&d!==10&&d!==13;){if(d===34)return o+=a.slice(c,s),new Me(G.STRING,n,s+1,r,t,i,o);if(d<32&&d!==9)throw ir(e,s,"Invalid character within String: ".concat(wo(d),"."));if(++s,d===92){switch(o+=a.slice(c,s-1),d=a.charCodeAt(s),d){case 34:o+='"';break;case 47:o+="/";break;case 92:o+="\\";break;case 98:o+="\b";break;case 102:o+="\f";break;case 110:o+=`
`;break;case 114:o+="\r";break;case 116:o+="	";break;case 117:{var l=Exe(a.charCodeAt(s+1),a.charCodeAt(s+2),a.charCodeAt(s+3),a.charCodeAt(s+4));if(l<0){var f=a.slice(s+1,s+5);throw ir(e,s,"Invalid character escape sequence: \\u".concat(f,"."))}o+=String.fromCharCode(l),s+=4;break}default:throw ir(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}++s,c=s}}throw ir(e,s,"Unterminated string.")}function bxe(e,n,r,t,i,a){for(var s=e.body,c=n+3,d=c,o=0,l="";c<s.length&&!isNaN(o=s.charCodeAt(c));){if(o===34&&s.charCodeAt(c+1)===34&&s.charCodeAt(c+2)===34)return l+=s.slice(d,c),new Me(G.BLOCK_STRING,n,c+3,r,t,i,z5(l));if(o<32&&o!==9&&o!==10&&o!==13)throw ir(e,c,"Invalid character within String: ".concat(wo(o),"."));o===10?(++c,++a.line,a.lineStart=c):o===13?(s.charCodeAt(c+1)===10?c+=2:++c,++a.line,a.lineStart=c):o===92&&s.charCodeAt(c+1)===34&&s.charCodeAt(c+2)===34&&s.charCodeAt(c+3)===34?(l+=s.slice(d,c)+'"""',c+=4,d=c):++c}throw ir(e,c,"Unterminated string.")}function Exe(e,n,r,t){return uv(e)<<12|uv(n)<<8|uv(r)<<4|uv(t)}function uv(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function _xe(e,n,r,t,i){for(var a=e.body,s=a.length,c=n+1,d=0;c!==s&&!isNaN(d=a.charCodeAt(c))&&(d===95||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122);)++c;return new Me(G.NAME,n,c,r,t,i,a.slice(n,c))}function Sxe(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function lc(e,n){var r=new xxe(e,n);return r.parseDocument()}var xxe=function(){function e(r,t){var i=D5(r)?r:new lv(r);this._lexer=new sE(i),this._options=t}var n=e.prototype;return n.parseName=function(){var t=this.expectToken(G.NAME);return{kind:te.NAME,value:t.value,loc:this.loc(t)}},n.parseDocument=function(){var t=this._lexer.token;return{kind:te.DOCUMENT,definitions:this.many(G.SOF,this.parseDefinition,G.EOF),loc:this.loc(t)}},n.parseDefinition=function(){if(this.peek(G.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(G.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},n.parseOperationDefinition=function(){var t=this._lexer.token;if(this.peek(G.BRACE_L))return{kind:te.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var i=this.parseOperationType(),a;return this.peek(G.NAME)&&(a=this.parseName()),{kind:te.OPERATION_DEFINITION,operation:i,name:a,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},n.parseOperationType=function(){var t=this.expectToken(G.NAME);switch(t.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(t)},n.parseVariableDefinitions=function(){return this.optionalMany(G.PAREN_L,this.parseVariableDefinition,G.PAREN_R)},n.parseVariableDefinition=function(){var t=this._lexer.token;return{kind:te.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(G.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(G.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(t)}},n.parseVariable=function(){var t=this._lexer.token;return this.expectToken(G.DOLLAR),{kind:te.VARIABLE,name:this.parseName(),loc:this.loc(t)}},n.parseSelectionSet=function(){var t=this._lexer.token;return{kind:te.SELECTION_SET,selections:this.many(G.BRACE_L,this.parseSelection,G.BRACE_R),loc:this.loc(t)}},n.parseSelection=function(){return this.peek(G.SPREAD)?this.parseFragment():this.parseField()},n.parseField=function(){var t=this._lexer.token,i=this.parseName(),a,s;return this.expectOptionalToken(G.COLON)?(a=i,s=this.parseName()):s=i,{kind:te.FIELD,alias:a,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(G.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(t)}},n.parseArguments=function(t){var i=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(G.PAREN_L,i,G.PAREN_R)},n.parseArgument=function(){var t=this._lexer.token,i=this.parseName();return this.expectToken(G.COLON),{kind:te.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(t)}},n.parseConstArgument=function(){var t=this._lexer.token;return{kind:te.ARGUMENT,name:this.parseName(),value:(this.expectToken(G.COLON),this.parseValueLiteral(!0)),loc:this.loc(t)}},n.parseFragment=function(){var t=this._lexer.token;this.expectToken(G.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(G.NAME)?{kind:te.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(t)}:{kind:te.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},n.parseFragmentDefinition=function(){var t,i=this._lexer.token;return this.expectKeyword("fragment"),((t=this._options)===null||t===void 0?void 0:t.experimentalFragmentVariables)===!0?{kind:te.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:te.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},n.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},n.parseValueLiteral=function(t){var i=this._lexer.token;switch(i.kind){case G.BRACKET_L:return this.parseList(t);case G.BRACE_L:return this.parseObject(t);case G.INT:return this._lexer.advance(),{kind:te.INT,value:i.value,loc:this.loc(i)};case G.FLOAT:return this._lexer.advance(),{kind:te.FLOAT,value:i.value,loc:this.loc(i)};case G.STRING:case G.BLOCK_STRING:return this.parseStringLiteral();case G.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:te.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:te.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:te.NULL,loc:this.loc(i)};default:return{kind:te.ENUM,value:i.value,loc:this.loc(i)}}case G.DOLLAR:if(!t)return this.parseVariable();break}throw this.unexpected()},n.parseStringLiteral=function(){var t=this._lexer.token;return this._lexer.advance(),{kind:te.STRING,value:t.value,block:t.kind===G.BLOCK_STRING,loc:this.loc(t)}},n.parseList=function(t){var i=this,a=this._lexer.token,s=function(){return i.parseValueLiteral(t)};return{kind:te.LIST,values:this.any(G.BRACKET_L,s,G.BRACKET_R),loc:this.loc(a)}},n.parseObject=function(t){var i=this,a=this._lexer.token,s=function(){return i.parseObjectField(t)};return{kind:te.OBJECT,fields:this.any(G.BRACE_L,s,G.BRACE_R),loc:this.loc(a)}},n.parseObjectField=function(t){var i=this._lexer.token,a=this.parseName();return this.expectToken(G.COLON),{kind:te.OBJECT_FIELD,name:a,value:this.parseValueLiteral(t),loc:this.loc(i)}},n.parseDirectives=function(t){for(var i=[];this.peek(G.AT);)i.push(this.parseDirective(t));return i},n.parseDirective=function(t){var i=this._lexer.token;return this.expectToken(G.AT),{kind:te.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t),loc:this.loc(i)}},n.parseTypeReference=function(){var t=this._lexer.token,i;return this.expectOptionalToken(G.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(G.BRACKET_R),i={kind:te.LIST_TYPE,type:i,loc:this.loc(t)}):i=this.parseNamedType(),this.expectOptionalToken(G.BANG)?{kind:te.NON_NULL_TYPE,type:i,loc:this.loc(t)}:i},n.parseNamedType=function(){var t=this._lexer.token;return{kind:te.NAMED_TYPE,name:this.parseName(),loc:this.loc(t)}},n.parseTypeSystemDefinition=function(){var t=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(t.kind===G.NAME)switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(t)},n.peekDescription=function(){return this.peek(G.STRING)||this.peek(G.BLOCK_STRING)},n.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},n.parseSchemaDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.many(G.BRACE_L,this.parseOperationTypeDefinition,G.BRACE_R);return{kind:te.SCHEMA_DEFINITION,description:i,directives:a,operationTypes:s,loc:this.loc(t)}},n.parseOperationTypeDefinition=function(){var t=this._lexer.token,i=this.parseOperationType();this.expectToken(G.COLON);var a=this.parseNamedType();return{kind:te.OPERATION_TYPE_DEFINITION,operation:i,type:a,loc:this.loc(t)}},n.parseScalarTypeDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);return{kind:te.SCALAR_TYPE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(t)}},n.parseObjectTypeDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),c=this.parseDirectives(!0),d=this.parseFieldsDefinition();return{kind:te.OBJECT_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:c,fields:d,loc:this.loc(t)}},n.parseImplementsInterfaces=function(){var t;if(!this.expectOptionalKeyword("implements"))return[];if(((t=this._options)===null||t===void 0?void 0:t.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(G.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(G.AMP)||this.peek(G.NAME));return i}return this.delimitedMany(G.AMP,this.parseNamedType)},n.parseFieldsDefinition=function(){var t;return((t=this._options)===null||t===void 0?void 0:t.allowLegacySDLEmptyFields)===!0&&this.peek(G.BRACE_L)&&this._lexer.lookahead().kind===G.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(G.BRACE_L,this.parseFieldDefinition,G.BRACE_R)},n.parseFieldDefinition=function(){var t=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseArgumentDefs();this.expectToken(G.COLON);var c=this.parseTypeReference(),d=this.parseDirectives(!0);return{kind:te.FIELD_DEFINITION,description:i,name:a,arguments:s,type:c,directives:d,loc:this.loc(t)}},n.parseArgumentDefs=function(){return this.optionalMany(G.PAREN_L,this.parseInputValueDef,G.PAREN_R)},n.parseInputValueDef=function(){var t=this._lexer.token,i=this.parseDescription(),a=this.parseName();this.expectToken(G.COLON);var s=this.parseTypeReference(),c;this.expectOptionalToken(G.EQUALS)&&(c=this.parseValueLiteral(!0));var d=this.parseDirectives(!0);return{kind:te.INPUT_VALUE_DEFINITION,description:i,name:a,type:s,defaultValue:c,directives:d,loc:this.loc(t)}},n.parseInterfaceTypeDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),c=this.parseDirectives(!0),d=this.parseFieldsDefinition();return{kind:te.INTERFACE_TYPE_DEFINITION,description:i,name:a,interfaces:s,directives:c,fields:d,loc:this.loc(t)}},n.parseUnionTypeDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),c=this.parseUnionMemberTypes();return{kind:te.UNION_TYPE_DEFINITION,description:i,name:a,directives:s,types:c,loc:this.loc(t)}},n.parseUnionMemberTypes=function(){return this.expectOptionalToken(G.EQUALS)?this.delimitedMany(G.PIPE,this.parseNamedType):[]},n.parseEnumTypeDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),c=this.parseEnumValuesDefinition();return{kind:te.ENUM_TYPE_DEFINITION,description:i,name:a,directives:s,values:c,loc:this.loc(t)}},n.parseEnumValuesDefinition=function(){return this.optionalMany(G.BRACE_L,this.parseEnumValueDefinition,G.BRACE_R)},n.parseEnumValueDefinition=function(){var t=this._lexer.token,i=this.parseDescription(),a=this.parseName(),s=this.parseDirectives(!0);return{kind:te.ENUM_VALUE_DEFINITION,description:i,name:a,directives:s,loc:this.loc(t)}},n.parseInputObjectTypeDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),c=this.parseInputFieldsDefinition();return{kind:te.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:a,directives:s,fields:c,loc:this.loc(t)}},n.parseInputFieldsDefinition=function(){return this.optionalMany(G.BRACE_L,this.parseInputValueDef,G.BRACE_R)},n.parseTypeSystemExtension=function(){var t=this._lexer.lookahead();if(t.kind===G.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)},n.parseSchemaExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),a=this.optionalMany(G.BRACE_L,this.parseOperationTypeDefinition,G.BRACE_R);if(i.length===0&&a.length===0)throw this.unexpected();return{kind:te.SCHEMA_EXTENSION,directives:i,operationTypes:a,loc:this.loc(t)}},n.parseScalarTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),a=this.parseDirectives(!0);if(a.length===0)throw this.unexpected();return{kind:te.SCALAR_TYPE_EXTENSION,name:i,directives:a,loc:this.loc(t)}},n.parseObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&c.length===0)throw this.unexpected();return{kind:te.OBJECT_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:c,loc:this.loc(t)}},n.parseInterfaceTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();if(a.length===0&&s.length===0&&c.length===0)throw this.unexpected();return{kind:te.INTERFACE_TYPE_EXTENSION,name:i,interfaces:a,directives:s,fields:c,loc:this.loc(t)}},n.parseUnionTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:te.UNION_TYPE_EXTENSION,name:i,directives:a,types:s,loc:this.loc(t)}},n.parseEnumTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:te.ENUM_TYPE_EXTENSION,name:i,directives:a,values:s,loc:this.loc(t)}},n.parseInputObjectTypeExtension=function(){var t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();if(a.length===0&&s.length===0)throw this.unexpected();return{kind:te.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:a,fields:s,loc:this.loc(t)}},n.parseDirectiveDefinition=function(){var t=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(G.AT);var a=this.parseName(),s=this.parseArgumentDefs(),c=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var d=this.parseDirectiveLocations();return{kind:te.DIRECTIVE_DEFINITION,description:i,name:a,arguments:s,repeatable:c,locations:d,loc:this.loc(t)}},n.parseDirectiveLocations=function(){return this.delimitedMany(G.PIPE,this.parseDirectiveLocation)},n.parseDirectiveLocation=function(){var t=this._lexer.token,i=this.parseName();if(iE[i.value]!==void 0)return i;throw this.unexpected(t)},n.loc=function(t){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new sv(t,this._lexer.lastToken,this._lexer.source)},n.peek=function(t){return this._lexer.token.kind===t},n.expectToken=function(t){var i=this._lexer.token;if(i.kind===t)return this._lexer.advance(),i;throw ir(this._lexer.source,i.start,"Expected ".concat(U5(t),", found ").concat(cE(i),"."))},n.expectOptionalToken=function(t){var i=this._lexer.token;if(i.kind===t)return this._lexer.advance(),i},n.expectKeyword=function(t){var i=this._lexer.token;if(i.kind===G.NAME&&i.value===t)this._lexer.advance();else throw ir(this._lexer.source,i.start,'Expected "'.concat(t,'", found ').concat(cE(i),"."))},n.expectOptionalKeyword=function(t){var i=this._lexer.token;return i.kind===G.NAME&&i.value===t?(this._lexer.advance(),!0):!1},n.unexpected=function(t){var i=t??this._lexer.token;return ir(this._lexer.source,i.start,"Unexpected ".concat(cE(i),"."))},n.any=function(t,i,a){this.expectToken(t);for(var s=[];!this.expectOptionalToken(a);)s.push(i.call(this));return s},n.optionalMany=function(t,i,a){if(this.expectOptionalToken(t)){var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s}return[]},n.many=function(t,i,a){this.expectToken(t);var s=[];do s.push(i.call(this));while(!this.expectOptionalToken(a));return s},n.delimitedMany=function(t,i){this.expectOptionalToken(t);var a=[];do a.push(i.call(this));while(this.expectOptionalToken(t));return a},e}();function cE(e){var n=e.value;return U5(e.kind)+(n!=null?' "'.concat(n,'"'):"")}function U5(e){return B5(e)?'"'.concat(e,'"'):e}var Cxe={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},F5=Object.freeze({});function dE(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cxe,t=void 0,i=Array.isArray(e),a=[e],s=-1,c=[],d=void 0,o=void 0,l=void 0,f=[],m=[],p=e;do{s++;var v=s===a.length,h=v&&c.length!==0;if(v){if(o=m.length===0?void 0:f[f.length-1],d=l,l=m.pop(),h){if(i)d=d.slice();else{for(var y={},g=0,w=Object.keys(d);g<w.length;g++){var b=w[g];y[b]=d[b]}d=y}for(var E=0,S=0;S<c.length;S++){var A=c[S][0],I=c[S][1];i&&(A-=E),i&&I===null?(d.splice(A,1),E++):d[A]=I}}s=t.index,a=t.keys,c=t.edits,i=t.inArray,t=t.prev}else{if(o=l?i?s:a[s]:void 0,d=l?l[o]:p,d==null)continue;l&&f.push(o)}var P=void 0;if(!Array.isArray(d)){if(!aE(d))throw new Error("Invalid AST Node: ".concat(bl(d),"."));var O=j5(n,d.kind,v);if(O){if(P=O.call(n,d,o,l,f,m),P===F5)break;if(P===!1){if(!v){f.pop();continue}}else if(P!==void 0&&(c.push([o,P]),!v))if(aE(P))d=P;else{f.pop();continue}}}if(P===void 0&&h&&c.push([o,d]),v)f.pop();else{var k;t={inArray:i,index:s,keys:a,edits:c,prev:t},i=Array.isArray(d),a=i?d:(k=r[d.kind])!==null&&k!==void 0?k:[],s=-1,c=[],l&&m.push(l),l=d}}while(t!==void 0);return c.length!==0&&(p=c[c.length-1][1]),p}function j5(e,n,r){var t=e[n];if(t){if(!r&&typeof t=="function")return t;var i=r?t.leave:t.enter;if(typeof i=="function")return i}else{var a=r?e.leave:e.enter;if(a){if(typeof a=="function")return a;var s=a[n];if(typeof s=="function")return s}}}function uc(e){return dE(e,{leave:Txe})}var Axe=80,Txe={Name:function(n){return n.value},Variable:function(n){return"$"+n.name},Document:function(n){return Z(n.definitions,`

`)+`
`},OperationDefinition:function(n){var r=n.operation,t=n.name,i=ke("(",Z(n.variableDefinitions,", "),")"),a=Z(n.directives," "),s=n.selectionSet;return!t&&!a&&!i&&r==="query"?s:Z([r,Z([t,i]),a,s]," ")},VariableDefinition:function(n){var r=n.variable,t=n.type,i=n.defaultValue,a=n.directives;return r+": "+t+ke(" = ",i)+ke(" ",Z(a," "))},SelectionSet:function(n){var r=n.selections;return Pt(r)},Field:function(n){var r=n.alias,t=n.name,i=n.arguments,a=n.directives,s=n.selectionSet,c=ke("",r,": ")+t,d=c+ke("(",Z(i,", "),")");return d.length>Axe&&(d=c+ke(`(
`,fv(Z(i,`
`)),`
)`)),Z([d,Z(a," "),s]," ")},Argument:function(n){var r=n.name,t=n.value;return r+": "+t},FragmentSpread:function(n){var r=n.name,t=n.directives;return"..."+r+ke(" ",Z(t," "))},InlineFragment:function(n){var r=n.typeCondition,t=n.directives,i=n.selectionSet;return Z(["...",ke("on ",r),Z(t," "),i]," ")},FragmentDefinition:function(n){var r=n.name,t=n.typeCondition,i=n.variableDefinitions,a=n.directives,s=n.selectionSet;return"fragment ".concat(r).concat(ke("(",Z(i,", "),")")," ")+"on ".concat(t," ").concat(ke("",Z(a," ")," "))+s},IntValue:function(n){var r=n.value;return r},FloatValue:function(n){var r=n.value;return r},StringValue:function(n,r){var t=n.value,i=n.block;return i?L5(t,r==="description"?"":"  "):JSON.stringify(t)},BooleanValue:function(n){var r=n.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(n){var r=n.value;return r},ListValue:function(n){var r=n.values;return"["+Z(r,", ")+"]"},ObjectValue:function(n){var r=n.fields;return"{"+Z(r,", ")+"}"},ObjectField:function(n){var r=n.name,t=n.value;return r+": "+t},Directive:function(n){var r=n.name,t=n.arguments;return"@"+r+ke("(",Z(t,", "),")")},NamedType:function(n){var r=n.name;return r},ListType:function(n){var r=n.type;return"["+r+"]"},NonNullType:function(n){var r=n.type;return r+"!"},SchemaDefinition:Tt(function(e){var n=e.directives,r=e.operationTypes;return Z(["schema",Z(n," "),Pt(r)]," ")}),OperationTypeDefinition:function(n){var r=n.operation,t=n.type;return r+": "+t},ScalarTypeDefinition:Tt(function(e){var n=e.name,r=e.directives;return Z(["scalar",n,Z(r," ")]," ")}),ObjectTypeDefinition:Tt(function(e){var n=e.name,r=e.interfaces,t=e.directives,i=e.fields;return Z(["type",n,ke("implements ",Z(r," & ")),Z(t," "),Pt(i)]," ")}),FieldDefinition:Tt(function(e){var n=e.name,r=e.arguments,t=e.type,i=e.directives;return n+(q5(r)?ke(`(
`,fv(Z(r,`
`)),`
)`):ke("(",Z(r,", "),")"))+": "+t+ke(" ",Z(i," "))}),InputValueDefinition:Tt(function(e){var n=e.name,r=e.type,t=e.defaultValue,i=e.directives;return Z([n+": "+r,ke("= ",t),Z(i," ")]," ")}),InterfaceTypeDefinition:Tt(function(e){var n=e.name,r=e.interfaces,t=e.directives,i=e.fields;return Z(["interface",n,ke("implements ",Z(r," & ")),Z(t," "),Pt(i)]," ")}),UnionTypeDefinition:Tt(function(e){var n=e.name,r=e.directives,t=e.types;return Z(["union",n,Z(r," "),t&&t.length!==0?"= "+Z(t," | "):""]," ")}),EnumTypeDefinition:Tt(function(e){var n=e.name,r=e.directives,t=e.values;return Z(["enum",n,Z(r," "),Pt(t)]," ")}),EnumValueDefinition:Tt(function(e){var n=e.name,r=e.directives;return Z([n,Z(r," ")]," ")}),InputObjectTypeDefinition:Tt(function(e){var n=e.name,r=e.directives,t=e.fields;return Z(["input",n,Z(r," "),Pt(t)]," ")}),DirectiveDefinition:Tt(function(e){var n=e.name,r=e.arguments,t=e.repeatable,i=e.locations;return"directive @"+n+(q5(r)?ke(`(
`,fv(Z(r,`
`)),`
)`):ke("(",Z(r,", "),")"))+(t?" repeatable":"")+" on "+Z(i," | ")}),SchemaExtension:function(n){var r=n.directives,t=n.operationTypes;return Z(["extend schema",Z(r," "),Pt(t)]," ")},ScalarTypeExtension:function(n){var r=n.name,t=n.directives;return Z(["extend scalar",r,Z(t," ")]," ")},ObjectTypeExtension:function(n){var r=n.name,t=n.interfaces,i=n.directives,a=n.fields;return Z(["extend type",r,ke("implements ",Z(t," & ")),Z(i," "),Pt(a)]," ")},InterfaceTypeExtension:function(n){var r=n.name,t=n.interfaces,i=n.directives,a=n.fields;return Z(["extend interface",r,ke("implements ",Z(t," & ")),Z(i," "),Pt(a)]," ")},UnionTypeExtension:function(n){var r=n.name,t=n.directives,i=n.types;return Z(["extend union",r,Z(t," "),i&&i.length!==0?"= "+Z(i," | "):""]," ")},EnumTypeExtension:function(n){var r=n.name,t=n.directives,i=n.values;return Z(["extend enum",r,Z(t," "),Pt(i)]," ")},InputObjectTypeExtension:function(n){var r=n.name,t=n.directives,i=n.fields;return Z(["extend input",r,Z(t," "),Pt(i)]," ")}};function Tt(e){return function(n){return Z([n.description,e(n)],`
`)}}function Z(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(n=e?.filter(function(t){return t}).join(r))!==null&&n!==void 0?n:""}function Pt(e){return ke(`{
`,fv(Z(e,`
`)),`
}`)}function ke(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return n!=null&&n!==""?e+n+r:""}function fv(e){return ke("  ",e.replace(/\n/g,`
  `))}function Pxe(e){return e.indexOf(`
`)!==-1}function q5(e){return e!=null&&e.some(Pxe)}var _l=function(){return _l=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_l.apply(this,arguments)},Rxe=new q("AbstractPubSubProvider"),mv=function(){function e(n){n===void 0&&(n={}),this._config=n}return e.prototype.configure=function(n){return n===void 0&&(n={}),this._config=_l(_l({},n),this._config),Rxe.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return _l({},this._config)},enumerable:!0,configurable:!0}),e}();var V5=W($5()),K5=W(ps());var Oxe=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),pi=function(){return pi=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pi.apply(this,arguments)},mc=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},pc=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},H5=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},fc=new q("MqttOverWSProvider");function Mxe(e,n){for(var r=e.split("/"),t=r.length,i=n.split("/"),a=0;a<t;++a){var s=r[a],c=i[a];if(s==="#")return i.length>=t;if(s!=="+"&&s!==c)return!1}return t===i.length}var Dxe=function(){function e(){this.promises=new Map}return e.prototype.get=function(n,r){return mc(this,void 0,void 0,function(){var t;return pc(this,function(i){return t=this.promises.get(n),t?[2,t]:(t=r(n),this.promises.set(n,t),[2,t])})})},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(n){this.promises.delete(n)},e}(),G5=typeof Symbol<"u"?Symbol("topic"):"@@topic",J5=function(e){Oxe(n,e);function n(r){r===void 0&&(r={});var t=e.call(this,pi(pi({},r),{clientId:r.clientId||(0,K5.v4)()}))||this;return t._clientsQueue=new Dxe,t._topicObservers=new Map,t._clientIdObservers=new Map,t}return Object.defineProperty(n.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),n.prototype.getTopicForValue=function(r){return typeof r=="object"&&r[G5]},n.prototype.getProviderName=function(){return"MqttOverWSProvider"},n.prototype.onDisconnect=function(r){var t=this,i=r.clientId,a=r.errorCode,s=H5(r,["clientId","errorCode"]);if(a!==0){fc.warn(i,JSON.stringify(pi({errorCode:a},s),null,2));var c=[],d=this._clientIdObservers.get(i);if(!d)return;d.forEach(function(o){o.error("Disconnected, error code: "+a),t._topicObservers.forEach(function(l,f){l.delete(o),l.size===0&&c.push(f)})}),this._clientIdObservers.delete(i),c.forEach(function(o){t._topicObservers.delete(o)})}},n.prototype.newClient=function(r){var t=r.url,i=r.clientId;return mc(this,void 0,void 0,function(){var a,s=this;return pc(this,function(c){switch(c.label){case 0:return fc.debug("Creating new MQTT client",i),a=new V5.Client(t,i),a.onMessageArrived=function(d){var o=d.destinationName,l=d.payloadString;s._onMessage(o,l)},a.onConnectionLost=function(d){var o=d.errorCode,l=H5(d,["errorCode"]);s.onDisconnect(pi({clientId:i,errorCode:o},l))},[4,new Promise(function(d,o){a.connect({useSSL:s.isSSLEnabled,mqttVersion:3,onSuccess:function(){return d(a)},onFailure:o})})];case 1:return c.sent(),[2,a]}})})},n.prototype.connect=function(r,t){return t===void 0&&(t={}),mc(this,void 0,void 0,function(){var i=this;return pc(this,function(a){switch(a.label){case 0:return[4,this.clientsQueue.get(r,function(s){return i.newClient(pi(pi({},t),{clientId:s}))})];case 1:return[2,a.sent()]}})})},n.prototype.disconnect=function(r){return mc(this,void 0,void 0,function(){var t;return pc(this,function(i){switch(i.label){case 0:return[4,this.clientsQueue.get(r,function(){return null})];case 1:return t=i.sent(),t&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(r),[2]}})})},n.prototype.publish=function(r,t){return mc(this,void 0,void 0,function(){var i,a,s,c;return pc(this,function(d){switch(d.label){case 0:return i=[].concat(r),a=JSON.stringify(t),[4,this.endpoint];case 1:return s=d.sent(),[4,this.connect(this.clientId,{url:s})];case 2:return c=d.sent(),fc.debug("Publishing to topic(s)",i.join(","),a),i.forEach(function(o){return c.send(o,a)}),[2]}})})},n.prototype._onMessage=function(r,t){try{var i=[];this._topicObservers.forEach(function(s,c){Mxe(c,r)&&i.push(s)});var a=JSON.parse(t);typeof a=="object"&&(a[G5]=r),i.forEach(function(s){s.forEach(function(c){return c.next(a)})})}catch(s){fc.warn("Error handling message",s,t)}},n.prototype.subscribe=function(r,t){var i=this;t===void 0&&(t={});var a=[].concat(r);return fc.debug("Subscribing to topic(s)",a.join(",")),new xe(function(s){a.forEach(function(f){var m=i._topicObservers.get(f);m||(m=new Set,i._topicObservers.set(f,m)),m.add(s)});var c,d=t.clientId,o=d===void 0?i.clientId:d,l=i._clientIdObservers.get(o);return l||(l=new Set),l.add(s),i._clientIdObservers.set(o,l),function(){return mc(i,void 0,void 0,function(){var f,m,p,v;return pc(this,function(h){switch(h.label){case 0:return f=t.url,f!==void 0?[3,2]:[4,this.endpoint];case 1:return p=h.sent(),[3,3];case 2:p=f,h.label=3;case 3:m=p,h.label=4;case 4:return h.trys.push([4,6,,7]),[4,this.connect(o,{url:m})];case 5:return c=h.sent(),a.forEach(function(y){c.subscribe(y)}),[3,7];case 6:return v=h.sent(),s.error(v),[3,7];case 7:return[2]}})})}(),function(){return fc.debug("Unsubscribing from topic(s)",a.join(",")),c&&(i._clientIdObservers.get(o).delete(s),i._clientIdObservers.get(o).size===0&&(i.disconnect(o),i._clientIdObservers.delete(o)),a.forEach(function(f){var m=i._topicObservers.get(f)||new Set;m.delete(s),m.size===0&&(i._topicObservers.delete(f),c.isConnected()&&c.unsubscribe(f))})),null}})},n}(mv);var kxe=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),pv=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},vv=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},zxe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},vi=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Lxe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(vi(arguments[n]));return e},W5=new q("AWSAppSyncProvider"),X5=function(e){kxe(n,e);function n(){var r=e!==null&&e.apply(this,arguments)||this;return r._topicClient=new Map,r._topicAlias=new Map,r}return Object.defineProperty(n.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),n.prototype.getProviderName=function(){return"AWSAppSyncProvider"},n.prototype.publish=function(r,t,i){return pv(this,void 0,void 0,function(){return vv(this,function(a){throw new Error("Operation not supported")})})},n.prototype._cleanUp=function(r){var t=this,i=Array.from(this._topicClient.entries()).filter(function(a){var s=vi(a,2),c=s[1];return c.clientId===r}).map(function(a){var s=vi(a,1),c=s[0];return c});i.forEach(function(a){return t._cleanUpForTopic(a)})},n.prototype._cleanUpForTopic=function(r){this._topicClient.delete(r),this._topicAlias.delete(r)},n.prototype.onDisconnect=function(r){var t=this,i=r.clientId,a=r.errorCode,s=zxe(r,["clientId","errorCode"]);if(a!==0){var c=Array.from(this._topicClient.entries()).filter(function(d){var o=vi(d,2),l=o[1];return l.clientId===i}).map(function(d){var o=vi(d,1),l=o[0];return l});c.forEach(function(d){t._topicObservers.has(d)&&(t._topicObservers.get(d).forEach(function(o){o.closed||o.error(s)}),t._topicObservers.delete(d))}),this._cleanUp(i)}},n.prototype.disconnect=function(r){return pv(this,void 0,void 0,function(){var t;return vv(this,function(i){switch(i.label){case 0:return[4,this.clientsQueue.get(r,function(){return null})];case 1:return t=i.sent(),[4,e.prototype.disconnect.call(this,r)];case 2:return i.sent(),this._cleanUp(r),[2]}})})},n.prototype.subscribe=function(r,t){var i=this;t===void 0&&(t={});var a=new xe(function(s){var c=[].concat(r);return W5.debug("Subscribing to topic(s)",c.join(",")),function(){return pv(i,void 0,void 0,function(){var d,o,l,f,m,p=this;return vv(this,function(v){switch(v.label){case 0:return c.forEach(function(h){p._topicObservers.has(h)||p._topicObservers.set(h,new Set),p._topicObservers.get(h).add(s)}),d=t.mqttConnections,o=d===void 0?[]:d,l=t.newSubscriptions,f=Object.entries(l).map(function(h){var y=vi(h,2),g=y[0],w=y[1];return[w.topic,g]}),this._topicAlias=new Map(Lxe(Array.from(this._topicAlias.entries()),f)),m=Object.entries(c.reduce(function(h,y){var g=o.find(function(E){return E.topics.indexOf(y)>-1});if(g){var w=g.client,b=g.url;h[w]||(h[w]={url:b,topics:new Set}),h[w].topics.add(y)}return h},{})),[4,Promise.all(m.map(function(h){var y=vi(h,2),g=y[0],w=y[1],b=w.url,E=w.topics;return pv(p,void 0,void 0,function(){var S,A,I=this;return vv(this,function(P){switch(P.label){case 0:S=null,P.label=1;case 1:return P.trys.push([1,3,,4]),[4,this.connect(g,{clientId:g,url:b})];case 2:return S=P.sent(),[3,4];case 3:return A=P.sent(),s.error({message:"Failed to connect",error:A}),s.complete(),[2,void 0];case 4:return E.forEach(function(O){S.isConnected()&&(S.subscribe(O),I._topicClient.set(O,S))}),[2,S]}})})}))];case 1:return v.sent(),[2]}})})}(),function(){W5.debug("Unsubscribing from topic(s)",c.join(",")),c.forEach(function(d){var o=i._topicClient.get(d);o&&o.isConnected()&&(o.unsubscribe(d),i._topicClient.delete(d),Array.from(i._topicClient.values()).some(function(l){return l===o})||i.disconnect(o.clientId)),i._topicObservers.delete(d)})}});return xe.from(a).map(function(s){var c=i.getTopicForValue(s),d=i._topicAlias.get(c);return s.data=Object.entries(s.data).reduce(function(o,l){var f=vi(l,2),m=f[0],p=f[1];return o[d||m]=p,o},{}),s})},n}(J5);var Z5=W(as()),eJ=W(ps()),uE=W(Cs());var Bxe=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),Tr=function(){return Tr=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tr.apply(this,arguments)},lt=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},ut=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Uxe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},He=new q("AWSAppSyncRealTimeProvider"),Fxe=typeof Symbol<"u"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",jxe=function(e,n,r){ye.dispatch("api",{event:e,data:n,message:r},"PubSub",Fxe)},qxe=5e3,$xe=[400,401,403],It;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"})(It||(It={}));var hi;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(hi||(hi={}));var ft;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(ft||(ft={}));var Hxe={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Y5=15e3,Gxe=15e3,Q5=5*60*1e3,Vxe=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,Kxe="/realtime",nJ=function(e){Bxe(n,e);function n(){var r=e!==null&&e.apply(this,arguments)||this;return r.socketStatus=ft.CLOSED,r.keepAliveTimeout=Q5,r.subscriptionObserverMap=new Map,r.promiseArray=[],r}return n.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},n.prototype.newClient=function(){throw new Error("Not used here")},n.prototype.publish=function(r,t,i){return lt(this,void 0,void 0,function(){return ut(this,function(a){throw new Error("Operation not supported")})})},n.prototype.isCustomDomain=function(r){return r.match(Vxe)===null},n.prototype.subscribe=function(r,t){var i=this,a=t.appSyncGraphqlEndpoint;return new xe(function(s){if(!a)s.error({errors:[Tr({},new Ar("Subscribe only available for AWS AppSync endpoint"))]}),s.complete();else{var c=(0,eJ.v4)();return i._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:s,subscriptionId:c}).catch(function(d){s.error({errors:[Tr({},new Ar(In.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+d))]}),s.complete()}),function(){return lt(i,void 0,void 0,function(){var d,o;return ut(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(c)];case 1:if(l.sent(),d=(this.subscriptionObserverMap.get(c)||{}).subscriptionState,!d)return[2];if(d===hi.CONNECTED)this._sendUnsubscriptionMessage(c);else throw new Error("Subscription never connected");return[3,4];case 2:return o=l.sent(),He.debug("Error while unsubscribing "+o),[3,4];case 3:return this._removeSubscriptionObserver(c),[7];case 4:return[2]}})})}}})},Object.defineProperty(n.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),n.prototype._startSubscriptionWithAWSAppSyncRealTime=function(r){var t=r.options,i=r.observer,a=r.subscriptionId;return lt(this,void 0,void 0,function(){var s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x,T,M,D,B=this;return ut(this,function(j){switch(j.label){case 0:return s=t.appSyncGraphqlEndpoint,c=t.authenticationType,d=t.query,o=t.variables,l=t.apiKey,f=t.region,m=t.graphql_headers,p=m===void 0?function(){return{}}:m,v=t.additionalHeaders,h=v===void 0?{}:v,y=hi.PENDING,g={query:d,variables:o},this.subscriptionObserverMap.set(a,{observer:i,query:d,variables:o,subscriptionState:y,startAckTimeoutId:null}),w=JSON.stringify(g),E=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:l,appSyncGraphqlEndpoint:s,authenticationType:c,payload:w,canonicalUri:"",region:f,additionalHeaders:h})];case 1:return S=[Tr.apply(void 0,E.concat([j.sent()]))],[4,p()];case 2:b=Tr.apply(void 0,[Tr.apply(void 0,[Tr.apply(void 0,S.concat([j.sent()])),h]),(D={},D[e2]=Ji.userAgent,D)]),A={id:a,payload:{data:w,extensions:{authorization:Tr({},b)}},type:It.GQL_START},I=JSON.stringify(A),j.label=3;case 3:return j.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:l,appSyncGraphqlEndpoint:s,authenticationType:c,region:f,additionalHeaders:h})];case 4:return j.sent(),[3,6];case 5:return P=j.sent(),He.debug({err:P}),O=P.message,k=O===void 0?"":O,i.error({errors:[Tr({},new Ar(In.CONNECTION_FAILED+": "+k))]}),i.complete(),_=(this.subscriptionObserverMap.get(a)||{}).subscriptionFailedCallback,typeof _=="function"&&_(),[2];case 6:return x=this.subscriptionObserverMap.get(a),T=x.subscriptionFailedCallback,M=x.subscriptionReadyCallback,this.subscriptionObserverMap.set(a,{observer:i,subscriptionState:y,variables:o,query:d,subscriptionReadyCallback:M,subscriptionFailedCallback:T,startAckTimeoutId:setTimeout(function(){B._timeoutStartSubscriptionAck.call(B,a)},Gxe)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(I),[2]}})})},n.prototype._waitForSubscriptionToBeConnected=function(r){return lt(this,void 0,void 0,function(){var t,i=this;return ut(this,function(a){return t=this.subscriptionObserverMap.get(r).subscriptionState,t===hi.PENDING?[2,new Promise(function(s,c){var d=i.subscriptionObserverMap.get(r),o=d.observer,l=d.subscriptionState,f=d.variables,m=d.query;i.subscriptionObserverMap.set(r,{observer:o,subscriptionState:l,variables:f,query:m,subscriptionReadyCallback:s,subscriptionFailedCallback:c})})]:[2]})})},n.prototype._sendUnsubscriptionMessage=function(r){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===ft.READY){var t={id:r,type:It.GQL_STOP},i=JSON.stringify(t);this.awsRealTimeSocket.send(i)}}catch(a){He.debug({err:a})}},n.prototype._removeSubscriptionObserver=function(r){this.subscriptionObserverMap.delete(r),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},n.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=ft.CLOSED;return}if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{He.debug("closing WebSocket..."),clearTimeout(this.keepAliveTimeoutId);var r=this.awsRealTimeSocket;r.onclose=void 0,r.onerror=void 0,r.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=ft.CLOSED}}},n.prototype._handleIncomingSubscriptionMessage=function(r){He.debug("subscription message from AWS AppSync RealTime: "+r.data);var t=JSON.parse(r.data),i=t.id,a=i===void 0?"":i,s=t.payload,c=t.type,d=this.subscriptionObserverMap.get(a)||{},o=d.observer,l=o===void 0?null:o,f=d.query,m=f===void 0?"":f,p=d.variables,v=p===void 0?{}:p,h=d.startAckTimeoutId,y=d.subscriptionReadyCallback,g=d.subscriptionFailedCallback;if(He.debug({id:a,observer:l,query:m,variables:v}),c===It.GQL_DATA&&s&&s.data){l?l.next(s):He.debug("observer not found for id: "+a);return}if(c===It.GQL_START_ACK){He.debug("subscription ready for "+JSON.stringify({query:m,variables:v})),typeof y=="function"&&y(),clearTimeout(h),jxe(In.SUBSCRIPTION_ACK,{query:m,variables:v},"Connection established for subscription");var w=hi.CONNECTED;this.subscriptionObserverMap.set(a,{observer:l,query:m,variables:v,startAckTimeoutId:null,subscriptionState:w,subscriptionReadyCallback:y,subscriptionFailedCallback:g});return}if(c===It.GQL_CONNECTION_KEEP_ALIVE){clearTimeout(this.keepAliveTimeoutId),this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,In.TIMEOUT_DISCONNECT),this.keepAliveTimeout);return}if(c===It.GQL_ERROR){var w=hi.FAILED;this.subscriptionObserverMap.set(a,{observer:l,query:m,variables:v,startAckTimeoutId:h,subscriptionReadyCallback:y,subscriptionFailedCallback:g,subscriptionState:w}),l.error({errors:[Tr({},new Ar(In.CONNECTION_FAILED+": "+JSON.stringify(s)))]}),clearTimeout(h),l.complete(),typeof g=="function"&&g()}},n.prototype._errorDisconnect=function(r){He.debug("Disconnect error: "+r),this.subscriptionObserverMap.forEach(function(t){var i=t.observer;i&&!i.closed&&i.error({errors:[Tr({},new Ar(r))]})}),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=ft.CLOSED},n.prototype._timeoutStartSubscriptionAck=function(r){var t=this.subscriptionObserverMap.get(r)||{},i=t.observer,a=t.query,s=t.variables;i&&(this.subscriptionObserverMap.set(r,{observer:i,query:a,variables:s,subscriptionState:hi.FAILED}),i&&!i.closed&&(i.error({errors:[Tr({},new Ar("Subscription timeout "+JSON.stringify({query:a,variables:s})))]}),i.complete()),He.debug("timeoutStartSubscription",JSON.stringify({query:a,variables:s})))},n.prototype._initializeWebSocketConnection=function(r){var t=this,i=r.appSyncGraphqlEndpoint,a=r.authenticationType,s=r.apiKey,c=r.region,d=r.additionalHeaders;if(this.socketStatus!==ft.READY)return new Promise(function(o,l){return lt(t,void 0,void 0,function(){var f,m,p,v,h,y,g,w,b,E;return ut(this,function(S){switch(S.label){case 0:if(this.promiseArray.push({res:o,rej:l}),this.socketStatus!==ft.CLOSED)return[3,5];S.label=1;case 1:return S.trys.push([1,4,,5]),this.socketStatus=ft.CONNECTING,f="{}",v=(p=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:a,payload:f,canonicalUri:"/connect",apiKey:s,appSyncGraphqlEndpoint:i,region:c,additionalHeaders:d})];case 2:return m=v.apply(p,[S.sent()]),h=uE.Buffer.from(m).toString("base64"),y=uE.Buffer.from(f).toString("base64"),g=i,this.isCustomDomain(g)?g=g.concat(Kxe):g=g.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),w=this.isSSLEnabled?"wss://":"ws://",g=g.replace("https://",w).replace("http://",w),b=g+"?header="+h+"&payload="+y,[4,this._initializeRetryableHandshake({awsRealTimeUrl:b})];case 3:return S.sent(),this.promiseArray.forEach(function(A){var I=A.res;He.debug("Notifying connection successful"),I()}),this.socketStatus=ft.READY,this.promiseArray=[],[3,5];case 4:return E=S.sent(),this.promiseArray.forEach(function(A){var I=A.rej;return I(E)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=ft.CLOSED,[3,5];case 5:return[2]}})})})},n.prototype._initializeRetryableHandshake=function(r){var t=r.awsRealTimeUrl;return lt(this,void 0,void 0,function(){return ut(this,function(i){switch(i.label){case 0:return He.debug("Initializaling retryable Handshake"),[4,Va(this._initializeHandshake.bind(this),[{awsRealTimeUrl:t}],qxe)];case 1:return i.sent(),[2]}})})},n.prototype._initializeHandshake=function(r){var t=r.awsRealTimeUrl;return lt(this,void 0,void 0,function(){var i,a,s,c=this;return ut(this,function(d){switch(d.label){case 0:He.debug("Initializing handshake "+t),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,function(){return new Promise(function(o,l){var f=new WebSocket(t,"graphql-ws");f.onerror=function(){He.debug("WebSocket connection error")},f.onclose=function(){l(new Error("Connection handshake error"))},f.onopen=function(){return c.awsRealTimeSocket=f,o()}})}()];case 2:return d.sent(),[4,function(){return new Promise(function(o,l){var f=!1;c.awsRealTimeSocket.onerror=function(v){He.debug("WebSocket error "+JSON.stringify(v))},c.awsRealTimeSocket.onclose=function(v){He.debug("WebSocket closed "+v.reason),l(new Error(JSON.stringify(v)))},c.awsRealTimeSocket.onmessage=function(v){He.debug("subscription message from AWS AppSyncRealTime: "+v.data+" ");var h=JSON.parse(v.data),y=h.type,g=h.payload,w=(g===void 0?{}:g).connectionTimeoutMs,b=w===void 0?Q5:w;if(y===It.GQL_CONNECTION_ACK){f=!0,c.keepAliveTimeout=b,c.awsRealTimeSocket.onmessage=c._handleIncomingSubscriptionMessage.bind(c),c.awsRealTimeSocket.onerror=function(T){He.debug(T),c._errorDisconnect(In.CONNECTION_CLOSED)},c.awsRealTimeSocket.onclose=function(T){He.debug("WebSocket closed "+T.reason),c._errorDisconnect(In.CONNECTION_CLOSED)},o("Cool, connected to AWS AppSyncRealTime");return}if(y===It.GQL_CONNECTION_ERROR){var E=h.payload,S=(E===void 0?{}:E).errors,A=Uxe(S===void 0?[]:S,1),I=A[0],P=I===void 0?{}:I,O=P.errorType,k=O===void 0?"":O,_=P.errorCode,x=_===void 0?0:_;l({errorType:k,errorCode:x})}};var m={type:It.GQL_CONNECTION_INIT};c.awsRealTimeSocket.send(JSON.stringify(m));function p(){f||l(new Error("Connection timeout: ack from AWSRealTime was not received on "+Y5+" ms"))}setTimeout(p.bind(c),Y5)})}()];case 3:return d.sent(),[3,5];case 4:throw i=d.sent(),a=i.errorType,s=i.errorCode,$xe.includes(s)?new yn(a):a?new Error(a):i;case 5:return[2]}})})},n.prototype._awsRealTimeHeaderBasedAuth=function(r){var t=r.authenticationType,i=r.payload,a=r.canonicalUri,s=r.appSyncGraphqlEndpoint,c=r.apiKey,d=r.region,o=r.additionalHeaders;return lt(this,void 0,void 0,function(){var l,f,m,p;return ut(this,function(v){switch(v.label){case 0:return l={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},f=l[t],typeof f!="function"?(He.debug("Authentication type "+t+" not supported"),[2,""]):(m=Z5.parse(s).host,[4,f({payload:i,canonicalUri:a,appSyncGraphqlEndpoint:s,apiKey:c,region:d,host:m,additionalHeaders:o})]);case 1:return p=v.sent(),[2,p]}})})},n.prototype._awsRealTimeCUPHeader=function(r){var t=r.host;return lt(this,void 0,void 0,function(){var i;return ut(this,function(a){switch(a.label){case 0:return[4,st.currentSession()];case 1:return i=a.sent(),[2,{Authorization:i.getAccessToken().getJwtToken(),host:t}]}})})},n.prototype._awsRealTimeOPENIDHeader=function(r){var t=r.host;return lt(this,void 0,void 0,function(){var i,a,s;return ut(this,function(c){switch(c.label){case 0:return[4,fn.getItem("federatedInfo")];case 1:return a=c.sent(),a?(i=a.token,[3,4]):[3,2];case 2:return[4,st.currentAuthenticatedUser()];case 3:s=c.sent(),s&&(i=s.token),c.label=4;case 4:if(!i)throw new Error("No federated jwt");return[2,{Authorization:i,host:t}]}})})},n.prototype._awsRealTimeApiKeyHeader=function(r){var t=r.apiKey,i=r.host;return lt(this,void 0,void 0,function(){var a,s;return ut(this,function(c){return a=new Date,s=a.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:i,"x-amz-date":s,"x-api-key":t}]})})},n.prototype._awsRealTimeIAMHeader=function(r){var t=r.payload,i=r.canonicalUri,a=r.appSyncGraphqlEndpoint,s=r.region;return lt(this,void 0,void 0,function(){var c,d,o,l,f;return ut(this,function(m){switch(m.label){case 0:return c={region:s,service:"appsync"},[4,this._ensureCredentials()];case 1:if(d=m.sent(),!d)throw new Error("No credentials");return[4,ie.get().then(function(p){return{secret_key:p.secretAccessKey,access_key:p.accessKeyId,session_token:p.sessionToken}})];case 2:return o=m.sent(),l={url:""+a+i,data:t,method:"POST",headers:Tr({},Hxe)},f=yt.sign(l,o,c),[2,f.headers]}})})},n.prototype._customAuthHeader=function(r){var t=r.host,i=r.additionalHeaders;if(!i.Authorization)throw new Error("No auth token specified");return{Authorization:i.Authorization,host:t}},n.prototype._ensureCredentials=function(){return ie.get().then(function(r){if(!r)return!1;var t=ie.shear(r);return He.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0}).catch(function(r){return He.warn("ensure credentials error",r),!1})},n}(mv);var rJ=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},tJ=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Jxe=cn().isNode,fE=new q("PubSub"),Wxe=function(){function e(n){this._options=n,fE.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new X5(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new nJ(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(n){var r=this,t=n?n.PubSub||n:{};return fE.debug("configure PubSub",{opt:t}),this._options=Object.assign({},this._options,t),this._pluggables.map(function(i){return i.configure(r._options)}),this._options},e.prototype.addPluggable=function(n){return rJ(this,void 0,void 0,function(){var r;return tJ(this,function(t){return n&&n.getCategory()==="PubSub"?(this._pluggables.push(n),r=n.configure(this._options),[2,r]):[2]})})},e.prototype.removePluggable=function(n){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==n})},e.prototype.getProviderByName=function(n){return n===ZR?this.awsAppSyncProvider:n===Af?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(r){return r.getProviderName()===n})},e.prototype.getProviders=function(n){n===void 0&&(n={});var r=n.provider;if(!r)return this._pluggables;var t=this.getProviderByName(r);if(!t)throw new Error("Could not find provider named "+r);return[t]},e.prototype.publish=function(n,r,t){return rJ(this,void 0,void 0,function(){return tJ(this,function(i){return[2,Promise.all(this.getProviders(t).map(function(a){return a.publish(n,r,t)}))]})})},e.prototype.subscribe=function(n,r){if(Jxe&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");fE.debug("subscribe options",r);var t=this.getProviders(r);return new xe(function(i){var a=t.map(function(c){return{provider:c,observable:c.subscribe(n,r)}}),s=a.map(function(c){var d=c.provider,o=c.observable;return o.subscribe({start:console.error,next:function(l){return i.next({provider:d,value:l})},error:function(l){return i.error({provider:d,error:l})}})});return function(){return s.forEach(function(c){return c.unsubscribe()})}})},e}();var xl=new Wxe(null);se.register(xl);var In;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(In||(In={}));var hv=xl;var ze;(function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"})(ze||(ze={}));var $r;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})($r||($r={}));var Pa=function(){return Pa=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pa.apply(this,arguments)},aJ=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},iJ=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Xxe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},oJ=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},Yxe="x-amz-user-agent",bo=new q("GraphQLAPI"),yv=function(e,n,r){return n===void 0&&(n={}),{query:e,variables:n,authToken:r}},gv=function(){function e(n){this._api=null,this.Auth=st,this.Cache=fn,this.Credentials=ie,this._options=n,bo.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(n){var r=n||{},t=r.API,i=t===void 0?{}:t,a=Xxe(r,["API"]),s=Pa(Pa({},a),i);return bo.debug("configure GraphQL API",{opt:s}),s.aws_project_region&&(s=Object.assign({},s,{region:s.aws_project_region,header:{}})),typeof s.graphql_headers<"u"&&typeof s.graphql_headers!="function"&&(bo.warn("graphql_headers should be a function"),s.graphql_headers=void 0),this._options=Object.assign({},this._options,s),this.createInstance(),this._options},e.prototype.createInstance=function(){return bo.debug("create Rest instance"),this._options?(this._api=new vl(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(n,r){return r===void 0&&(r={}),aJ(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h;return iJ(this,function(y){switch(y.label){case 0:switch(t=this._options,i=t.aws_appsync_authenticationType,a=t.aws_appsync_apiKey,s=n||i||"AWS_IAM",c={},d=s,d){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!a)throw new Error($r.NO_API_KEY);return c={Authorization:null,"X-Api-Key":a},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(o=y.sent(),!o)throw new Error($r.NO_CREDENTIALS);return[3,17];case 4:return y.trys.push([4,9,,10]),l=void 0,[4,fn.getItem("federatedInfo")];case 5:return f=y.sent(),f?(l=f.token,[3,8]):[3,6];case 6:return[4,st.currentAuthenticatedUser()];case 7:m=y.sent(),m&&(l=m.token),y.label=8;case 8:if(!l)throw new Error($r.NO_FEDERATED_JWT);return c={Authorization:l},[3,10];case 9:throw p=y.sent(),new Error($r.NO_CURRENT_USER);case 10:return[3,17];case 11:return y.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return v=y.sent(),c={Authorization:v.getAccessToken().getJwtToken()},[3,14];case 13:throw h=y.sent(),new Error($r.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!r.Authorization)throw new Error($r.NO_AUTH_TOKEN);return c={Authorization:r.Authorization},[3,17];case 16:return c={Authorization:null},[3,17];case 17:return[2,c]}})})},e.prototype.getGraphqlOperationType=function(n){var r=lc(n),t=r.definitions,i=oJ(t,1),a=i[0].operation;return a},e.prototype.graphql=function(n,r){var t=n.query,i=n.variables,a=i===void 0?{}:i,s=n.authMode,c=n.authToken,d=typeof t=="string"?lc(t):lc(uc(t)),o=oJ(d.definitions.filter(function(g){return g.kind==="OperationDefinition"}),1),l=o[0],f=l===void 0?{}:l,m=f.operation,p=r||{};switch(c&&(p.Authorization=c),m){case"query":case"mutation":var v=this._api.getCancellableToken(),h={cancellableToken:v},y=this._graphql({query:d,variables:a,authMode:s},p,h);return this._api.updateRequestToBeCancellable(y,v),y;case"subscription":return this._graphqlSubscribe({query:d,variables:a,authMode:s},p)}throw new Error("invalid operation type: "+m)},e.prototype._graphql=function(n,r,t){var i=n.query,a=n.variables,s=n.authMode;return r===void 0&&(r={}),t===void 0&&(t={}),aJ(this,void 0,void 0,function(){var c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x;return iJ(this,function(T){switch(T.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:T.sent(),T.label=2;case 2:return c=this._options,d=c.aws_appsync_region,o=c.aws_appsync_graphqlEndpoint,l=c.graphql_headers,f=l===void 0?function(){return{}}:l,m=c.graphql_endpoint,p=c.graphql_endpoint_iam_region,h=[{}],y=!m,y?[4,this._headerBasedAuth(s,r)]:[3,4];case 3:y=T.sent(),T.label=4;case 4:return g=[Pa.apply(void 0,h.concat([y]))],w=m,w?p?[4,this._headerBasedAuth(s,r)]:[3,6]:[3,8];case 5:return b=T.sent(),[3,7];case 6:b={Authorization:null},T.label=7;case 7:w=b,T.label=8;case 8:return E=[Pa.apply(void 0,g.concat([w]))],[4,f({query:i,variables:a})];case 9:if(v=Pa.apply(void 0,[Pa.apply(void 0,[Pa.apply(void 0,E.concat([T.sent()])),r]),!m&&(x={},x[Yxe]=Ji.userAgent,x)]),S={query:uc(i),variables:a},A=Object.assign({headers:v,body:S,signerServiceInfo:{service:m?"execute-api":"appsync",region:m?p:d}},t),I=m||o,!I)throw P=new Ar("No graphql endpoint provided."),{data:{},errors:[P]};T.label=10;case 10:return T.trys.push([10,12,,13]),[4,this._api.post(I,A)];case 11:return O=T.sent(),[3,13];case 12:if(k=T.sent(),this._api.isCancel(k))throw k;return O={data:{},errors:[new Ar(k.message,null,null,null,null,k)]},[3,13];case 13:if(_=O.errors,_&&_.length)throw O;return[2,O]}})})},e.prototype.isCancel=function(n){return this._api.isCancel(n)},e.prototype.cancel=function(n,r){return this._api.cancel(n,r)},e.prototype._graphqlSubscribe=function(n,r){var t=n.query,i=n.variables,a=n.authMode,s=n.authToken;r===void 0&&(r={});var c=this._options,d=c.aws_appsync_region,o=c.aws_appsync_graphqlEndpoint,l=c.aws_appsync_authenticationType,f=c.aws_appsync_apiKey,m=c.graphql_headers,p=m===void 0?function(){return{}}:m,v=a||l||"AWS_IAM";if(hv&&typeof hv.subscribe=="function")return hv.subscribe("",{provider:Af,appSyncGraphqlEndpoint:o,authenticationType:v,apiKey:f,query:uc(t),region:d,variables:i,graphql_headers:p,additionalHeaders:r,authToken:s});throw bo.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var n=this;return this.Credentials.get().then(function(r){if(!r)return!1;var t=n.Credentials.shear(r);return bo.debug("set credentials for api",t),!0}).catch(function(r){return bo.warn("ensure credentials error",r),!1})},e}();var mE=new gv(null);se.register(mE);var wv=function(){return wv=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wv.apply(this,arguments)},Qxe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Zxe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},eCe=new q("API"),bv=function(){function e(n){this.Auth=zr,this.Cache=fn,this.Credentials=ie,this._options=n,this._restApi=new Zp(n),this._graphqlApi=new gv(n),eCe.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(n){this._options=Object.assign({},this._options,n),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var r=this._restApi.configure(this._options),t=this._graphqlApi.configure(this._options);return wv(wv({},r),t)},e.prototype.get=function(n,r,t){return this._restApi.get(n,r,t)},e.prototype.post=function(n,r,t){return this._restApi.post(n,r,t)},e.prototype.put=function(n,r,t){return this._restApi.put(n,r,t)},e.prototype.patch=function(n,r,t){return this._restApi.patch(n,r,t)},e.prototype.del=function(n,r,t){return this._restApi.del(n,r,t)},e.prototype.head=function(n,r,t){return this._restApi.head(n,r,t)},e.prototype.isCancel=function(n){return this._restApi.isCancel(n)},e.prototype.cancel=function(n,r){return this._restApi.cancel(n,r)},e.prototype.endpoint=function(n){return Qxe(this,void 0,void 0,function(){return Zxe(this,function(r){return[2,this._restApi.endpoint(n)]})})},e.prototype.getGraphqlOperationType=function(n){return this._graphqlApi.getGraphqlOperationType(n)},e.prototype.graphql=function(n,r){return this._graphqlApi.graphql(n,r)},e}();var vc=new bv(null);se.register(vc);var Ia=vc;function or(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];if(0)var i,a;throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _o(e){return!!e&&!!e[Hr]}function yi(e){return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return t===Object||typeof t=="function"&&Function.toString.call(t)===cCe}(e)||Array.isArray(e)||!!e[hc]||!!e.constructor[hc]||Tv(e)||Pv(e))}function yc(e,n,r){r===void 0&&(r=!1),gi(e)===0?(r?Object.keys:TE)(e).forEach(function(t){r&&typeof t=="symbol"||n(t,e[t],e)}):e.forEach(function(t,i){return n(i,t,e)})}function gi(e){var n=e[Hr];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:Tv(e)?2:Pv(e)?3:0}function Cl(e,n){return gi(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function Ev(e,n){return gi(e)===2?e.get(n):e[n]}function pJ(e,n,r){var t=gi(e);t===2?e.set(n,r):t===3?(e.delete(n),e.add(r)):e[n]=r}function nCe(e,n){return e===n?e!==0||1/e==1/n:e!=e&&n!=n}function Tv(e){return oCe&&e instanceof Map}function Pv(e){return sCe&&e instanceof Set}function Eo(e){return e.o||e.t}function _E(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=dCe(e);delete n[Hr];for(var r=TE(n),t=0;t<r.length;t++){var i=r[t],a=n[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),n)}function SE(e,n){return n===void 0&&(n=!1),xE(e)||_o(e)||!yi(e)||(gi(e)>1&&(e.set=e.add=e.clear=e.delete=rCe),Object.freeze(e),n&&yc(e,function(r,t){return SE(t,!0)},!0)),e}function rCe(){or(2)}function xE(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Na(e){var n=EE[e];return n||or(18,e),n}function tCe(e,n){EE[e]||(EE[e]=n)}function sJ(){return Al}function pE(e,n){n&&(Na("Patches"),e.u=[],e.s=[],e.v=n)}function xv(e){gE(e),e.p.forEach(aCe),e.p=null}function gE(e){e===Al&&(Al=e.l)}function cJ(e){return Al={p:[],l:Al,h:e,m:!0,_:0}}function aCe(e){var n=e[Hr];n.i===0||n.i===1?n.j():n.O=!0}function vE(e,n){n._=n.p.length;var r=n.p[0],t=e!==void 0&&e!==r;return n.h.g||Na("ES5").S(n,e,t),t?(r[Hr].P&&(xv(n),or(4)),yi(e)&&(e=Cv(n,e),n.l||Av(n,e)),n.u&&Na("Patches").M(r[Hr],e,n.u,n.s)):e=Cv(n,r,[]),xv(n),n.u&&n.v(n.u,n.s),e!==AE?e:void 0}function Cv(e,n,r){if(xE(n))return n;var t=n[Hr];if(!t)return yc(n,function(a,s){return dJ(e,t,n,a,s,r)},!0),n;if(t.A!==e)return n;if(!t.P)return Av(e,t.t,!0),t.t;if(!t.I){t.I=!0,t.A._--;var i=t.i===4||t.i===5?t.o=_E(t.k):t.o;yc(t.i===3?new Set(i):i,function(a,s){return dJ(e,t,i,a,s,r)}),Av(e,i,!1),r&&e.u&&Na("Patches").R(t,r,e.u,e.s)}return t.o}function dJ(e,n,r,t,i,a){if(_o(i)){var s=Cv(e,i,a&&n&&n.i!==3&&!Cl(n.D,t)?a.concat(t):void 0);if(pJ(r,t,s),!_o(s))return;e.m=!1}if(yi(i)&&!xE(i)){if(!e.h.F&&e._<1)return;Cv(e,i),n&&n.A.l||Av(e,i)}}function Av(e,n,r){r===void 0&&(r=!1),e.h.F&&e.m&&SE(n,r)}function hE(e,n){var r=e[Hr];return(r?Eo(r):e)[n]}function lJ(e,n){if(n in e)for(var r=Object.getPrototypeOf(e);r;){var t=Object.getOwnPropertyDescriptor(r,n);if(t)return t;r=Object.getPrototypeOf(r)}}function wE(e){e.P||(e.P=!0,e.l&&wE(e.l))}function yE(e){e.o||(e.o=_E(e.t))}function bE(e,n,r){var t=Tv(n)?Na("MapSet").N(n,r):Pv(n)?Na("MapSet").T(n,r):e.g?function(i,a){var s=Array.isArray(i),c={i:s?1:0,A:a?a.A:sJ(),P:!1,I:!1,D:{},l:a,t:i,k:null,o:null,j:null,C:!1},d=c,o=_v;s&&(d=[c],o=Sv);var l=Proxy.revocable(d,o),f=l.revoke,m=l.proxy;return c.k=m,c.j=f,m}(n,r):Na("ES5").J(n,r);return(r?r.A:sJ()).p.push(t),t}function iCe(e){return _o(e)||or(22,e),function n(r){if(!yi(r))return r;var t,i=r[Hr],a=gi(r);if(i){if(!i.P&&(i.i<4||!Na("ES5").K(i)))return i.t;i.I=!0,t=uJ(r,a),i.I=!1}else t=uJ(r,a);return yc(t,function(s,c){i&&Ev(i.t,s)===c||pJ(t,s,n(c))}),a===3?new Set(t):t}(e)}function uJ(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return _E(e)}function vJ(){function e(t){if(!yi(t))return t;if(Array.isArray(t))return t.map(e);if(Tv(t))return new Map(Array.from(t.entries()).map(function(s){return[s[0],e(s[1])]}));if(Pv(t))return new Set(Array.from(t).map(e));var i=Object.create(Object.getPrototypeOf(t));for(var a in t)i[a]=e(t[a]);return Cl(t,hc)&&(i[hc]=t[hc]),i}function n(t){return _o(t)?e(t):t}var r="add";tCe("Patches",{$:function(t,i){return i.forEach(function(a){for(var s=a.path,c=a.op,d=t,o=0;o<s.length-1;o++){var l=gi(d),f=""+s[o];l!==0&&l!==1||f!=="__proto__"&&f!=="constructor"||or(24),typeof d=="function"&&f==="prototype"&&or(24),typeof(d=Ev(d,f))!="object"&&or(15,s.join("/"))}var m=gi(d),p=e(a.value),v=s[s.length-1];switch(c){case"replace":switch(m){case 2:return d.set(v,p);case 3:or(16);default:return d[v]=p}case r:switch(m){case 1:return d.splice(v,0,p);case 2:return d.set(v,p);case 3:return d.add(p);default:return d[v]=p}case"remove":switch(m){case 1:return d.splice(v,1);case 2:return d.delete(v);case 3:return d.delete(a.value);default:return delete d[v]}default:or(17,c)}}),t},R:function(t,i,a,s){switch(t.i){case 0:case 4:case 2:return function(c,d,o,l){var f=c.t,m=c.o;yc(c.D,function(p,v){var h=Ev(f,p),y=Ev(m,p),g=v?Cl(f,p)?"replace":r:"remove";if(h!==y||g!=="replace"){var w=d.concat(p);o.push(g==="remove"?{op:g,path:w}:{op:g,path:w,value:y}),l.push(g===r?{op:"remove",path:w}:g==="remove"?{op:r,path:w,value:n(h)}:{op:"replace",path:w,value:n(h)})}})}(t,i,a,s);case 5:case 1:return function(c,d,o,l){var f=c.t,m=c.D,p=c.o;if(p.length<f.length){var v=[p,f];f=v[0],p=v[1];var h=[l,o];o=h[0],l=h[1]}for(var y=0;y<f.length;y++)if(m[y]&&p[y]!==f[y]){var g=d.concat([y]);o.push({op:"replace",path:g,value:n(p[y])}),l.push({op:"replace",path:g,value:n(f[y])})}for(var w=f.length;w<p.length;w++){var b=d.concat([w]);o.push({op:r,path:b,value:n(p[w])})}f.length<p.length&&l.push({op:"replace",path:d.concat(["length"]),value:f.length})}(t,i,a,s);case 3:return function(c,d,o,l){var f=c.t,m=c.o,p=0;f.forEach(function(v){if(!m.has(v)){var h=d.concat([p]);o.push({op:"remove",path:h,value:v}),l.unshift({op:r,path:h,value:v})}p++}),p=0,m.forEach(function(v){if(!f.has(v)){var h=d.concat([p]);o.push({op:r,path:h,value:v}),l.unshift({op:"remove",path:h,value:v})}p++})}(t,i,a,s)}},M:function(t,i,a,s){a.push({op:"replace",path:[],value:i===AE?void 0:i}),s.push({op:"replace",path:[],value:t.t})}})}var fJ,Al,CE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",oCe=typeof Map<"u",sCe=typeof Set<"u",mJ=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",AE=CE?Symbol.for("immer-nothing"):((fJ={})["immer-nothing"]=!0,fJ),hc=CE?Symbol.for("immer-draftable"):"__$immer_draftable",Hr=CE?Symbol.for("immer-state"):"__$immer_state";var cCe=""+Object.prototype.constructor,TE=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,dCe=Object.getOwnPropertyDescriptors||function(e){var n={};return TE(e).forEach(function(r){n[r]=Object.getOwnPropertyDescriptor(e,r)}),n},EE={},_v={get:function(e,n){if(n===Hr)return e;var r=Eo(e);if(!Cl(r,n))return function(i,a,s){var c,d=lJ(a,s);return d?"value"in d?d.value:(c=d.get)===null||c===void 0?void 0:c.call(i.k):void 0}(e,r,n);var t=r[n];return e.I||!yi(t)?t:t===hE(e.t,n)?(yE(e),e.o[n]=bE(e.A.h,t,e)):t},has:function(e,n){return n in Eo(e)},ownKeys:function(e){return Reflect.ownKeys(Eo(e))},set:function(e,n,r){var t=lJ(Eo(e),n);if(t?.set)return t.set.call(e.k,r),!0;if(!e.P){var i=hE(Eo(e),n),a=i?.[Hr];if(a&&a.t===r)return e.o[n]=r,e.D[n]=!1,!0;if(nCe(r,i)&&(r!==void 0||Cl(e.t,n)))return!0;yE(e),wE(e)}return e.o[n]===r&&typeof r!="number"&&(r!==void 0||n in e.o)||(e.o[n]=r,e.D[n]=!0,!0)},deleteProperty:function(e,n){return hE(e.t,n)!==void 0||n in e.t?(e.D[n]=!1,yE(e),wE(e)):delete e.D[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var r=Eo(e),t=Reflect.getOwnPropertyDescriptor(r,n);return t&&{writable:!0,configurable:e.i!==1||n!=="length",enumerable:t.enumerable,value:r[n]}},defineProperty:function(){or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){or(12)}},Sv={};yc(_v,function(e,n){Sv[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),Sv.deleteProperty=function(e,n){return _v.deleteProperty.call(this,e[0],n)},Sv.set=function(e,n,r){return _v.set.call(this,e[0],n,r,e[0])};var lCe=function(){function e(r){var t=this;this.g=mJ,this.F=!0,this.produce=function(i,a,s){if(typeof i=="function"&&typeof a!="function"){var c=a;a=i;var d=t;return function(p){var v=this;p===void 0&&(p=c);for(var h=arguments.length,y=Array(h>1?h-1:0),g=1;g<h;g++)y[g-1]=arguments[g];return d.produce(p,function(w){var b;return(b=a).call.apply(b,[v,w].concat(y))})}}var o;if(typeof a!="function"&&or(6),s!==void 0&&typeof s!="function"&&or(7),yi(i)){var l=cJ(t),f=bE(t,i,void 0),m=!0;try{o=a(f),m=!1}finally{m?xv(l):gE(l)}return typeof Promise<"u"&&o instanceof Promise?o.then(function(p){return pE(l,s),vE(p,l)},function(p){throw xv(l),p}):(pE(l,s),vE(o,l))}if(!i||typeof i!="object")return(o=a(i))===AE?void 0:(o===void 0&&(o=i),t.F&&SE(o,!0),o);or(21,i)},this.produceWithPatches=function(i,a){return typeof i=="function"?function(d){for(var o=arguments.length,l=Array(o>1?o-1:0),f=1;f<o;f++)l[f-1]=arguments[f];return t.produceWithPatches(d,function(m){return i.apply(void 0,[m].concat(l))})}:[t.produce(i,a,function(d,o){s=d,c=o}),s,c];var s,c},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var n=e.prototype;return n.createDraft=function(r){yi(r)||or(8),_o(r)&&(r=iCe(r));var t=cJ(this),i=bE(this,r,void 0);return i[Hr].C=!0,gE(t),i},n.finishDraft=function(r,t){var i=r&&r[Hr],a=i.A;return pE(a,t),vE(void 0,a)},n.setAutoFreeze=function(r){this.F=r},n.setUseProxies=function(r){r&&!mJ&&or(20),this.g=r},n.applyPatches=function(r,t){var i;for(i=t.length-1;i>=0;i--){var a=t[i];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}var s=Na("Patches").$;return _o(r)?s(r,t):this.produce(r,function(c){return s(c,t.slice(i+1))})},e}(),Gr=new lCe,uCe=Gr.produce,IXe=Gr.produceWithPatches.bind(Gr),hJ=Gr.setAutoFreeze.bind(Gr),NXe=Gr.setUseProxies.bind(Gr),RXe=Gr.applyPatches.bind(Gr),OXe=Gr.createDraft.bind(Gr),MXe=Gr.finishDraft.bind(Gr);var TAe=W(LE());var Iv=function(){return[]};var FJ=W(Cs());function gc(e){var n=new Error(e);return n.source="ulid",n}var wc="0123456789ABCDEFGHJKMNPQRSTVWXYZ",bc=wc.length,PJ=Math.pow(2,48)-1,BE=10,NJ=16;function IJ(e,n,r){return n>e.length-1?e:e.substr(0,n)+r+e.substr(n+1)}function bCe(e){for(var n=void 0,r=e.length,t=void 0,i=void 0,a=bc-1;!n&&r-->=0;){if(t=e[r],i=wc.indexOf(t),i===-1)throw gc("incorrectly encoded string");if(i===a){e=IJ(e,r,wc[0]);continue}n=IJ(e,r,wc[i+1])}if(typeof n=="string")return n;throw gc("cannot increment this string")}function ECe(e){var n=Math.floor(e()*bc);return n===bc&&(n=bc-1),wc.charAt(n)}function UE(e,n){if(isNaN(e))throw new Error(e+" must be a number");if(e>PJ)throw gc("cannot encode time greater than "+PJ);if(e<0)throw gc("time must be positive");if(Number.isInteger(e)===!1)throw gc("time must be an integer");for(var r=void 0,t="";n>0;n--)r=e%bc,t=wc.charAt(r)+t,e=(e-r)/bc;return t}function RJ(e,n){for(var r="";e>0;e--)r=ECe(n)+r;return r}function OJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments[1];n||(n=typeof window<"u"?window:null);var r=n&&(n.crypto||n.msCrypto);if(r)return function(){var i=new Uint8Array(1);return r.getRandomValues(i),i[0]/255};try{var t=TJ();return function(){return t.randomBytes(1).readUInt8()/255}}catch{}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return function(){return Math.random()}}throw gc("secure crypto unusable, insecure Math.random not allowed")}function _Ce(e){return e||(e=OJ()),function(r){return isNaN(r)&&(r=Date.now()),UE(r,BE)+RJ(NJ,e)}}function MJ(e){e||(e=OJ());var n=0,r=void 0;return function(i){if(isNaN(i)&&(i=Date.now()),i<=n){var a=r=bCe(r);return UE(n,BE)+a}n=i;var s=r=RJ(NJ,e);return UE(i,BE)+s}}var $Xe=_Ce();var jJ=W(LE());var zJ=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},LJ=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},BJ=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},DJ=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(BJ(arguments[n]));return e},UJ=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Le=function(e,n){if(n===void 0&&(n=!0),n)throw new Error("Invalid "+e)},Rv=function(e){return typeof e>"u"||e===void 0||e===null},Vr=function(e,n,r){var t,i=!1;if(r.length===0)return!0;switch(n){case"not":t="every",i=!0;break;case"and":t="every";break;case"or":t="some";break;default:Le(n)}var a=r[t](function(s){if(Ma(s)){var c=s.field,d=s.operator,o=s.operand,l=e[c];return SCe(l,d,o)}if(ZJ(s)){var f=s.type,m=s.predicates;return Vr(e,f,m)}throw new Error("Not a predicate or group")});return i?!a:a},SCe=function(e,n,r){switch(n){case"ne":return e!==r;case"eq":return e===r;case"le":return e<=r;case"lt":return e<r;case"ge":return e>=r;case"gt":return e>r;case"between":var t=BJ(r,2),i=t[0],a=t[1];return e>=i&&e<=a;case"beginsWith":return!Rv(e)&&e.startsWith(r);case"contains":return!Rv(e)&&e.indexOf(r)>-1;case"notContains":return Rv(e)||e.indexOf(r)===-1;default:return Le(n,!1),!1}},ra=function(e){return e&&typeof e.copyOf=="function"};var FE=new WeakMap,_c=function(e,n,r,t,i){var a=r.relationships,s=i(r.name,e),c=a[e],d=[],o=s.copyOf(n,function(f){c.relationTypes.forEach(function(m){var p=i(r.name,m.modelName);switch(m.relationType){case"HAS_ONE":if(n[m.fieldName]){var v=void 0;try{v=t(p,n[m.fieldName])}catch(y){console.log(y)}d.push({modelName:m.modelName,item:n[m.fieldName],instance:v}),m.targetName?(f[m.targetName]=f[m.fieldName].id,delete f[m.fieldName]):f[m.fieldName]=f[m.fieldName].id}break;case"BELONGS_TO":if(n[m.fieldName]){var v=void 0;try{v=t(p,n[m.fieldName])}catch{}var h=f[m.fieldName]._deleted;h||d.push({modelName:m.modelName,item:n[m.fieldName],instance:v})}f[m.fieldName]&&(f[m.targetName]=f[m.fieldName].id,delete f[m.fieldName]);break;case"HAS_MANY":break;default:Le(m.relationType);break}})});d.unshift({modelName:e,item:o,instance:o}),FE.has(r)||FE.set(r,Array.from(r.modelTopologicalOrdering.keys()));var l=FE.get(r);return d.sort(function(f,m){return l.indexOf(f.modelName)-l.indexOf(m.modelName)}),d},Ov=function(e,n){var r="";return e.some(function(t){t.modelName===n&&(r=t.targetName)}),r},Mv=function(e,n){var r=e.find(function(t){return t===n});return r},Ec;(function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"})(Ec||(Ec={}));var jE=Ec.DATASTORE,Ra=Ec.USER,Oa=Ec.SYNC,Dv=Ec.STORAGE;var Nv,qJ=function(){return new Promise(function(e){var n=(0,jJ.v4)(),r,t=function(){Nv=!1,e(!0)},i=function(){return zJ(void 0,void 0,void 0,function(){return LJ(this,function(a){switch(a.label){case 0:return r&&r.result&&typeof r.result.close=="function"?[4,r.result.close()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return a.sent(),Nv=!0,[2,e(!1)]}})})};if(Nv===!0)return i();if(Nv===!1||indexedDB===null)return t();r=indexedDB.open(n),r.onerror=t,r.onsuccess=i})},xCe=function(e){return FJ.Buffer.from(new Ad().random(e).toString(),"hex")},CCe=function(){return xCe(1).readUInt8(0)/255};function kv(e){var n=MJ(CCe);return function(){return n(e)}}function qE(){return typeof performance<"u"&&performance&&typeof performance.now=="function"?performance.now()|0:Date.now()}function Sc(e){return function(r,t){var i,a;try{for(var s=UJ(e),c=s.next();!c.done;c=s.next()){var d=c.value,o=d.field,l=d.sortDirection,f=l===xc.ASCENDING?1:-1;if(r[o]<t[o])return-1*f;if(r[o]>t[o])return 1*f}}catch(m){i={error:m}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return 0}}function Il(e,n,r){var t,i;r===void 0&&(r=!1);var a=e,s=n,c=function(y,g){return y==null&&g==null};if(a instanceof Object&&!(s instanceof Object)||!(a instanceof Object)&&s instanceof Object)return!1;if(!(a instanceof Object))return r&&c(a,s)?!0:a===s;if(Array.isArray(a)&&!Array.isArray(s)||Array.isArray(s)&&!Array.isArray(a))return!1;a instanceof Set&&s instanceof Set&&(a=DJ(a),s=DJ(s)),a instanceof Map&&s instanceof Map&&(a=Object.fromEntries(a),s=Object.fromEntries(s));var d=Object.keys(a),o=Object.keys(s);if(d.length!==o.length&&(!r||Array.isArray(a)))return!1;var l=d.length>=o.length?d:o;try{for(var f=UJ(l),m=f.next();!m.done;m=f.next()){var p=m.value,v=a[p],h=s[p];if(!Il(v,h,r))return!1}}catch(y){t={error:y}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(t)throw t.error}}return!0}var $J=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},HJ=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},GJ=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},VJ=function(e){return!!/^\d+$/.exec(String(e))},KJ=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},JJ=function(e){try{return JSON.parse(e),!0}catch{return!1}},WJ=function(e){try{return!!new URL(e)}catch{return!1}},XJ=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},YJ=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},kJ=function(){function e(){var n=this;this.promise=new Promise(function(r,t){n.resolve=r,n.reject=t})}return e}();var QJ=function(){function e(n){this.limitPromise=new kJ,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(r){throw r===void 0&&(r="DeferredCallbackResolver error"),new Error(r)},this.callback=n.callback,this.errorHandler=n.errorHandler||this.defaultErrorHandler,this.maxInterval=n.maxInterval||2e3}return e.prototype.startTimer=function(){var n=this;this.timerPromise=new Promise(function(r,t){n.timer=setTimeout(function(){r(Pl.TIMER)},n.maxInterval)})},e.prototype.racePromises=function(){return zJ(this,void 0,void 0,function(){var n,r;return LJ(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return n=t.sent(),this.callback(),[3,4];case 2:return r=t.sent(),this.errorHandler(r),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new kJ,[2,n];case 4:return[2]}})})},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(Pl.LIMIT)},e}();var ACe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},TCe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function $E(e){return e&&e.pluralName!==void 0}function So(e){return e&&e.targetName}var Kr;(function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"})(Kr||(Kr={}));var Nn;(function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"})(Nn||(Nn={}));var Cc;(function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"})(Cc||(Cc={}));(function(e){function n(t){switch(t){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:Le(t)}}e.getJSType=n;function r(t){switch(t){case"AWSDate":return $J;case"AWSTime":return HJ;case"AWSDateTime":return GJ;case"AWSTimestamp":return VJ;case"AWSEmail":return KJ;case"AWSJSON":return JJ;case"AWSURL":return WJ;case"AWSPhone":return XJ;case"AWSIPAddress":return YJ;default:return}}e.getValidationFunction=r})(Cc||(Cc={}));function HE(e){return e&&Cc[e]!==void 0}function Lv(e){var n="model";return!!(e&&e[n])}function Bv(e){var n="nonModel";return!!(e&&e[n])}function eW(e){var n="enum";return!!(e&&e[n])}var ve;(function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ve||(ve={}));function Ma(e){return e&&e.field!==void 0}function ZJ(e){return e&&e.type!==void 0}var Pr;(function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"})(Pr||(Pr={}));var xc;(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(xc||(xc={}));var wi;(function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"})(wi||(wi={}));var zv;(function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zv||(zv={}));function nW(e,n){return ACe(this,void 0,void 0,function(){return TCe(this,function(r){return[2,{modelConstructor:e,conditionProducer:n}]})})}var GE=Symbol("DISCARD"),Pl;(function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"})(Pl||(Pl={}));var PCe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},ICe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},NCe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},RCe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(NCe(arguments[n]));return e};function rW(e){return e.allow==="private"&&!e.provider?Nn.USER_POOLS:e.allow==="public"&&!e.provider?Nn.API_KEY:e.provider}function OCe(e){var n=[Kr.CUSTOM,Kr.OWNER,Kr.GROUPS,Kr.PRIVATE,Kr.PUBLIC],r=[Nn.FUNCTION,Nn.USER_POOLS,Nn.OIDC,Nn.IAM,Nn.API_KEY];return RCe(e).sort(function(t,i){return t.allow===i.allow?r.indexOf(rW(t))-r.indexOf(rW(i)):n.indexOf(t.allow)-n.indexOf(i.allow)})}function MCe(e){var n=e.rules,r=e.currentUser,t=new Set;return n.forEach(function(i){switch(i.allow){case Kr.CUSTOM:(!i.provider||i.provider===Nn.FUNCTION)&&t.add(ze.AWS_LAMBDA);break;case Kr.GROUPS:case Kr.OWNER:{r&&(i.provider===Nn.USER_POOLS?t.add(ze.AMAZON_COGNITO_USER_POOLS):i.provider===Nn.OIDC&&t.add(ze.OPENID_CONNECT));break}case Kr.PRIVATE:{r&&(!i.provider||i.provider===Nn.USER_POOLS?t.add(ze.AMAZON_COGNITO_USER_POOLS):i.provider===Nn.IAM&&t.add(ze.AWS_IAM));break}case Kr.PUBLIC:{i.provider===Nn.IAM?t.add(ze.AWS_IAM):(!i.provider||i.provider===Nn.API_KEY)&&t.add(ze.API_KEY);break}default:break}}),Array.from(t)}var VE=function(e){var n=e.schema,r=e.modelName;return PCe(void 0,void 0,void 0,function(){var t,i,a,s,c;return ICe(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,st.currentAuthenticatedUser()];case 1:return t=d.sent(),[3,3];case 2:return i=d.sent(),[3,3];case 3:return a=n.namespaces.user.models[r].attributes,a&&(s=a.find(function(o){return o.type==="auth"}),s.properties&&s.properties.rules)?(c=OCe(s.properties.rules),[2,MCe({currentUser:t,rules:c})]):[2,[]]}})})};var ta=function(){function e(){}return e.createPredicateBuilder=function(n){var r=n.name,t=new Set(Object.keys(n.fields)),i,a=new Proxy({},i={get:function(s,c,d){var o=c;if(!t.has(o))throw new Error("Invalid field for model. field: "+o+", model: "+r);var l=function(f){return e.sortPredicateGroupsMap.get(d).push({field:o,sortDirection:f}),d};return l}});return e.sortPredicateGroupsMap.set(a,[]),a},e.isValidPredicate=function(n){return e.sortPredicateGroupsMap.has(n)},e.getPredicates=function(n,r){if(r===void 0&&(r=!0),r&&!e.isValidPredicate(n))throw new Error("The predicate is not valid");return e.sortPredicateGroupsMap.get(n)},e.createFromExisting=function(n,r){if(!(!r||!n))return r(e.createPredicateBuilder(n))},e.sortPredicateGroupsMap=new WeakMap,e}();var tW=new WeakSet;function KE(e){return tW.has(e)}var dYe=Symbol("A predicate that matches all records"),JE=function(){function e(){}return Object.defineProperty(e,"ALL",{get:function(){var n=function(r){return r};return tW.add(n),n},enumerable:!0,configurable:!0}),e}();var fe=function(){function e(){}return e.createPredicateBuilder=function(n){var r=n.name,t=new Set(Object.keys(n.fields)),i,a=new Proxy({},i={get:function(c,d,o){var l=d;switch(l){case"and":case"or":case"not":var f=function(v){var h={type:l,predicates:[]},y=new Proxy({},i);return e.predicateGroupsMap.set(y,h),v(y),e.predicateGroupsMap.get(o).predicates.push(h),o};return f;default:Le(l,!1)}var m=d;if(!t.has(m))throw new Error("Invalid field for model. field: "+m+", model: "+r);var p=function(v,h){return e.predicateGroupsMap.get(o).predicates.push({field:m,operator:v,operand:h}),o};return p}}),s={type:"and",predicates:[]};return e.predicateGroupsMap.set(a,s),a},e.isValidPredicate=function(n){return e.predicateGroupsMap.has(n)},e.getPredicates=function(n,r){if(r===void 0&&(r=!0),r&&!e.isValidPredicate(n))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(n)},e.createFromExisting=function(n,r){if(!(!r||!n))return r(e.createPredicateBuilder(n))},e.createForId=function(n,r){return e.createPredicateBuilder(n).id("eq",r)},e.predicateGroupsMap=new WeakMap,e}();var PW=W(uW());var FCe=(e,n)=>n.some(r=>e instanceof r),fW,mW;function jCe(){return fW||(fW=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qCe(){return mW||(mW=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pW=new WeakMap,ZE=new WeakMap,vW=new WeakMap,QE=new WeakMap,n_=new WeakMap;function $Ce(e){let n=new Promise((r,t)=>{let i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Nt(e.result)),i()},s=()=>{t(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return n.then(r=>{r instanceof IDBCursor&&pW.set(r,e)}).catch(()=>{}),n_.set(n,e),n}function HCe(e){if(ZE.has(e))return;let n=new Promise((r,t)=>{let i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{t(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});ZE.set(e,n)}var e_={get(e,n,r){if(e instanceof IDBTransaction){if(n==="done")return ZE.get(e);if(n==="objectStoreNames")return e.objectStoreNames||vW.get(e);if(n==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Nt(e[n])},set(e,n,r){return e[n]=r,!0},has(e,n){return e instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in e}};function hW(e){e_=e(e_)}function GCe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...r){let t=e.call(Uv(this),n,...r);return vW.set(t,n.sort?n.sort():[n]),Nt(t)}:qCe().includes(e)?function(...n){return e.apply(Uv(this),n),Nt(pW.get(this))}:function(...n){return Nt(e.apply(Uv(this),n))}}function VCe(e){return typeof e=="function"?GCe(e):(e instanceof IDBTransaction&&HCe(e),FCe(e,jCe())?new Proxy(e,e_):e)}function Nt(e){if(e instanceof IDBRequest)return $Ce(e);if(QE.has(e))return QE.get(e);let n=VCe(e);return n!==e&&(QE.set(e,n),n_.set(n,e)),n}var Uv=e=>n_.get(e);function gW(e,n,{blocked:r,upgrade:t,blocking:i,terminated:a}={}){let s=indexedDB.open(e,n),c=Nt(s);return t&&s.addEventListener("upgradeneeded",d=>{t(Nt(s.result),d.oldVersion,d.newVersion,Nt(s.transaction))}),r&&s.addEventListener("blocked",()=>r()),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}function wW(e,{blocked:n}={}){let r=indexedDB.deleteDatabase(e);return n&&r.addEventListener("blocked",()=>n()),Nt(r).then(()=>{})}var KCe=["get","getKey","getAll","getAllKeys","count"],JCe=["put","add","delete","clear"],r_=new Map;function yW(e,n){if(!(e instanceof IDBDatabase&&!(n in e)&&typeof n=="string"))return;if(r_.get(n))return r_.get(n);let r=n.replace(/FromIndex$/,""),t=n!==r,i=JCe.includes(r);if(!(r in(t?IDBIndex:IDBObjectStore).prototype)||!(i||KCe.includes(r)))return;let a=async function(s,...c){let d=this.transaction(s,i?"readwrite":"readonly"),o=d.store;t&&(o=o.index(c.shift()));let l=await o[r](...c);return i&&await d.done,l};return r_.set(n,a),a}hW(e=>({...e,get:(n,r,t)=>yW(n,r)||e.get(n,r,t),has:(n,r)=>!!yW(n,r)||e.has(n,r)}));var En=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},mn=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Da=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof Fv=="function"?Fv(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}},Fv=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},XCe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},t_=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(XCe(arguments[n]));return e},Ac=new q("DataStore"),bW="amplify-datastore",YCe=function(){function e(){this.dbName=bW}return e.prototype.checkPrivate=function(){return En(this,void 0,void 0,function(){var n;return mn(this,function(r){switch(r.label){case 0:return[4,qJ().then(function(t){return t})];case 1:return n=r.sent(),n?(Ac.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}})})},e.prototype.getStorenameForModel=function(n){var r=this.namespaceResolver(n),t=n.name;return this.getStorename(r,t)},e.prototype.getStorename=function(n,r){var t=n+"_"+r;return t},e.prototype.setUp=function(n,r,t,i,a){return En(this,void 0,void 0,function(){var s,c,d,o=this;return mn(this,function(l){switch(l.label){case 0:return[4,this.checkPrivate()];case 1:return l.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise(function(f,m){o.resolve=f,o.reject=m}),[3,4]);case 2:return[4,this.initPromise];case 3:l.sent(),l.label=4;case 4:a&&(this.dbName=bW+"-"+a),this.schema=n,this.namespaceResolver=r,this.modelInstanceCreator=t,this.getModelConstructorByModelName=i,l.label=5;case 5:return l.trys.push([5,8,,9]),this.db?[3,7]:(s=2,c=this,[4,gW(this.dbName,s,{upgrade:function(f,m,p,v){return En(o,void 0,void 0,function(){var h,y,g,w,b,E,S,A,I,P,O,k,_=this;return mn(this,function(x){switch(x.label){case 0:if(m===0)return Object.keys(n.namespaces).forEach(function(T){var M=n.namespaces[T];Object.keys(M.models).forEach(function(D){var B=_.getStorename(T,D),j=f.createObjectStore(B,{autoIncrement:!0}),F=_.schema.namespaces[T].relationships[D].indexes;F.forEach(function(U){return j.createIndex(U,U)}),j.createIndex("byId","id",{unique:!0})})}),[2];if(!(m===1&&p===2))return[3,16];x.label=1;case 1:x.trys.push([1,14,,15]),x.label=2;case 2:x.trys.push([2,11,12,13]),h=Fv(v.objectStoreNames),y=h.next(),x.label=3;case 3:return y.done?[3,10]:(g=y.value,w=v.objectStore(g),b="tmp_"+g,w.name=b,E=f.createObjectStore(g,{keyPath:void 0,autoIncrement:!0}),E.createIndex("byId","id",{unique:!0}),[4,w.openCursor()]);case 4:S=x.sent(),A=0,x.label=5;case 5:return S&&S.value?[4,E.put(S.value)]:[3,8];case 6:return x.sent(),[4,S.continue()];case 7:return S=x.sent(),A++,[3,5];case 8:f.deleteObjectStore(b),Ac.debug(A+" "+g+" records migrated"),x.label=9;case 9:return y=h.next(),[3,3];case 10:return[3,13];case 11:return I=x.sent(),O={error:I},[3,13];case 12:try{y&&!y.done&&(k=h.return)&&k.call(h)}finally{if(O)throw O.error}return[7];case 13:return[3,15];case 14:throw P=x.sent(),Ac.error("Error migrating IndexedDB data",P),v.abort(),P;case 15:return[2];case 16:return[2]}})})}})]);case 6:c.db=l.sent(),this.resolve(),l.label=7;case 7:return[3,9];case 8:return d=l.sent(),this.reject(d),[3,9];case 9:return[2]}})})},e.prototype._get=function(n,r){return En(this,void 0,void 0,function(){var t,i,a,s;return mn(this,function(c){switch(c.label){case 0:return typeof n=="string"?(i=n,t=this.db.transaction(i,"readonly").store.index("byId")):(a=n,t=a.index("byId")),[4,t.get(r)];case 1:return s=c.sent(),[2,s]}})})},e.prototype.save=function(n,r){var t,i;return En(this,void 0,void 0,function(){var a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x,T,M,D,B=this;return mn(this,function(j){switch(j.label){case 0:return[4,this.checkPrivate()];case 1:return j.sent(),a=Object.getPrototypeOf(n).constructor,s=this.getStorenameForModel(a),c=_c(a.name,n,this.schema.namespaces[this.namespaceResolver(a)],this.modelInstanceCreator,this.getModelConstructorByModelName),d=this.namespaceResolver(a),o=new Set,l=Object.values(c).map(function(F){var U=F.modelName,z=F.item,H=F.instance,L=B.getStorename(d,U);return o.add(L),{storeName:L,item:z,instance:H}}),f=this.db.transaction(t_([s],Array.from(o.values())),"readwrite"),m=f.objectStore(s),[4,this._get(m,n.id)];case 2:if(p=j.sent(),r&&p&&(v=fe.getPredicates(r),h=v.predicates,y=v.type,g=Vr(p,y,h),!g))throw w="Conditional update failed",Ac.error(w,{model:p,condition:h}),new Error(w);b=[],j.label=3;case 3:j.trys.push([3,11,12,17]),E=Da(l),j.label=4;case 4:return[4,E.next()];case 5:return S=j.sent(),!S.done?(A=S.value,I=A.storeName,P=A.item,O=A.instance,k=f.objectStore(I),_=P.id,[4,this._get(k,_)]):[3,10];case 6:return x=j.sent(),T=x===void 0?ve.INSERT:ve.UPDATE,_===n.id||T===ve.INSERT?[4,k.index("byId").getKey(P.id)]:[3,9];case 7:return M=j.sent(),[4,k.put(P,M)];case 8:j.sent(),b.push([O,T]),j.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return D=j.sent(),t={error:D},[3,17];case 12:return j.trys.push([12,,15,16]),S&&!S.done&&(i=E.return)?[4,i.call(E)]:[3,14];case 13:j.sent(),j.label=14;case 14:return[3,16];case 15:if(t)throw t.error;return[7];case 16:return[7];case 17:return[4,f.done];case 18:return j.sent(),[2,b]}})})},e.prototype.load=function(n,r,t){var i,a,s,c,d,o,l,f,m,p;return En(this,void 0,void 0,function(){var v,h,y,g,w,b,E,S,A,I,P,O,k,_,x,D,T,B,M,D,B,j,F,U=this;return mn(this,function(z){switch(z.label){case 0:if(v=this.schema.namespaces[n],h=v.relationships[r].relationTypes,y=h.map(function(H){var L=H.modelName;return U.getStorename(n,L)}),g=this.getModelConstructorByModelName(n,r),y.length===0)return[2,t.map(function(H){return U.modelInstanceCreator(g,H)})];w=this.db.transaction(t_(y),"readonly"),z.label=1;case 1:z.trys.push([1,34,35,40]),b=Da(h),z.label=2;case 2:return[4,b.next()];case 3:if(E=z.sent(),!!E.done)return[3,33];switch(S=E.value,A=S.fieldName,I=S.modelName,P=S.targetName,O=this.getStorename(n,I),k=w.objectStore(O),_=this.getModelConstructorByModelName(n,I),x=S.relationType,x){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:z.trys.push([4,10,11,16]),i=Da(t),z.label=5;case 5:return[4,i.next()];case 6:return a=z.sent(),!a.done?(D=a.value,T=D[P]?P:A,D[T]?[4,this._get(k,D[T])]:[3,9]):[3,9];case 7:B=z.sent(),D[A]=B&&this.modelInstanceCreator(_,B),z.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return M=z.sent(),l={error:M},[3,16];case 11:return z.trys.push([11,,14,15]),a&&!a.done&&(f=i.return)?[4,f.call(i)]:[3,13];case 12:z.sent(),z.label=13;case 13:return[3,15];case 14:if(l)throw l.error;return[7];case 15:return[7];case 16:return[3,32];case 17:z.trys.push([17,23,24,29]),s=Da(t),z.label=18;case 18:return[4,s.next()];case 19:return c=z.sent(),!c.done?(D=c.value,D[P]?[4,this._get(k,D[P])]:[3,21]):[3,22];case 20:B=z.sent(),D[A]=B&&this.modelInstanceCreator(_,B),delete D[P],z.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return j=z.sent(),m={error:j},[3,29];case 24:return z.trys.push([24,,27,28]),c&&!c.done&&(p=s.return)?[4,p.call(s)]:[3,26];case 25:z.sent(),z.label=26;case 26:return[3,28];case 27:if(m)throw m.error;return[7];case 28:return[7];case 29:return[3,32];case 30:return[3,32];case 31:return Le(S.relationType),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return F=z.sent(),d={error:F},[3,40];case 35:return z.trys.push([35,,38,39]),E&&!E.done&&(o=b.return)?[4,o.call(b)]:[3,37];case 36:z.sent(),z.label=37;case 37:return[3,39];case 38:if(d)throw d.error;return[7];case 39:return[7];case 40:return[2,t.map(function(H){return U.modelInstanceCreator(g,H)})]}})})},e.prototype.query=function(n,r,t){return En(this,void 0,void 0,function(){var i,a,s,c,d,o,l,f=this;return mn(this,function(m){switch(m.label){case 0:return[4,this.checkPrivate()];case 1:return m.sent(),i=this.getStorenameForModel(n),a=this.namespaceResolver(n),s=r&&fe.getPredicates(r),c=s&&this.idFromPredicate(s),d=t&&t.sort,o=t&&t.limit,[4,function(){return En(f,void 0,void 0,function(){var p,v,h;return mn(this,function(y){switch(y.label){case 0:return c?[4,this.getById(i,c)]:[3,2];case 1:return p=y.sent(),[2,p?[p]:[]];case 2:return s?[4,this.filterOnPredicate(i,s)]:[3,4];case 3:return v=y.sent(),[2,this.inMemoryPagination(v,t)];case 4:return d?[4,this.getAll(i)]:[3,6];case 5:return h=y.sent(),[2,this.inMemoryPagination(h,t)];case 6:return o?[2,this.enginePagination(i,t)]:[2,this.getAll(i)]}})})}()];case 2:return l=m.sent(),[4,this.load(a,n.name,l)];case 3:return[2,m.sent()]}})})},e.prototype.getById=function(n,r){return En(this,void 0,void 0,function(){var t;return mn(this,function(i){switch(i.label){case 0:return[4,this._get(n,r)];case 1:return t=i.sent(),[2,t]}})})},e.prototype.getAll=function(n){return En(this,void 0,void 0,function(){return mn(this,function(r){switch(r.label){case 0:return[4,this.db.getAll(n)];case 1:return[2,r.sent()]}})})},e.prototype.idFromPredicate=function(n){var r=n.predicates,t=r.length===1&&r.find(function(i){return Ma(i)&&i.field==="id"&&i.operator==="eq"});return t&&t.operand},e.prototype.filterOnPredicate=function(n,r){return En(this,void 0,void 0,function(){var t,i,a,s;return mn(this,function(c){switch(c.label){case 0:return t=r.predicates,i=r.type,[4,this.getAll(n)];case 1:return a=c.sent(),s=t?a.filter(function(d){return Vr(d,i,t)}):a,[2,s]}})})},e.prototype.inMemoryPagination=function(n,r){if(r&&n.length>1){if(r.sort){var t=ta.getPredicates(r.sort);if(t.length){var i=Sc(t);n.sort(i)}}var a=r.page,s=a===void 0?0:a,c=r.limit,d=c===void 0?0:c,o=Math.max(0,s*d)||0,l=d>0?o+d:n.length;return n.slice(o,l)}return n},e.prototype.enginePagination=function(n,r){return En(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f;return mn(this,function(m){switch(m.label){case 0:return r?(i=r.page,a=i===void 0?0:i,s=r.limit,c=s===void 0?0:s,d=Math.max(0,a*c)||0,[4,this.db.transaction(n).objectStore(n).openCursor()]):[3,7];case 1:return o=m.sent(),o&&d>0?[4,o.advance(d)]:[3,3];case 2:m.sent(),m.label=3;case 3:l=[],f=typeof c=="number"&&c>0,m.label=4;case 4:return o&&o.value?(l.push(o.value),f&&l.length===c?[3,6]:[4,o.continue()]):[3,6];case 5:return o=m.sent(),[3,4];case 6:return t=l,[3,9];case 7:return[4,this.db.getAll(n)];case 8:t=m.sent(),m.label=9;case 9:return[2,t]}})})},e.prototype.queryOne=function(n,r){return r===void 0&&(r=Pr.FIRST),En(this,void 0,void 0,function(){var t,i,a;return mn(this,function(s){switch(s.label){case 0:return[4,this.checkPrivate()];case 1:return s.sent(),t=this.getStorenameForModel(n),[4,this.db.transaction([t],"readonly").objectStore(t).openCursor(void 0,r===Pr.FIRST?"next":"prev")];case 2:return i=s.sent(),a=i?i.value:void 0,[2,a&&this.modelInstanceCreator(n,a)]}})})},e.prototype.delete=function(n,r){return En(this,void 0,void 0,function(){var t,s,c,d,i,g,w,w,a,s,c,d,o,l,f,y,m,p,v,h,y,g,g,w;return mn(this,function(b){switch(b.label){case 0:return[4,this.checkPrivate()];case 1:return b.sent(),t=[],ra(n)?(s=n,c=this.namespaceResolver(s),d=this.getStorenameForModel(s),[4,this.query(s,r)]):[3,9];case 2:return i=b.sent(),g=this.schema.namespaces[c].relationships[s.name].relationTypes,r===void 0?[3,5]:[4,this.deleteTraverse(g,i,s.name,c,t)];case 3:return b.sent(),[4,this.deleteItem(t)];case 4:return b.sent(),w=t.reduce(function(E,S){var A=S.items;return E.concat(A)},[]),[2,[i,w]];case 5:return[4,this.deleteTraverse(g,i,s.name,c,t)];case 6:return b.sent(),[4,this.db.transaction([d],"readwrite").objectStore(d).clear()];case 7:return b.sent(),w=t.reduce(function(E,S){var A=S.items;return E.concat(A)},[]),[2,[i,w]];case 8:return[3,17];case 9:return a=n,s=Object.getPrototypeOf(a).constructor,c=this.namespaceResolver(s),d=this.getStorenameForModel(s),r?(o=this.db.transaction([d],"readwrite"),l=o.objectStore(d),[4,this._get(l,a.id)]):[3,13];case 10:if(f=b.sent(),f===void 0)return y="Model instance not found in storage",Ac.warn(y,{model:a}),[2,[[a],[]]];if(m=fe.getPredicates(r),p=m.predicates,v=m.type,h=Vr(f,v,p),!h)throw y="Conditional update failed",Ac.error(y,{model:f,condition:p}),new Error(y);return[4,o.done];case 11:return b.sent(),g=this.schema.namespaces[c].relationships[s.name].relationTypes,[4,this.deleteTraverse(g,[a],s.name,c,t)];case 12:return b.sent(),[3,15];case 13:return g=this.schema.namespaces[c].relationships[s.name].relationTypes,[4,this.deleteTraverse(g,[a],s.name,c,t)];case 14:b.sent(),b.label=15;case 15:return[4,this.deleteItem(t)];case 16:return b.sent(),w=t.reduce(function(E,S){var A=S.items;return E.concat(A)},[]),[2,[[a],w]];case 17:return[2]}})})},e.prototype.deleteItem=function(n){var r,t,i,a,s,c;return En(this,void 0,void 0,function(){var d,o,l,f,m,p,v,h,y,g,w,b;return mn(this,function(E){switch(E.label){case 0:d=n.map(function(S){var A=S.storeName;return A}),o=this.db.transaction(t_(d),"readwrite"),E.label=1;case 1:E.trys.push([1,22,23,28]),r=Da(n),E.label=2;case 2:return[4,r.next()];case 3:if(t=E.sent(),!!t.done)return[3,21];l=t.value,f=l.storeName,m=l.items,p=o.objectStore(f),E.label=4;case 4:E.trys.push([4,14,15,20]),v=Da(m),E.label=5;case 5:return[4,v.next()];case 6:return h=E.sent(),!h.done?(y=h.value,y?(g=void 0,typeof y!="object"?[3,8]:[4,p.index("byId").getKey(y.id)]):[3,12]):[3,13];case 7:return g=E.sent(),[3,10];case 8:return[4,p.index("byId").getKey(y.toString())];case 9:g=E.sent(),E.label=10;case 10:return g===void 0?[3,12]:[4,p.delete(g)];case 11:E.sent(),E.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return w=E.sent(),s={error:w},[3,20];case 15:return E.trys.push([15,,18,19]),h&&!h.done&&(c=v.return)?[4,c.call(v)]:[3,17];case 16:E.sent(),E.label=17;case 17:return[3,19];case 18:if(s)throw s.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return b=E.sent(),i={error:b},[3,28];case 23:return E.trys.push([23,,26,27]),t&&!t.done&&(a=r.return)?[4,a.call(r)]:[3,25];case 24:E.sent(),E.label=25;case 25:return[3,27];case 26:if(i)throw i.error;return[7];case 27:return[7];case 28:return[2]}})})},e.prototype.deleteTraverse=function(n,r,t,i,a){var s,c,d,o,l,f,m,p,v,h,y,g;return En(this,void 0,void 0,function(){var w,b,E,S,A,I,P,O,D,k,_,x,T,M,D,B,j,F,U=this;return mn(this,function(z){switch(z.label){case 0:z.trys.push([0,35,36,41]),s=Da(n),z.label=1;case 1:return[4,s.next()];case 2:if(c=z.sent(),!!c.done)return[3,34];switch(w=c.value,b=w.relationType,E=w.fieldName,S=w.modelName,A=w.targetName,I=this.getStorename(i,S),P=Ov(this.schema.namespaces[i].relationships[S].relationTypes,t)||Mv(this.schema.namespaces[i].relationships[S].indexes,w.associatedWith),O=b,O){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:z.trys.push([3,10,11,16]),d=Da(r),z.label=4;case 4:return[4,d.next()];case 5:return o=z.sent(),!o.done?(D=o.value,k=P||"byId",_=A in D,x=_?D[A]:D.id,x?[4,this.db.transaction(I,"readwrite").objectStore(I).index(k).get(x)]:[3,9]):[3,9];case 6:return T=z.sent(),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[S].relationTypes,T?[T]:[],S,i,a)];case 7:z.sent(),z.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return M=z.sent(),v={error:M},[3,16];case 11:return z.trys.push([11,,14,15]),o&&!o.done&&(h=d.return)?[4,h.call(d)]:[3,13];case 12:z.sent(),z.label=13;case 13:return[3,15];case 14:if(v)throw v.error;return[7];case 15:return[7];case 16:return[3,33];case 17:z.trys.push([17,24,25,30]),l=Da(r),z.label=18;case 18:return[4,l.next()];case 19:return f=z.sent(),!f.done?(D=f.value,[4,this.db.transaction(I,"readwrite").objectStore(I).index(P).getAll(D.id)]):[3,23];case 20:return B=z.sent(),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[S].relationTypes,B,S,i,a)];case 21:z.sent(),z.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return j=z.sent(),y={error:j},[3,30];case 25:return z.trys.push([25,,28,29]),f&&!f.done&&(g=l.return)?[4,g.call(l)]:[3,27];case 26:z.sent(),z.label=27;case 27:return[3,29];case 28:if(y)throw y.error;return[7];case 29:return[7];case 30:return[3,33];case 31:return[3,33];case 32:return Le(b),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return F=z.sent(),m={error:F},[3,41];case 36:return z.trys.push([36,,39,40]),c&&!c.done&&(p=s.return)?[4,p.call(s)]:[3,38];case 37:z.sent(),z.label=38;case 38:return[3,40];case 39:if(m)throw m.error;return[7];case 40:return[7];case 41:return a.push({storeName:this.getStorename(i,t),items:r.map(function(H){return U.modelInstanceCreator(U.getModelConstructorByModelName(i,t),H)})}),[2]}})})},e.prototype.clear=function(){return En(this,void 0,void 0,function(){return mn(this,function(n){switch(n.label){case 0:return[4,this.checkPrivate()];case 1:return n.sent(),this.db.close(),[4,wW(this.dbName)];case 2:return n.sent(),this.db=void 0,this.initPromise=void 0,[2]}})})},e.prototype.batchSave=function(n,r){return En(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v;return mn(this,function(h){switch(h.label){case 0:return r.length===0?[2,[]]:[4,this.checkPrivate()];case 1:h.sent(),t=[],i=this.getStorenameForModel(n),a=this.db.transaction(i,"readwrite"),s=a.store,c=function(y){var g,w,b,E,S,A;return mn(this,function(I){switch(I.label){case 0:return g=_c(n.name,d.modelInstanceCreator(n,y),d.schema.namespaces[d.namespaceResolver(n)],d.modelInstanceCreator,d.getModelConstructorByModelName),w=y.id,b=y._deleted,E=s.index("byId"),[4,E.getKey(w)];case 1:return S=I.sent(),b?[3,3]:(A=g.find(function(P){var O=P.instance;return O.id===w}).instance,t.push([A,S?ve.UPDATE:ve.INSERT]),[4,s.put(A,S)]);case 2:return I.sent(),[3,5];case 3:return t.push([y,ve.DELETE]),S?[4,s.delete(S)]:[3,5];case 4:I.sent(),I.label=5;case 5:return[2]}})},d=this,h.label=2;case 2:h.trys.push([2,7,8,9]),o=Fv(r),l=o.next(),h.label=3;case 3:return l.done?[3,6]:(f=l.value,[5,c(f)]);case 4:h.sent(),h.label=5;case 5:return l=o.next(),[3,3];case 6:return[3,9];case 7:return m=h.sent(),p={error:m},[3,9];case 8:try{l&&!l.done&&(v=o.return)&&v.call(o)}finally{if(p)throw p.error}return[7];case 9:return[4,a.done];case 10:return h.sent(),[2,t]}})})},e}(),EW=new YCe;var xo=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Co=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},QCe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},ZCe=function(){function e(){var n=this;this.db=new Map,this.getAllKeys=function(){return xo(n,void 0,void 0,function(){return Co(this,function(r){return[2,Array.from(this.db.keys())]})})},this.multiGet=function(r){return xo(n,void 0,void 0,function(){var t=this;return Co(this,function(i){return[2,r.reduce(function(a,s){return a.push([s,t.db.get(s)]),a},[])]})})},this.multiRemove=function(r,t){return xo(n,void 0,void 0,function(){var i=this;return Co(this,function(a){return r.forEach(function(s){return i.db.delete(s)}),t(),[2]})})},this.multiSet=function(r,t){return xo(n,void 0,void 0,function(){var i=this;return Co(this,function(a){return r.forEach(function(s){var c=QCe(s,2),d=c[0],o=c[1];i.setItem(d,o)}),t(),[2]})})},this.setItem=function(r,t){return xo(n,void 0,void 0,function(){return Co(this,function(i){return[2,this.db.set(r,t)]})})},this.removeItem=function(r){return xo(n,void 0,void 0,function(){return Co(this,function(t){return[2,this.db.delete(r)]})})},this.getItem=function(r){return xo(n,void 0,void 0,function(){return Co(this,function(t){return[2,this.db.get(r)]})})}}return e}();function _W(){return new ZCe}var bi=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Ei=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Tc=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},ka=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},a_="@AmplifyDatastore",eAe="Collection",SW="Data",i_=new Map,nAe=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=_W()}return e.prototype.getCollectionIndex=function(n){return this._collectionInMemoryIndex.has(n)||this._collectionInMemoryIndex.set(n,new Map),this._collectionInMemoryIndex.get(n)},e.prototype.getMonotonicFactory=function(n){return i_.has(n)||i_.set(n,kv()),i_.get(n)},e.prototype.init=function(){return bi(this,void 0,void 0,function(){var n,r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E;return Ei(this,function(S){switch(S.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:n=S.sent(),r=[],S.label=2;case 2:S.trys.push([2,12,13,14]),t=Tc(n),i=t.next(),S.label=3;case 3:return i.done?[3,11]:(a=i.value,s=ka(a.split("::"),5),c=s[0],d=s[1],o=s[2],l=s[3],f=s[4],c!==a_?[3,10]:o!==SW?[3,9]:(m=void 0,f!==void 0?[3,7]:(p=l,v=this.getMonotonicFactory(d)(),h=this.getLegacyKeyForItem(d,p),y=this.getKeyForItem(d,p,v),[4,this.storage.getItem(h)])));case 4:return g=S.sent(),[4,this.storage.setItem(y,g)];case 5:return S.sent(),[4,this.storage.removeItem(h)];case 6:return S.sent(),m=v,[3,8];case 7:m=l,S.label=8;case 8:return this.getCollectionIndex(d).set(f,m),[3,10];case 9:o===eAe&&r.push(a),S.label=10;case 10:return i=t.next(),[3,3];case 11:return[3,14];case 12:return w=S.sent(),b={error:w},[3,14];case 13:try{i&&!i.done&&(E=t.return)&&E.call(t)}finally{if(b)throw b.error}return[7];case 14:return r.length>0?[4,this.storage.multiRemove(r)]:[3,16];case 15:S.sent(),S.label=16;case 16:return[2]}})})},e.prototype.save=function(n,r){return bi(this,void 0,void 0,function(){var t,i;return Ei(this,function(a){switch(a.label){case 0:return t=this.getCollectionIndex(r).get(n.id)||this.getMonotonicFactory(r)(),i=this.getKeyForItem(r,n.id,t),this.getCollectionIndex(r).set(n.id,t),[4,this.storage.setItem(i,JSON.stringify(n))];case 1:return a.sent(),[2]}})})},e.prototype.batchSave=function(n,r){return bi(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,b,h,y,g,w,b,E,S,A,I,P=this;return Ei(this,function(O){switch(O.label){case 0:if(r.length===0)return[2,[]];t=[],i=this.getCollectionIndex(n),a=new Set,s=new Set,c=[],d={};try{for(o=Tc(r),l=o.next();!l.done;l=o.next())f=l.value,m=f.id,p=f._deleted,v=i.get(m)||this.getMonotonicFactory(n)(),b=this.getKeyForItem(n,m,v),c.push(b),d[b]={ulid:v,model:f},p?a.add(b):s.add(b)}catch(k){E={error:k}}finally{try{l&&!l.done&&(S=o.return)&&S.call(o)}finally{if(E)throw E.error}}return[4,this.storage.multiGet(c)];case 1:return h=O.sent(),y=h.filter(function(k){var _=ka(k,2),x=_[1];return!!x}).reduce(function(k,_){var x=ka(_,1),T=x[0];return k.add(T)},new Set),[4,new Promise(function(k,_){if(a.size===0){k();return}var x=Array.from(a);x.forEach(function(T){return i.delete(d[T].model.id)}),P.storage.multiRemove(x,function(T){T&&T.length>0?_(T):k()})})];case 2:return O.sent(),[4,new Promise(function(k,_){if(s.size===0){k();return}var x=Array.from(s).map(function(T){return[T,JSON.stringify(d[T].model)]});s.forEach(function(T){var M=d[T],D=M.model.id,B=M.ulid;i.set(D,B)}),P.storage.multiSet(x,function(T){T&&T.length>0?_(T):k()})})];case 3:O.sent();try{for(g=Tc(c),w=g.next();!w.done;w=g.next())b=w.value,a.has(b)&&y.has(b)?t.push([d[b].model,ve.DELETE]):s.has(b)&&t.push([d[b].model,y.has(b)?ve.UPDATE:ve.INSERT])}catch(k){A={error:k}}finally{try{w&&!w.done&&(I=g.return)&&I.call(g)}finally{if(A)throw A.error}}return[2,t]}})})},e.prototype.get=function(n,r){return bi(this,void 0,void 0,function(){var t,i,a,s;return Ei(this,function(c){switch(c.label){case 0:return t=this.getCollectionIndex(r).get(n),i=this.getKeyForItem(r,n,t),[4,this.storage.getItem(i)];case 1:return a=c.sent(),s=a&&JSON.parse(a),[2,s]}})})},e.prototype.getOne=function(n,r){return bi(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l;return Ei(this,function(f){switch(f.label){case 0:return t=this.getCollectionIndex(r),i=ka(n===Pr.FIRST?function(){var m,p,v,h,y;try{for(var g=Tc(t),w=g.next();!w.done;w=g.next()){v=ka(w.value,2),h=v[0],y=v[1];break}}catch(b){m={error:b}}finally{try{w&&!w.done&&(p=g.return)&&p.call(g)}finally{if(m)throw m.error}}return[h,y]}():function(){var m,p,v,h,y;try{for(var g=Tc(t),w=g.next();!w.done;w=g.next())v=ka(w.value,2),h=v[0],y=v[1]}catch(b){m={error:b}}finally{try{w&&!w.done&&(p=g.return)&&p.call(g)}finally{if(m)throw m.error}}return[h,y]}(),2),a=i[0],s=i[1],c=this.getKeyForItem(r,a,s),o=c,o?[4,this.storage.getItem(c)]:[3,2];case 1:o=f.sent(),f.label=2;case 2:return d=o,l=d&&JSON.parse(d)||void 0,[2,l]}})})},e.prototype.getAll=function(n,r){return bi(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S;return Ei(this,function(A){switch(A.label){case 0:t=this.getCollectionIndex(n),i=r||{},a=i.page,s=a===void 0?0:a,c=i.limit,d=c===void 0?0:c,o=Math.max(0,s*d)||0,l=d>0?o+d:void 0,f=[],m=0;try{for(p=Tc(t),v=p.next();!v.done&&(h=ka(v.value,2),y=h[0],g=h[1],m++,!(!(m<=o)&&(f.push(this.getKeyForItem(n,y,g)),m===l)));v=p.next());}catch(I){E={error:I}}finally{try{v&&!v.done&&(S=p.return)&&S.call(p)}finally{if(E)throw E.error}}return[4,this.storage.multiGet(f)];case 1:return w=A.sent(),b=w.filter(function(I){var P=ka(I,2),O=P[1];return O}).map(function(I){var P=ka(I,2),O=P[1];return JSON.parse(O)}),[2,b]}})})},e.prototype.delete=function(n,r){return bi(this,void 0,void 0,function(){var t,i;return Ei(this,function(a){switch(a.label){case 0:return t=this.getCollectionIndex(r).get(n),i=this.getKeyForItem(r,n,t),this.getCollectionIndex(r).delete(n),[4,this.storage.removeItem(i)];case 1:return a.sent(),[2]}})})},e.prototype.clear=function(){return bi(this,void 0,void 0,function(){var n,r;return Ei(this,function(t){switch(t.label){case 0:return[4,this.storage.getAllKeys()];case 1:return n=t.sent(),r=n.filter(function(i){return i.startsWith(a_)}),[4,this.storage.multiRemove(r)];case 2:return t.sent(),this._collectionInMemoryIndex.clear(),[2]}})})},e.prototype.getKeyForItem=function(n,r,t){return this.getKeyPrefixForStoreItems(n)+"::"+t+"::"+r},e.prototype.getLegacyKeyForItem=function(n,r){return this.getKeyPrefixForStoreItems(n)+"::"+r},e.prototype.getKeyPrefixForStoreItems=function(n){return a_+"::"+n+"::"+SW},e}(),xW=nAe;var Ir=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Nr=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},za=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof s_=="function"?s_(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(a){r[a]=e[a]&&function(s){return new Promise(function(c,d){s=e[a](s),i(c,d,s.done,s.value)})}}function i(a,s,c,d){Promise.resolve(d).then(function(o){a({value:o,done:c})},s)}},s_=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},o_=new q("DataStore"),rAe=function(){function e(){}return e.prototype.getStorenameForModel=function(n){var r=this.namespaceResolver(n),t=n.name;return this.getStorename(r,t)},e.prototype.getStorename=function(n,r){var t=n+"_"+r;return t},e.prototype.setUp=function(n,r,t,i){return Ir(this,void 0,void 0,function(){var a,s=this;return Nr(this,function(c){switch(c.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise(function(d,o){s.resolve=d,s.reject=o}),[3,3]);case 1:return[4,this.initPromise];case 2:return c.sent(),[2];case 3:this.schema=n,this.namespaceResolver=r,this.modelInstanceCreator=t,this.getModelConstructorByModelName=i,c.label=4;case 4:return c.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new xW,[4,this.db.init()]);case 5:c.sent(),this.resolve(),c.label=6;case 6:return[3,8];case 7:return a=c.sent(),this.reject(a),[3,8];case 8:return[2]}})})},e.prototype.save=function(n,r){var t,i;return Ir(this,void 0,void 0,function(){var a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x=this;return Nr(this,function(T){switch(T.label){case 0:return a=Object.getPrototypeOf(n).constructor,s=this.getStorenameForModel(a),c=_c(a.name,n,this.schema.namespaces[this.namespaceResolver(a)],this.modelInstanceCreator,this.getModelConstructorByModelName),d=this.namespaceResolver(a),o=new Set,l=Object.values(c).map(function(M){var D=M.modelName,B=M.item,j=M.instance,F=x.getStorename(d,D);return o.add(F),{storeName:F,item:B,instance:j}}),[4,this.db.get(n.id,s)];case 1:if(f=T.sent(),r&&f&&(m=fe.getPredicates(r),p=m.predicates,v=m.type,h=Vr(f,v,p),!h))throw y="Conditional update failed",o_.error(y,{model:f,condition:p}),new Error(y);g=[],T.label=2;case 2:T.trys.push([2,9,10,15]),w=za(l),T.label=3;case 3:return[4,w.next()];case 4:return b=T.sent(),!b.done?(E=b.value,S=E.storeName,A=E.item,I=E.instance,P=A.id,[4,this.db.get(P,S)]):[3,8];case 5:return O=T.sent(),k=O?ve.UPDATE:ve.INSERT,P===n.id||k===ve.INSERT?[4,this.db.save(A,S)]:[3,7];case 6:T.sent(),g.push([I,k]),T.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return _=T.sent(),t={error:_},[3,15];case 10:return T.trys.push([10,,13,14]),b&&!b.done&&(i=w.return)?[4,i.call(w)]:[3,12];case 11:T.sent(),T.label=12;case 12:return[3,14];case 13:if(t)throw t.error;return[7];case 14:return[7];case 15:return[2,g]}})})},e.prototype.load=function(n,r,t){var i,a,s,c,d,o,l,f,m,p;return Ir(this,void 0,void 0,function(){var v,h,y,g,w,b,E,S,A,I,P,O,k,_,M,x,D,T,M,D,B,j,F=this;return Nr(this,function(U){switch(U.label){case 0:if(v=this.schema.namespaces[n],h=v.relationships[r].relationTypes,y=h.map(function(z){var H=z.modelName;return F.getStorename(n,H)}),g=this.getModelConstructorByModelName(n,r),y.length===0)return[2,t.map(function(z){return F.modelInstanceCreator(g,z)})];U.label=1;case 1:U.trys.push([1,34,35,40]),w=za(h),U.label=2;case 2:return[4,w.next()];case 3:if(b=U.sent(),!!b.done)return[3,33];switch(E=b.value,S=E.fieldName,A=E.modelName,I=E.targetName,P=E.relationType,O=this.getStorename(n,A),k=this.getModelConstructorByModelName(n,A),_=P,_){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:U.trys.push([4,10,11,16]),i=za(t),U.label=5;case 5:return[4,i.next()];case 6:return a=U.sent(),!a.done?(M=a.value,x=M[I]?I:S,M[x]?[4,this.db.get(M[x],O)]:[3,9]):[3,9];case 7:D=U.sent(),M[S]=D&&this.modelInstanceCreator(k,D),U.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return T=U.sent(),l={error:T},[3,16];case 11:return U.trys.push([11,,14,15]),a&&!a.done&&(f=i.return)?[4,f.call(i)]:[3,13];case 12:U.sent(),U.label=13;case 13:return[3,15];case 14:if(l)throw l.error;return[7];case 15:return[7];case 16:return[3,32];case 17:U.trys.push([17,23,24,29]),s=za(t),U.label=18;case 18:return[4,s.next()];case 19:return c=U.sent(),!c.done?(M=c.value,M[I]?[4,this.db.get(M[I],O)]:[3,21]):[3,22];case 20:D=U.sent(),M[S]=D&&this.modelInstanceCreator(k,D),delete M[I],U.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return B=U.sent(),m={error:B},[3,29];case 24:return U.trys.push([24,,27,28]),c&&!c.done&&(p=s.return)?[4,p.call(s)]:[3,26];case 25:U.sent(),U.label=26;case 26:return[3,28];case 27:if(m)throw m.error;return[7];case 28:return[7];case 29:return[3,32];case 30:return[3,32];case 31:return Le(P),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return j=U.sent(),d={error:j},[3,40];case 35:return U.trys.push([35,,38,39]),b&&!b.done&&(o=w.return)?[4,o.call(w)]:[3,37];case 36:U.sent(),U.label=37;case 37:return[3,39];case 38:if(d)throw d.error;return[7];case 39:return[7];case 40:return[2,t.map(function(z){return F.modelInstanceCreator(g,z)})]}})})},e.prototype.query=function(n,r,t){return Ir(this,void 0,void 0,function(){var i,a,s,c,d,o,l,f=this;return Nr(this,function(m){switch(m.label){case 0:return i=this.getStorenameForModel(n),a=this.namespaceResolver(n),s=r&&fe.getPredicates(r),c=s&&this.idFromPredicate(s),d=t&&t.sort,o=t&&t.limit,[4,function(){return Ir(f,void 0,void 0,function(){var p,v,h;return Nr(this,function(y){switch(y.label){case 0:return c?[4,this.getById(i,c)]:[3,2];case 1:return p=y.sent(),[2,p?[p]:[]];case 2:return s?[4,this.filterOnPredicate(i,s)]:[3,4];case 3:return v=y.sent(),[2,this.inMemoryPagination(v,t)];case 4:return d||o?[4,this.getAll(i)]:[3,6];case 5:return h=y.sent(),[2,this.inMemoryPagination(h,t)];case 6:return[2,this.getAll(i)]}})})}()];case 1:return l=m.sent(),[4,this.load(a,n.name,l)];case 2:return[2,m.sent()]}})})},e.prototype.getById=function(n,r){return Ir(this,void 0,void 0,function(){var t;return Nr(this,function(i){switch(i.label){case 0:return[4,this.db.get(r,n)];case 1:return t=i.sent(),[2,t]}})})},e.prototype.getAll=function(n){return Ir(this,void 0,void 0,function(){return Nr(this,function(r){switch(r.label){case 0:return[4,this.db.getAll(n)];case 1:return[2,r.sent()]}})})},e.prototype.idFromPredicate=function(n){var r=n.predicates,t=r.length===1&&r.find(function(i){return Ma(i)&&i.field==="id"&&i.operator==="eq"});return t&&t.operand},e.prototype.filterOnPredicate=function(n,r){return Ir(this,void 0,void 0,function(){var t,i,a,s;return Nr(this,function(c){switch(c.label){case 0:return t=r.predicates,i=r.type,[4,this.getAll(n)];case 1:return a=c.sent(),s=t?a.filter(function(d){return Vr(d,i,t)}):a,[2,s]}})})},e.prototype.inMemoryPagination=function(n,r){if(r&&n.length>1){if(r.sort){var t=ta.getPredicates(r.sort);if(t.length){var i=Sc(t);n.sort(i)}}var a=r.page,s=a===void 0?0:a,c=r.limit,d=c===void 0?0:c,o=Math.max(0,s*d)||0,l=d>0?o+d:n.length;return n.slice(o,l)}return n},e.prototype.queryOne=function(n,r){return r===void 0&&(r=Pr.FIRST),Ir(this,void 0,void 0,function(){var t,i;return Nr(this,function(a){switch(a.label){case 0:return t=this.getStorenameForModel(n),[4,this.db.getOne(r,t)];case 1:return i=a.sent(),[2,i&&this.modelInstanceCreator(n,i)]}})})},e.prototype.delete=function(n,r){return Ir(this,void 0,void 0,function(){var t,s,c,i,h,y,y,a,s,c,d,o,v,l,f,m,p,v,h,h,y;return Nr(this,function(g){switch(g.label){case 0:return t=[],ra(n)?(s=n,c=this.namespaceResolver(s),[4,this.query(s,r)]):[3,8];case 1:return i=g.sent(),h=this.schema.namespaces[c].relationships[s.name].relationTypes,r===void 0?[3,4]:[4,this.deleteTraverse(h,i,s.name,c,t)];case 2:return g.sent(),[4,this.deleteItem(t)];case 3:return g.sent(),y=t.reduce(function(w,b){var E=b.items;return w.concat(E)},[]),[2,[i,y]];case 4:return[4,this.deleteTraverse(h,i,s.name,c,t)];case 5:return g.sent(),[4,this.deleteItem(t)];case 6:return g.sent(),y=t.reduce(function(w,b){var E=b.items;return w.concat(E)},[]),[2,[i,y]];case 7:return[3,15];case 8:return a=n,s=Object.getPrototypeOf(a).constructor,c=this.namespaceResolver(s),d=this.getStorenameForModel(s),r?[4,this.db.get(a.id,d)]:[3,11];case 9:if(o=g.sent(),o===void 0)return v="Model instance not found in storage",o_.warn(v,{model:a}),[2,[[a],[]]];if(l=fe.getPredicates(r),f=l.predicates,m=l.type,p=Vr(o,m,f),!p)throw v="Conditional update failed",o_.error(v,{model:o,condition:f}),new Error(v);return h=this.schema.namespaces[c].relationships[s.name].relationTypes,[4,this.deleteTraverse(h,[a],s.name,c,t)];case 10:return g.sent(),[3,13];case 11:return h=this.schema.namespaces[c].relationships[s.name].relationTypes,[4,this.deleteTraverse(h,[a],s.name,c,t)];case 12:g.sent(),g.label=13;case 13:return[4,this.deleteItem(t)];case 14:return g.sent(),y=t.reduce(function(w,b){var E=b.items;return w.concat(E)},[]),[2,[[a],y]];case 15:return[2]}})})},e.prototype.deleteItem=function(n){var r,t,i,a,s,c;return Ir(this,void 0,void 0,function(){var d,o,l,f,m,p,v,h,y;return Nr(this,function(g){switch(g.label){case 0:g.trys.push([0,17,18,23]),r=za(n),g.label=1;case 1:return[4,r.next()];case 2:if(t=g.sent(),!!t.done)return[3,16];d=t.value,o=d.storeName,l=d.items,g.label=3;case 3:g.trys.push([3,9,10,15]),f=za(l),g.label=4;case 4:return[4,f.next()];case 5:return m=g.sent(),!m.done?(p=m.value,p?typeof p!="object"?[3,7]:(v=p.id,[4,this.db.delete(v,o)]):[3,7]):[3,8];case 6:g.sent(),g.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return h=g.sent(),s={error:h},[3,15];case 10:return g.trys.push([10,,13,14]),m&&!m.done&&(c=f.return)?[4,c.call(f)]:[3,12];case 11:g.sent(),g.label=12;case 12:return[3,14];case 13:if(s)throw s.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return y=g.sent(),i={error:y},[3,23];case 18:return g.trys.push([18,,21,22]),t&&!t.done&&(a=r.return)?[4,a.call(r)]:[3,20];case 19:g.sent(),g.label=20;case 20:return[3,22];case 21:if(i)throw i.error;return[7];case 22:return[7];case 23:return[2]}})})},e.prototype.deleteTraverse=function(n,r,t,i,a){var s,c,d,o,l,f,m,p,v,h,y,g;return Ir(this,void 0,void 0,function(){var w,b,E,S,A,I,P,M,O,k,_,D,x,T,M,D,B,j,F,U=this;return Nr(this,function(z){switch(z.label){case 0:z.trys.push([0,35,36,41]),s=za(n),z.label=1;case 1:return[4,s.next()];case 2:if(c=z.sent(),!!c.done)return[3,34];switch(w=c.value,b=w.relationType,E=w.modelName,S=w.targetName,A=this.getStorename(i,E),I=Ov(this.schema.namespaces[i].relationships[E].relationTypes,t)||Mv(this.schema.namespaces[i].relationships[E].indexes,w.associatedWith),P=b,P){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:z.trys.push([3,10,11,16]),d=za(r),z.label=4;case 4:return[4,d.next()];case 5:return o=z.sent(),!o.done?(M=o.value,O=I||"byId",k=S in M,_=k?M[S]:M.id,_?[4,this.db.getAll(A)]:[3,9]):[3,9];case 6:return D=z.sent(),x=D.filter(function(H){return H[O]===_}),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[E].relationTypes,x,E,i,a)];case 7:z.sent(),z.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return T=z.sent(),v={error:T},[3,16];case 11:return z.trys.push([11,,14,15]),o&&!o.done&&(h=d.return)?[4,h.call(d)]:[3,13];case 12:z.sent(),z.label=13;case 13:return[3,15];case 14:if(v)throw v.error;return[7];case 15:return[7];case 16:return[3,33];case 17:z.trys.push([17,24,25,30]),l=za(r),z.label=18;case 18:return[4,l.next()];case 19:return f=z.sent(),!f.done?(M=f.value,[4,this.db.getAll(A)]):[3,23];case 20:return D=z.sent(),B=D.filter(function(H){return H[I]===M.id}),[4,this.deleteTraverse(this.schema.namespaces[i].relationships[E].relationTypes,B,E,i,a)];case 21:z.sent(),z.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return j=z.sent(),y={error:j},[3,30];case 25:return z.trys.push([25,,28,29]),f&&!f.done&&(g=l.return)?[4,g.call(l)]:[3,27];case 26:z.sent(),z.label=27;case 27:return[3,29];case 28:if(y)throw y.error;return[7];case 29:return[7];case 30:return[3,33];case 31:return[3,33];case 32:return Le(b),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return F=z.sent(),m={error:F},[3,41];case 36:return z.trys.push([36,,39,40]),c&&!c.done&&(p=s.return)?[4,p.call(s)]:[3,38];case 37:z.sent(),z.label=38;case 38:return[3,40];case 39:if(m)throw m.error;return[7];case 40:return[7];case 41:return a.push({storeName:this.getStorename(i,t),items:r.map(function(H){return U.modelInstanceCreator(U.getModelConstructorByModelName(i,t),H)})}),[2]}})})},e.prototype.clear=function(){return Ir(this,void 0,void 0,function(){return Nr(this,function(n){switch(n.label){case 0:return[4,this.db.clear()];case 1:return n.sent(),this.db=void 0,this.initPromise=void 0,[2]}})})},e.prototype.batchSave=function(n,r){return Ir(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p;return Nr(this,function(v){switch(v.label){case 0:t=n.name,i=this.namespaceResolver(n),a=this.getStorename(i,t),s=[],c=function(h){var y=h.id,g=_c(n.name,d.modelInstanceCreator(n,h),d.schema.namespaces[d.namespaceResolver(n)],d.modelInstanceCreator,d.getModelConstructorByModelName),w=g.find(function(b){var E=b.instance;return E.id===y}).instance;s.push(w)},d=this;try{for(o=s_(r),l=o.next();!l.done;l=o.next())f=l.value,c(f)}catch(h){m={error:h}}finally{try{l&&!l.done&&(p=o.return)&&p.call(o)}finally{if(m)throw m.error}}return[4,this.db.batchSave(a,s)];case 1:return[2,v.sent()]}})})},e}();var CW=new rAe;var tAe=function(){var e=cn().isBrowser;return e&&window.indexedDB||Yc()&&self.indexedDB?EW:CW},AW=tAe;var qv=function(){return qv=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qv.apply(this,arguments)},Jr=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Wr=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},aAe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},jv=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},c_=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},iAe=new q("DataStore"),TW=function(){function e(n,r,t,i,a,s){this.schema=n,this.namespaceResolver=r,this.getModelConstructorByModelName=t,this.modelInstanceCreator=i,this.adapter=a,this.sessionId=s,this.adapter=this.adapter||AW(),this.pushStream=new PW.default}return e.getNamespace=function(){var n={name:Dv,relationships:{},enums:{},models:{},nonModels:{}};return n},e.prototype.init=function(){return Jr(this,void 0,void 0,function(){var n,r;return Wr(this,function(t){switch(t.label){case 0:return this.initialized===void 0?[3,2]:[4,this.initialized];case 1:return t.sent(),[2];case 2:return iAe.debug("Starting Storage"),this.initialized=new Promise(function(i,a){n=i,r=a}),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(n,r),[4,this.initialized];case 3:return t.sent(),[2]}})})},e.prototype.save=function(n,r,t,i){return Jr(this,void 0,void 0,function(){var a,s=this;return Wr(this,function(c){switch(c.label){case 0:return[4,this.init()];case 1:return c.sent(),[4,this.adapter.save(n,r)];case 2:return a=c.sent(),a.forEach(function(d){var o=jv(d,2),l=o[0],f=o[1],m=!!t,p;if(f===ve.UPDATE&&!m&&(p=s.getUpdateMutationInput(n,l,i),p===null))return a;var v=p||l,h=Object.getPrototypeOf(l).constructor;s.pushStream.next({model:h,opType:f,element:v,mutator:t,condition:fe.getPredicates(r,!1)})}),[2,a]}})})},e.prototype.delete=function(n,r,t){return Jr(this,void 0,void 0,function(){var i,a,s,c,d=this;return Wr(this,function(o){switch(o.label){case 0:return[4,this.init()];case 1:return o.sent(),[4,this.adapter.delete(n,r)];case 2:return c=jv.apply(void 0,[o.sent(),2]),a=c[0],i=c[1],s=new Set(a.map(function(l){var f=l.id;return f})),!ra(n)&&!Array.isArray(i)&&(i=[i]),i.forEach(function(l){var f=Object.getPrototypeOf(l).constructor,m;ra(n)||(m=s.has(l.id)?fe.getPredicates(r,!1):void 0),d.pushStream.next({model:f,opType:ve.DELETE,element:l,mutator:t,condition:m})}),[2,[a,i]]}})})},e.prototype.query=function(n,r,t){return Jr(this,void 0,void 0,function(){return Wr(this,function(i){switch(i.label){case 0:return[4,this.init()];case 1:return i.sent(),[4,this.adapter.query(n,r,t)];case 2:return[2,i.sent()]}})})},e.prototype.queryOne=function(n,r){return r===void 0&&(r=Pr.FIRST),Jr(this,void 0,void 0,function(){var t;return Wr(this,function(i){switch(i.label){case 0:return[4,this.init()];case 1:return i.sent(),[4,this.adapter.queryOne(n,r)];case 2:return t=i.sent(),[2,t]}})})},e.prototype.observe=function(n,r,t){var i=!n,a=fe.getPredicates(r,!1)||{},s=a.predicates,c=a.type,d=!!s,o=this.pushStream.observable.filter(function(l){var f=l.mutator;return!t||f!==t}).map(function(l){var f=l.mutator,m=aAe(l,["mutator"]);return m});return i||(o=o.filter(function(l){var f=l.model,m=l.element;return n!==f?!1:d?Vr(m,c,s):!0})),o},e.prototype.clear=function(n){return n===void 0&&(n=!0),Jr(this,void 0,void 0,function(){return Wr(this,function(r){switch(r.label){case 0:return this.initialized=void 0,[4,this.adapter.clear()];case 1:return r.sent(),n&&this.pushStream.complete(),[2]}})})},e.prototype.batchSave=function(n,r,t){return Jr(this,void 0,void 0,function(){var i,a=this;return Wr(this,function(s){switch(s.label){case 0:return[4,this.init()];case 1:return s.sent(),[4,this.adapter.batchSave(n,r)];case 2:return i=s.sent(),i.forEach(function(c){var d=jv(c,2),o=d[0],l=d[1];a.pushStream.next({model:n,opType:l,element:o,mutator:t,condition:void 0})}),[2,i]}})})},e.prototype.getUpdateMutationInput=function(n,r,t){var i,a,s=t&&t.length;if(!s)return null;var c=jv(t,2),d=c[0],o=c[1],l={},f=d.map(function(k){return k.path&&k.path[0]}),m=Object.getPrototypeOf(n).constructor,p=this.namespaceResolver(m),v=this.schema.namespaces[p].models[m.name].fields,h=this.schema.namespaces[p].keys[m.name],y=h.primaryKey,g=h.compositeKeys,w=g===void 0?[]:g;if(f.forEach(function(k){var _,x,T,M,D,B=So((D=v[k])===null||D===void 0?void 0:D.association),j=B||k;if(!Il(o[j],r[j])){l[j]=r[j]===void 0?null:r[j];try{for(var F=c_(w),U=F.next();!U.done;U=F.next()){var z=U.value;if(z.has(j))try{for(var H=(T=void 0,c_(z)),L=H.next();!L.done;L=H.next()){var Q=L.value;l[Q]=r[Q]}}catch(Y){T={error:Y}}finally{try{L&&!L.done&&(M=H.return)&&M.call(H)}finally{if(T)throw T.error}}}}catch(Y){_={error:Y}}finally{try{U&&!U.done&&(x=F.return)&&x.call(F)}finally{if(_)throw _.error}}}}),y&&y.length)try{for(var b=c_(y),E=b.next();!E.done;E=b.next()){var S=E.value;l[S]=r[S]}}catch(k){i={error:k}}finally{try{E&&!E.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}if(Object.keys(l).length===0)return null;var A=r.id,I=r._version,P=r._lastChangedAt,O=r._deleted;return qv(qv({},l),{id:A,_version:I,_lastChangedAt:P,_deleted:O})},e}(),IW=function(){function e(n,r,t,i,a,s){this.mutex=new Yy,this.storage=new TW(n,r,t,i,a,s)}return e.prototype.runExclusive=function(n){return this.mutex.runExclusive(n.bind(this,this.storage))},e.prototype.save=function(n,r,t,i){return Jr(this,void 0,void 0,function(){return Wr(this,function(a){return[2,this.runExclusive(function(s){return s.save(n,r,t,i)})]})})},e.prototype.delete=function(n,r,t){return Jr(this,void 0,void 0,function(){return Wr(this,function(i){return[2,this.runExclusive(function(a){if(ra(n)){var s=n;return a.delete(s,r,t)}else{var c=n;return a.delete(c,r,t)}})]})})},e.prototype.query=function(n,r,t){return Jr(this,void 0,void 0,function(){return Wr(this,function(i){return[2,this.runExclusive(function(a){return a.query(n,r,t)})]})})},e.prototype.queryOne=function(n,r){return r===void 0&&(r=Pr.FIRST),Jr(this,void 0,void 0,function(){return Wr(this,function(t){return[2,this.runExclusive(function(i){return i.queryOne(n,r)})]})})},e.getNamespace=function(){return TW.getNamespace()},e.prototype.observe=function(n,r,t){return this.storage.observe(n,r,t)},e.prototype.clear=function(){return Jr(this,void 0,void 0,function(){return Wr(this,function(n){switch(n.label){case 0:return[4,this.storage.clear()];case 1:return n.sent(),[2]}})})},e.prototype.batchSave=function(n,r){return this.storage.batchSave(n,r)},e.prototype.init=function(){return Jr(this,void 0,void 0,function(){return Wr(this,function(n){return[2,this.storage.init()]})})},e}();var NW=new og().networkMonitor();var $v=function(){return $v=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$v.apply(this,arguments)},JYe=new q("DataStore"),oAe=5e3,sAe=function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var n=this;if(this.observer)throw new Error("Subscriber already exists");return new xe(function(r){return n.observer=r,n.subscription=NW.subscribe(function(t){var i=t.online;n.connectionStatus.online=i;var a=$v({},n.connectionStatus);r.next(a)}),function(){clearTimeout(n.timeout),n.unsubscribe()}})},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.socketDisconnected=function(){var n=this;this.observer&&typeof this.observer.next=="function"&&(this.observer.next({online:!1}),this.timeout=setTimeout(function(){var r=$v({},n.connectionStatus);n.observer.next(r)},oAe))},e}(),RW=sAe;var OW=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},MW=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},d_=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},cAe=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},dAe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(d_(arguments[n]));return e},DW=function(){function e(n,r){this.outbox=n,this.ownSymbol=r}return e.prototype.merge=function(n,r){return OW(this,void 0,void 0,function(){var t,i,a,s,c;return MW(this,function(d){switch(d.label){case 0:return[4,this.outbox.getForModel(n,r)];case 1:return i=d.sent(),a=r._deleted,i.length!==0?[3,5]:a?(t=ve.DELETE,[4,n.delete(r,void 0,this.ownSymbol)]):[3,3];case 2:return d.sent(),[3,5];case 3:return[4,n.save(r,void 0,this.ownSymbol)];case 4:s=d_.apply(void 0,[d.sent(),1]),c=d_(s[0],2),t=c[1],d.label=5;case 5:return[2,t]}})})},e.prototype.mergePage=function(n,r,t){return OW(this,void 0,void 0,function(){var i,a,s,c,d,o,l;return MW(this,function(f){switch(f.label){case 0:i=new Map;try{for(a=cAe(t),s=a.next();!s.done;s=a.next())c=s.value,i.set(c.id,c)}catch(m){o={error:m}}finally{try{s&&!s.done&&(l=a.return)&&l.call(a)}finally{if(o)throw o.error}}return d=dAe(i.values()),[4,n.batchSave(r,d,this.ownSymbol)];case 1:return[2,f.sent()]}})})},e}();var Hv=function(){return Hv=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hv.apply(this,arguments)},l_=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},u_=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},lAe=new q("DataStore"),f_;(function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"})(f_||(f_={}));var we;(function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"})(we||(we={}));var uAe={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},fAe=Object.keys(uAe);function mAe(){return fAe}function m_(e,n){var r=kW(n),t=yAe(e,n),i=pAe(n,r),a=Object.values(r).map(function(c){var d=c.name;return d}).concat(i).concat(t);$E(n)&&(a=a.concat(mAe()).concat(hAe(n)));var s=a.join(`
`);return s}function pAe(e,n){var r=vAe(e);return!n.owner&&r.includes("owner")?["owner"]:[]}function vAe(e){var n=[];return $E(e)&&e.attributes&&e.attributes.forEach(function(r){if(r.properties&&r.properties.rules){var t=r.properties.rules.find(function(i){return i.allow==="owner"});t&&t.ownerField&&n.push(t.ownerField)}}),n}function kW(e){var n=e.fields,r=Object.values(n).filter(function(t){return!!(HE(t.type)||eW(t.type))}).reduce(function(t,i){return t[i.name]=i,t},{});return r}function hAe(e){var n=[];return Object.values(e.fields).filter(function(r){var t=r.association;return t&&Object.keys(t).length}).forEach(function(r){var t=r.name,i=r.association,a=i.connectionType;switch(a){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":So(i)&&n.push(t+" { id _deleted }");break;default:Le(a)}}),n}function yAe(e,n){var r=[];return Object.values(n.fields).forEach(function(t){var i=t.name,a=t.type;if(Bv(a)){var s=e.nonModels[a.nonModel],c=Object.values(kW(s)).map(function(o){var l=o.name;return l}),d=[];Object.values(s.fields).forEach(function(o){var l=o.type,f=o.name;if(Bv(l)){var m=e.nonModels[l.nonModel];d.push(f+" { "+m_(e,m)+" }")}}),r.push(i+" { "+c.join(" ")+" "+d.join(" ")+" }")}}),r}function zW(e){var n=[].concat(e.attributes).find(function(s){return s&&s.type==="auth"}),r=(n||{}).properties,t=(r===void 0?{}:r).rules,i=t===void 0?[]:t,a=[];return i.forEach(function(s){var c=s.identityClaim,d=c===void 0?"cognito:username":c,o=s.ownerField,l=o===void 0?"owner":o,f=s.operations,m=f===void 0?["create","update","delete","read"]:f,p=s.provider,v=p===void 0?"userPools":p,h=s.groupClaim,y=h===void 0?"cognito:groups":h,g=s.allow,w=g===void 0?"iam":g,b=s.groups,E=b===void 0?[]:b,S=m.includes("read"),A=w==="owner";if(!(!S&&!A)){var I={identityClaim:d,ownerField:l,provider:v,groupClaim:y,authStrategy:w,groups:E,areSubscriptionsPublic:!1};if(A){var P=[].concat(e.attributes).find(function(T){return T&&T.type==="model"}),O=(P||{}).properties,k=(O===void 0?{}:O).subscriptions,_=(k===void 0?{}:k).level,x=_===void 0?"on":_;I.areSubscriptionsPublic=!m.includes("read")||x==="public"}if(A){a.push(I);return}a.unshift(I)}}),a}function LW(e,n,r,t,i){var a=m_(e,n),s=n.name,c=n.pluralName,d="on"+r+s,o="",l="";return t&&(o="($"+i+": String!)",l="("+i+": $"+i+")"),[r,d,"subscription operation"+o+`{
			`+d+l+`{
				`+a+`
			}
		}`]}function Ao(e,n,r){var t=m_(e,n),i=n.name,a=n.pluralName,s,c=" ",d=" ",o;switch(r){case"LIST":s="sync"+a,c="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+i+"FilterInput)",d="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",t=`items {
							`+t+`
						}
						nextToken
						startedAt`;break;case"CREATE":s="create"+i,c="($input: Create"+i+"Input!)",d="(input: $input)",o=we.CREATE;break;case"UPDATE":s="update"+i,c="($input: Update"+i+"Input!, $condition: Model"+i+"ConditionInput)",d="(input: $input, condition: $condition)",o=we.UPDATE;break;case"DELETE":s="delete"+i,c="($input: Delete"+i+"Input!, $condition: Model"+i+"ConditionInput)",d="(input: $input, condition: $condition)",o=we.DELETE;break;case"GET":s="get"+i,c="($id: ID!)",d="(id: $id)",o=we.GET;break;default:Le(r)}return[[o,s,f_[r]+" operation"+c+`{
		`+s+d+`{
			`+t+`
		}
	}`]]}function Gv(e,n,r,t,i,a,s,c,d){var o;switch(r){case ve.INSERT:o=we.CREATE;break;case ve.UPDATE:o=we.UPDATE;break;case ve.DELETE:o=we.DELETE;break;default:Le(r)}var l=function(m,p){var v=m&&p!==null&&typeof p=="object"&&n.fields[m]&&n.fields[m].type==="AWSJSON";return v?JSON.stringify(p):p},f=c(s,Hv(Hv({},d?{id:d}:{}),{data:JSON.stringify(i,l),modelId:i.id,model:t.name,operation:o,condition:JSON.stringify(a)}));return f}function p_(e){var n={};return!e||!Array.isArray(e.predicates)||e.predicates.forEach(function(r){var t;if(Ma(r)){var i=r.field,a=r.operator,s=r.operand;if(i==="id")return;n[i]=(t={},t[a]=s,t)}else n[r.type]=p_(r)}),n}function v_(e){var n={};if(!e||!Array.isArray(e.predicates))return n;var r=e.type,t=e.predicates,i=r==="and"||r==="or";n[r]=i?[]:{};var a=function(s){return i?n[r].push(s):n[r]=s};return t.forEach(function(s){var c,d;if(Ma(s)){var o=s.field,l=s.operator,f=s.operand,m=(c={},c[o]=(d={},d[l]=f,d),c);a(m);return}a(v_(s))}),n}function h_(e,n){var r=e[n.groupClaim]||[];if(typeof r=="string"){var t=void 0;try{t=JSON.parse(r)}catch{t=r}r=[].concat(t)}return r}function Pc(e){var n=e.authModeStrategy,r=e.defaultAuthMode,t=e.modelName,i=e.schema;return l_(this,void 0,void 0,function(){var a,s,c,d=this;return u_(this,function(o){switch(o.label){case 0:a=Object.values(zv),s={CREATE:[],READ:[],UPDATE:[],DELETE:[]},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(a.map(function(l){return l_(d,void 0,void 0,function(){var f;return u_(this,function(m){switch(m.label){case 0:return[4,n({schema:i,modelName:t,operation:l})];case 1:return f=m.sent(),typeof f=="string"?s[l]=[f]:Array.isArray(f)&&f.length?s[l]=f:s[l]=[r],[2]}})})}))];case 2:return o.sent(),[3,4];case 3:return c=o.sent(),lAe.debug("Error getting auth modes for model: "+t,c),[3,4];case 4:return[2,s]}})})}function y_(e){var n=["Request failed with status code 401","Request failed with status code 403"],r;return e&&e.errors?r=e.errors.find(function(t){return n.includes(t.message)}):e&&e.message&&(r=e),r?r.message:null}function g_(e){var n=Object.values($r),r=e&&e.message&&n.find(function(t){return e.message.includes(t)});return r||null}function To(e,n){return n===void 0&&(n={}),l_(this,void 0,void 0,function(){var r,t,i,a;return u_(this,function(s){switch(s.label){case 0:if(e!==ze.AWS_LAMBDA)return[3,6];if(r=n.authProviders,t=(r===void 0?{functionAuthProvider:null}:r).functionAuthProvider,!(t&&typeof t=="function"))return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t()];case 2:return i=s.sent().token,[2,i];case 3:throw a=s.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+a);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+ze.AWS_LAMBDA);case 6:return[2]}})})}var xi=function(){return xi=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xi.apply(this,arguments)},_i=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Si=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Vv=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},gAe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},BW=function(){function e(n,r,t,i){this.schema=n,this.MutationEvent=r,this.modelInstanceCreator=t,this.ownSymbol=i}return e.prototype.enqueue=function(n,r){return _i(this,void 0,void 0,function(){var t=this;return Si(this,function(i){return n.runExclusive(function(a){return _i(t,void 0,void 0,function(){var s,c,d,o,l,f,m,p,v,h=this;return Si(this,function(y){switch(y.label){case 0:return s=this.schema.namespaces[Oa].models.MutationEvent,c=fe.createFromExisting(s,function(g){return g.modelId("eq",r.modelId).id("ne",h.inProgressMutationEventId)}),[4,a.query(this.MutationEvent,c)];case 1:return d=gAe.apply(void 0,[y.sent(),1]),o=d[0],o!==void 0?[3,3]:[4,a.save(r,void 0,this.ownSymbol)];case 2:return y.sent(),[2];case 3:return l=r.operation,o.operation!==we.CREATE?[3,8]:l!==we.DELETE?[3,5]:[4,a.delete(this.MutationEvent,c)];case 4:return y.sent(),[3,7];case 5:return f=this.mergeUserFields(o,r),[4,a.save(this.MutationEvent.copyOf(o,function(g){g.data=f.data}),void 0,this.ownSymbol)];case 6:y.sent(),y.label=7;case 7:return[3,12];case 8:return m=r.condition,p=JSON.parse(m),v=void 0,Object.keys(p).length!==0?[3,10]:(v=this.mergeUserFields(o,r),[4,a.delete(this.MutationEvent,c)]);case 9:y.sent(),y.label=10;case 10:return v=v||r,[4,a.save(v,void 0,this.ownSymbol)];case 11:y.sent(),y.label=12;case 12:return[2]}})})}),[2]})})},e.prototype.dequeue=function(n,r,t){return _i(this,void 0,void 0,function(){var i;return Si(this,function(a){switch(a.label){case 0:return[4,this.peek(n)];case 1:return i=a.sent(),r?[4,this.syncOutboxVersionsOnDequeue(n,r,i,t)]:[3,3];case 2:a.sent(),a.label=3;case 3:return[4,n.delete(i)];case 4:return a.sent(),this.inProgressMutationEventId=void 0,[2,i]}})})},e.prototype.peek=function(n){return _i(this,void 0,void 0,function(){var r;return Si(this,function(t){switch(t.label){case 0:return[4,n.queryOne(this.MutationEvent,Pr.FIRST)];case 1:return r=t.sent(),this.inProgressMutationEventId=r?r.id:void 0,[2,r]}})})},e.prototype.getForModel=function(n,r){return _i(this,void 0,void 0,function(){var t,i;return Si(this,function(a){switch(a.label){case 0:return t=this.schema.namespaces[Oa].models.MutationEvent,[4,n.query(this.MutationEvent,fe.createFromExisting(t,function(s){return s.modelId("eq",r.id)}))];case 1:return i=a.sent(),[2,i]}})})},e.prototype.getModelIds=function(n){return _i(this,void 0,void 0,function(){var r,t;return Si(this,function(i){switch(i.label){case 0:return[4,n.query(this.MutationEvent)];case 1:return r=i.sent(),t=new Set,r.forEach(function(a){var s=a.modelId;return t.add(s)}),[2,t]}})})},e.prototype.syncOutboxVersionsOnDequeue=function(n,r,t,i){return _i(this,void 0,void 0,function(){var a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E=this;return Si(this,function(S){switch(S.label){case 0:return t.operation!==i?[2]:(a=r._version,s=r._lastChangedAt,c=r._deleted,d=Vv(r,["_version","_lastChangedAt","_deleted"]),o=this.removeTimestampFields(t.model,d),l=JSON.parse(t.data),l?(f=l._version,m=l._lastChangedAt,p=l._deleted,v=Vv(l,["_version","_lastChangedAt","_deleted"]),h=this.removeTimestampFields(t.model,v),Il(o,h,!0)?(y=this.schema.namespaces[Oa].models.MutationEvent,g=fe.createFromExisting(y,function(A){return A.modelId("eq",r.id).id("ne",E.inProgressMutationEventId)}),[4,n.query(this.MutationEvent,g)]):[2]):[2]);case 1:return w=S.sent(),w.length?(b=w.map(function(A){var I=JSON.parse(A.data),P=xi(xi({},I),{_version:a,_lastChangedAt:s});return E.MutationEvent.copyOf(A,function(O){O.data=JSON.stringify(P)})}),[4,n.delete(this.MutationEvent,g)]):[2];case 2:return S.sent(),[4,Promise.all(b.map(function(A){return _i(E,void 0,void 0,function(){return Si(this,function(I){switch(I.label){case 0:return[4,n.save(A,void 0,this.ownSymbol)];case 1:return[2,I.sent()]}})})}))];case 3:return S.sent(),[2]}})})},e.prototype.mergeUserFields=function(n,r){var t=JSON.parse(n.data),i=t._version,a=t.id,s=t._lastChangedAt,c=t._deleted,d=Vv(t,["_version","id","_lastChangedAt","_deleted"]),o=JSON.parse(r.data),l=o.id,f=o._version,m=o._lastChangedAt,p=o._deleted,v=Vv(o,["id","_version","_lastChangedAt","_deleted"]),h=JSON.stringify(xi(xi({id:a,_version:i,_lastChangedAt:s,_deleted:c},d),v));return this.modelInstanceCreator(this.MutationEvent,xi(xi({},r),{data:h}))},e.prototype.removeTimestampFields=function(n,r){var t,i,a="createdAt",s="updatedAt",c=a,d=s,o=(t=this.schema.namespaces[Ra].models[n].attributes)===null||t===void 0?void 0:t.find(function(f){return f.type==="model"}),l=(i=o?.properties)===null||i===void 0?void 0:i.timestamps;return l&&(c=l[a],d=l[s]),delete r[c],delete r[d],r},e}();var Nl=function(){return Nl=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nl.apply(this,arguments)},Ic=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Po=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},wAe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},Rt=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},bAe=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},EAe=10,Io=new q("DataStore"),UW=function(){function e(n,r,t,i,a,s,c,d,o,l){c===void 0&&(c={}),this.schema=n,this.storage=r,this.userClasses=t,this.outbox=i,this.modelInstanceCreator=a,this.MutationEvent=s,this.amplifyConfig=c,this.authModeStrategy=d,this.conflictHandler=o,this.errorHandler=l,this.typeQuery=new WeakMap,this.processing=!1,this.generateQueries()}return e.prototype.generateQueries=function(){var n=this;Object.values(this.schema.namespaces).forEach(function(r){Object.values(r.models).filter(function(t){var i=t.syncable;return i}).forEach(function(t){var i=Rt(Ao(r,t,"CREATE"),1),a=i[0],s=Rt(Ao(r,t,"UPDATE"),1),c=s[0],d=Rt(Ao(r,t,"DELETE"),1),o=d[0];n.typeQuery.set(t,[a,c,o])})})},e.prototype.isReady=function(){return this.observer!==void 0},e.prototype.start=function(){var n=this,r=new xe(function(t){return n.observer=t,n.resume(),function(){n.pause()}});return r},e.prototype.resume=function(){return Ic(this,void 0,void 0,function(){var n,r,t,i,a,s=this;return Po(this,function(c){switch(c.label){case 0:if(this.processing||!this.isReady())return[2];this.processing=!0,r=Ra,t=function(){var d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I;return Po(this,function(P){switch(P.label){case 0:d=n.model,o=n.operation,l=n.data,f=n.condition,m=i.userClasses[d],p=void 0,v=void 0,h=void 0,P.label=1;case 1:return P.trys.push([1,4,,5]),[4,Pc({authModeStrategy:i.authModeStrategy,defaultAuthMode:i.amplifyConfig.aws_appsync_authenticationType,modelName:d,schema:i.schema})];case 2:return y=P.sent(),g=y[o.toUpperCase()],w=0,b=function(){return Ic(s,void 0,void 0,function(){var O,k;return Po(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,4]),Io.debug("Attempting mutation with authMode: "+g[w]),[4,this.jitteredRetry(r,d,o,l,f,m,this.MutationEvent,n,g[w])];case 1:return O=_.sent(),Io.debug("Mutation sent successfully with authMode: "+g[w]),[2,O];case 2:if(k=_.sent(),w++,w>=g.length)throw Io.debug("Mutation failed with authMode: "+g[w-1]),k;return Io.debug("Mutation failed with authMode: "+g[w-1]+". Retrying with authMode: "+g[w]),[4,b()];case 3:return[2,_.sent()];case 4:return[2]}})})},[4,b()];case 3:return I=Rt.apply(void 0,[P.sent(),3]),p=I[0],v=I[1],h=I[2],[3,5];case 4:return E=P.sent(),E.message==="Offline"||E.message==="RetryMutation"?[2,"continue"]:[3,5];case 5:return p!==void 0?[3,7]:(Io.debug("done retrying"),[4,i.storage.runExclusive(function(O){return Ic(s,void 0,void 0,function(){return Po(this,function(k){switch(k.label){case 0:return[4,this.outbox.dequeue(O)];case 1:return k.sent(),[2]}})})})]);case 6:return P.sent(),[2,"continue"];case 7:return S=p.data[v],A=!1,[4,i.storage.runExclusive(function(O){return Ic(s,void 0,void 0,function(){return Po(this,function(k){switch(k.label){case 0:return[4,this.outbox.dequeue(O,S,o)];case 1:return k.sent(),[4,this.outbox.peek(O)];case 2:return A=k.sent()!==void 0,[2]}})})})];case 8:return P.sent(),i.observer.next({operation:o,modelDefinition:h,model:S,hasMore:A}),[2]}})},i=this,c.label=1;case 1:return a=this.processing,a?[4,this.outbox.peek(this.storage)]:[3,3];case 2:a=(n=c.sent())!==void 0,c.label=3;case 3:return a?[5,t()]:[3,5];case 4:return c.sent(),[3,1];case 5:return this.pause(),[2]}})})},e.prototype.jitteredRetry=function(n,r,t,i,a,s,c,d,o){return Ic(this,void 0,void 0,function(){var l=this;return Po(this,function(f){switch(f.label){case 0:return[4,Va(function(m,p,v,h,y,g,w){return Ic(l,void 0,void 0,function(){var b,E,S,A,I,P,O,k,_,x,T,M,D,B,j,F,U,z,H,L,Q,Y,le,re,De,sn,Ae,Be,Ve;return Po(this,function(pe){switch(pe.label){case 0:return b=Rt(this.createQueryVariables(n,m,p,v,h),5),E=b[0],S=b[1],A=b[2],I=b[3],P=b[4],[4,To(o,this.amplifyConfig)];case 1:O=pe.sent(),k={query:E,variables:S,authMode:o,authToken:O},_=0,x=this.opTypeFromTransformerOperation(p),pe.label=2;case 2:return pe.trys.push([2,4,,20]),[4,Ia.graphql(k)];case 3:return T=pe.sent(),[2,[T,I,P]];case 4:if(M=pe.sent(),!(M.errors&&M.errors.length>0))return[3,18];if(D=Rt(M.errors,1),B=D[0],j=B.originalError,F=(j===void 0?{}:j).code,U=F===void 0?null:F,B.errorType==="Unauthorized")throw new yn("Unauthorized");if(B.message==="Network Error"||U==="ECONNABORTED")throw this.processing?new Error("Network Error"):new yn("Offline");return B.errorType!=="ConflictUnhandled"?[3,13]:(_++,z=void 0,_>EAe?(z=GE,[3,8]):[3,5]);case 5:return pe.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:y,localModel:this.modelInstanceCreator(y,S.input),remoteModel:this.modelInstanceCreator(y,B.data),operation:x,attempts:_})];case 6:return z=pe.sent(),[3,8];case 7:return H=pe.sent(),Io.warn("conflict trycatch",H),[3,20];case 8:return z!==GE?[3,11]:(L=Rt(Ao(this.schema.namespaces[n],P,"GET"),1),Q=Rt(L[0],3),Y=Q[1],le=Q[2],[4,To(o,this.amplifyConfig)]);case 9:return re=pe.sent(),[4,Ia.graphql({query:le,variables:{id:S.input.id},authMode:o,authToken:re})];case 10:return De=pe.sent(),[2,[De,Y,P]];case 11:return sn=this.schema.namespaces[n],Ae=Gv(sn.relationships,P,x,y,z,A,g,this.modelInstanceCreator,w.id),[4,this.storage.save(Ae)];case 12:throw pe.sent(),new yn("RetryMutation");case 13:return pe.trys.push([13,15,16,17]),[4,this.errorHandler({localModel:this.modelInstanceCreator(y,S.input),message:B.message,operation:p,errorType:B.errorType,errorInfo:B.errorInfo,remoteModel:B.data?this.modelInstanceCreator(y,B.data):null})];case 14:return pe.sent(),[3,17];case 15:return Be=pe.sent(),Io.warn("failed to execute errorHandler",Be),[3,17];case 16:return[2,B.data?[{data:(Ve={},Ve[I]=B.data,Ve)},I,P]:[]];case 17:return[3,19];case 18:throw new yn(M);case 19:return[3,20];case 20:if(k)return[3,2];pe.label=21;case 21:return[2]}})})},[r,t,i,a,s,c,d])];case 1:return[2,f.sent()]}})})},e.prototype.createQueryVariables=function(n,r,t,i,a){var s,c,d=this.schema.namespaces[n].models[r],o=this.schema.namespaces[n].keys[r].primaryKey,l=this.typeQuery.get(d),f=Rt(l.find(function(O){var k=Rt(O,1),_=k[0];return _===t}),3),m=f[1],p=f[2],v=JSON.parse(i),h=v._version,y=wAe(v,["_version"]),g={};if(o&&o.length)try{for(var w=bAe(o),b=w.next();!b.done;b=w.next()){var E=b.value;g[E]=y[E]}}catch(O){s={error:O}}finally{try{b&&!b.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}else g.id=y.id;var S=t===we.DELETE?g:Object.values(d.fields).filter(function(O){var k=O.name,_=O.type,x=O.association;return Lv(_)?!!(So(x)&&x.connectionType==="BELONGS_TO"):t===we.UPDATE?y.hasOwnProperty(k):!0}).map(function(O){var k=O.name,_=O.type,x=O.association,T=k,M=y[k];return Lv(_)&&So(x)&&(T=x.targetName,M=y[T]),[T,M]}).reduce(function(O,k){var _=Rt(k,2),x=_[0],T=_[1];return O[x]=T,O},{}),A=Nl(Nl({},S),{_version:h}),I=JSON.parse(a),P=Nl({input:A},t===we.CREATE?{}:{condition:Object.keys(I).length>0?I:null});return[p,P,I,m,d]},e.prototype.opTypeFromTransformerOperation=function(n){switch(n){case we.CREATE:return ve.INSERT;case we.DELETE:return ve.DELETE;case we.UPDATE:return ve.UPDATE;case we.GET:break;default:Le(n)}},e.prototype.pause=function(){this.processing=!1},e}();var Nc=function(){return Nc=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Nc.apply(this,arguments)},Kv=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Jv=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},w_=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},_Ae=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(w_(arguments[n]));return e},No=new q("DataStore"),Rl;(function(e){e.CONNECTED="CONNECTED"})(Rl||(Rl={}));var Rc;(function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"})(Rc||(Rc={}));var FW=function(){function e(n,r,t,i){t===void 0&&(t={}),this.schema=n,this.syncPredicates=r,this.amplifyConfig=t,this.authModeStrategy=i,this.typeQuery=new WeakMap,this.buffer=[]}return e.prototype.buildSubscription=function(n,r,t,i,a,s,c){var d=this.amplifyConfig.aws_appsync_authenticationType,o=this.getAuthorizationInfo(r,i,d,a,s,c)||{},l=o.isOwner,f=o.ownerField,m=o.ownerValue,p=w_(LW(n,r,t,l,f),3),v=p[0],h=p[1],y=p[2];return{authMode:c,opType:v,opName:h,query:y,isOwner:l,ownerField:f,ownerValue:m}},e.prototype.getAuthorizationInfo=function(n,r,t,i,a,s){i===void 0&&(i={}),a===void 0&&(a={});var c=zW(n),d=s===ze.AWS_IAM&&c.find(function(v){return v.authStrategy==="private"&&v.provider==="iam"});if(d&&r===Rc.unauth)return null;var o=c.filter(function(v){return v.authStrategy==="groups"&&["userPools","oidc"].includes(v.provider)}),l=(s===ze.AMAZON_COGNITO_USER_POOLS||s===ze.OPENID_CONNECT)&&o.find(function(v){var h=h_(i,v),y=h_(a,v);return _Ae(h,y).find(function(g){return v.groups.find(function(w){return w===g})})});if(l)return{authMode:s,isOwner:!1};var f=s===ze.AMAZON_COGNITO_USER_POOLS?c.filter(function(v){return v.authStrategy==="owner"&&v.provider==="userPools"}):[],m;if(f.forEach(function(v){var h=i[v.identityClaim];h&&(m={authMode:ze.AMAZON_COGNITO_USER_POOLS,isOwner:!v.areSubscriptionsPublic,ownerField:v.ownerField,ownerValue:h})}),m)return m;var p=s===ze.OPENID_CONNECT?c.filter(function(v){return v.authStrategy==="owner"&&v.provider==="oidc"}):[];return p.forEach(function(v){var h=a[v.identityClaim];h&&(m={authMode:ze.OPENID_CONNECT,isOwner:!v.areSubscriptionsPublic,ownerField:v.ownerField,ownerValue:h})}),m||{authMode:s||t,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(n,r){var t=r.payload.event;t===In.SUBSCRIPTION_ACK&&n()},e.prototype.start=function(){var n=this,r=new xe(function(i){var a=[],s={},c,d,o=Rc.none;return function(){return Kv(n,void 0,void 0,function(){var l,f,m,p,v,h,y,g,w,b,E,S,A=this;return Jv(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,st.currentCredentials()];case 1:return l=I.sent(),o=l.authenticated?Rc.auth:Rc.unauth,[3,3];case 2:return f=I.sent(),[3,3];case 3:return I.trys.push([3,5,,6]),[4,st.currentSession()];case 4:return m=I.sent(),c=m.getIdToken().decodePayload(),[3,6];case 5:return p=I.sent(),[3,6];case 6:if(I.trys.push([6,11,,12]),v=this.amplifyConfig,h=v.aws_cognito_region,y=v.Auth,!h||y&&!y.region)throw"Auth is not configured";return g=void 0,[4,fn.getItem("federatedInfo")];case 7:return w=I.sent(),w?(g=w.token,[3,10]):[3,8];case 8:return[4,st.currentAuthenticatedUser()];case 9:b=I.sent(),b&&(g=b.token),I.label=10;case 10:return g&&(E=g.split(".")[1],d=JSON.parse(Buffer.from(E,"base64").toString("utf8"))),[3,12];case 11:return S=I.sent(),No.debug("error getting OIDC JWT",S),[3,12];case 12:return Object.values(this.schema.namespaces).forEach(function(P){Object.values(P.models).filter(function(O){var k=O.syncable;return k}).forEach(function(O){return Kv(A,void 0,void 0,function(){var k,_,x,T,M,D,B,j,F=this;return Jv(this,function(U){switch(U.label){case 0:return[4,Pc({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:O.name,schema:this.schema})];case 1:return k=U.sent(),_=k.READ,s=Nc(Nc({},s),(D={},D[O.name]=(B={},B[we.CREATE]=[],B[we.UPDATE]=[],B[we.DELETE]=[],B),D)),x=[we.CREATE,we.UPDATE,we.DELETE],T=(j={},j[we.CREATE]=0,j[we.UPDATE]=0,j[we.DELETE]=0,j),M=function(z){return Kv(F,void 0,void 0,function(){var H,L,Q,Y,le,re,De,sn,Ae,Be,Ve,pe,vn=this;return Jv(this,function(ca){switch(ca.label){case 0:return H=this.buildSubscription(P,O,z,o,c,d,_[T[z]]),L=H.opType,Q=H.opName,Y=H.query,le=H.isOwner,re=H.ownerField,De=H.ownerValue,sn=H.authMode,[4,To(sn,this.amplifyConfig)];case 1:if(Ae=ca.sent(),Be={},le){if(!De)return i.error("Owner field required, sign in is needed in order to perform this operation"),[2];Be[re]=De}return No.debug("Attempting "+z+" subscription with authMode: "+_[T[z]]),Ve=Ia.graphql(Nc(Nc({query:Y,variables:Be},{authMode:sn}),{authToken:Ae})),s[O.name][L].push(Ve.map(function(Xe){var pr=Xe.value;return pr}).subscribe({next:function(Xe){var pr=Xe.data,Dt=Xe.errors;if(Array.isArray(Dt)&&Dt.length>0){var kt=Dt.map(function(Ane){var Tne=Ane.message;return Tne});No.warn("Skipping incoming subscription. Messages: "+kt.join(`
`)),vn.drainBuffer();return}var Jl=fe.getPredicates(vn.syncPredicates.get(O),!1),da=pr,ay=Q,ix=da[ay];vn.passesPredicateValidation(ix,Jl)&&vn.pushToBuffer(L,O,ix),vn.drainBuffer()},error:function(Xe){var pr=Xe.error,Dt=w_((pr===void 0?{errors:[]}:pr).errors,1),kt=Dt[0],Jl=(kt===void 0?{}:kt).message,da=Jl===void 0?"":Jl;if(da.includes(In.REALTIME_SUBSCRIPTION_INIT_ERROR)||da.includes(In.CONNECTION_FAILED))if(s[O.name][L].forEach(function(ay){return ay.unsubscribe()}),s[O.name][L]=[],T[z]++,T[z]>=_.length){No.debug(z+" subscription failed with authMode: "+_[T[z]-1]),No.warn("subscriptionError",da);return}else{No.debug(z+" subscription failed with authMode: "+_[T[z]-1]+". Retrying with authMode: "+_[T[z]]),M(z);return}No.warn("subscriptionError",da),typeof pe=="function"&&pe(),!(da.includes('"errorType":"Unauthorized"')||da.includes('"errorType":"OperationDisabled"'))&&i.error(da)}})),a.push(function(){return Kv(vn,void 0,void 0,function(){var Xe,pr=this;return Jv(this,function(Dt){switch(Dt.label){case 0:return[4,new Promise(function(kt){pe=kt,Xe=pr.hubQueryCompletionListener.bind(pr,kt),ye.listen("api",Xe)})];case 1:return Dt.sent(),ye.remove("api",Xe),[2]}})})}()),[2]}})})},x.forEach(function(z){return M(z)}),[2]}})})})}),Promise.all(a).then(function(){return i.next(Rl.CONNECTED)}),[2]}})})}(),function(){Object.keys(s).forEach(function(l){s[l][we.CREATE].forEach(function(f){return f.unsubscribe()}),s[l][we.UPDATE].forEach(function(f){return f.unsubscribe()}),s[l][we.DELETE].forEach(function(f){return f.unsubscribe()})})}}),t=new xe(function(i){return n.dataObserver=i,n.drainBuffer(),function(){n.dataObserver=null}});return[r,t]},e.prototype.passesPredicateValidation=function(n,r){if(!r)return!0;var t=r.predicates,i=r.type;return Vr(n,i,t)},e.prototype.pushToBuffer=function(n,r,t){this.buffer.push([n,r,t])},e.prototype.drainBuffer=function(){var n=this;this.dataObserver&&(this.buffer.forEach(function(r){return n.dataObserver.next(r)}),this.buffer=[])},e}();var Wv=function(){return Wv=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wv.apply(this,arguments)},Oc=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Mc=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Dc=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},SAe=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},jW={items:[],nextToken:null,startedAt:null},kc=new q("DataStore"),qW=function(){function e(n,r,t,i){t===void 0&&(t={}),this.schema=n,this.syncPredicates=r,this.amplifyConfig=t,this.authModeStrategy=i,this.typeQuery=new WeakMap,this.generateQueries()}return e.prototype.generateQueries=function(){var n=this;Object.values(this.schema.namespaces).forEach(function(r){Object.values(r.models).filter(function(t){var i=t.syncable;return i}).forEach(function(t){var i=Dc(Ao(r,t,"LIST"),1),a=Dc(i[0]),s=a.slice(1);n.typeQuery.set(t,s)})})},e.prototype.graphqlFilterFromPredicate=function(n){if(!this.syncPredicates)return null;var r=fe.getPredicates(this.syncPredicates.get(n),!1);return r?v_(r):null},e.prototype.retrievePage=function(n,r,t,i,a){return i===void 0&&(i=null),Oc(this,void 0,void 0,function(){var s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S=this;return Mc(this,function(A){switch(A.label){case 0:return s=Dc(this.typeQuery.get(n),2),c=s[0],d=s[1],o={limit:i,nextToken:t,lastSync:r,filter:a},[4,Pc({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:n.name,schema:this.schema})];case 1:return l=A.sent(),f=l.READ,m=0,p=function(){return Oc(S,void 0,void 0,function(){var I,P,O,k;return Mc(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,4]),kc.debug("Attempting sync with authMode: "+f[m]),[4,this.jitteredRetry({query:d,variables:o,opName:c,modelDefinition:n,authMode:f[m]})];case 1:return I=_.sent(),kc.debug("Sync successful with authMode: "+f[m]),[2,I];case 2:if(P=_.sent(),m++,m>=f.length){if(O=f[m-1],kc.debug("Sync failed with authMode: "+O,P),g_(P)||y_(P))return kc.warn("User is unauthorized to query "+c+" with auth mode "+O+". No data could be returned."),[2,{data:(k={},k[c]=jW,k)}];throw P}return kc.debug("Sync failed with authMode: "+f[m-1]+". Retrying with authMode: "+f[m]),[4,p()];case 3:return[2,_.sent()];case 4:return[2]}})})},[4,p()];case 2:return v=A.sent().data,h=v,y=c,g=h[y],w=g.items,b=g.nextToken,E=g.startedAt,[2,{nextToken:b,startedAt:E,items:w}]}})})},e.prototype.partialDataFeatureFlagEnabled=function(){try{var n=sessionStorage.getItem("datastorePartialData");return!!n}catch{return!1}},e.prototype.jitteredRetry=function(n){var r=n.query,t=n.variables,i=n.opName,a=n.modelDefinition,s=n.authMode;return Oc(this,void 0,void 0,function(){var c=this;return Mc(this,function(d){switch(d.label){case 0:return[4,Va(function(o,l){return Oc(c,void 0,void 0,function(){var f,m,p,v,y,h,y;return Mc(this,function(g){switch(g.label){case 0:return g.trys.push([0,3,,4]),[4,To(s,this.amplifyConfig)];case 1:return f=g.sent(),[4,Ia.graphql({query:o,variables:l,authMode:s,authToken:f})];case 2:return[2,g.sent()];case 3:if(m=g.sent(),p=g_(m)||y_(m),p)throw new yn(p);if(v=!!(m&&m.data&&m.data[i]&&m.data[i].items),this.partialDataFeatureFlagEnabled()){if(v)return y=m,y.data[i].items=y.data[i].items.filter(function(w){return w!==null}),m.errors&&ye.dispatch("datastore",{event:"syncQueriesPartialSyncError",data:{errors:m.errors,modelName:a.name}}),[2,y];throw m}if(h=m&&m.errors&&m.errors.some(function(w){return w.errorType==="Unauthorized"}),h)return y=m,v?y.data[i].items=y.data[i].items.filter(function(w){return w!==null}):y.data[i]=Wv(Wv({},jW),y.data[i]),kc.warn("queryError","User is unauthorized to query "+i+", some items could not be returned."),[2,y];throw m;case 4:return[2]}})})},[r,t])];case 1:return[2,d.sent()]}})})},e.prototype.start=function(n){var r=this,t=!0,i=this.amplifyConfig,a=i.maxRecordsToSync,s=i.syncPageSize,c=new Map,d=new xe(function(o){var l=Object.values(r.schema.namespaces).reduce(function(m,p){var v,h;try{for(var y=SAe(Array.from(p.modelTopologicalOrdering.keys())),g=y.next();!g.done;g=y.next()){var w=g.value,b=n.get(p.models[w]);m.set(p.models[w],b)}}catch(E){v={error:E}}finally{try{g&&!g.done&&(h=y.return)&&h.call(y)}finally{if(v)throw v.error}}return m},new Map),f=Array.from(l.entries()).filter(function(m){var p=Dc(m,1),v=p[0].syncable;return v}).map(function(m){var p=Dc(m,2),v=p[0],h=Dc(p[1],2),y=h[0],g=h[1];return Oc(r,void 0,void 0,function(){var w,b,E,S,A,I,P,O,k,_=this;return Mc(this,function(x){switch(x.label){case 0:return w=!1,b=null,E=null,S=null,A=0,I=this.graphqlFilterFromPredicate(v),P=this.schema.namespaces[y].modelTopologicalOrdering.get(v.name),O=P.map(function(T){return c.get(y+"_"+T)}),k=new Promise(function(T){return Oc(_,void 0,void 0,function(){var M,D;return Mc(this,function(B){switch(B.label){case 0:return[4,Promise.all(O)];case 1:B.sent(),B.label=2;case 2:return t?(M=Math.min(a-A,s),[4,this.retrievePage(v,g,b,M,I)]):[2];case 3:D=B.sent(),S=D.items,b=D.nextToken,E=D.startedAt,A+=S.length,w=b===null||A>=a,o.next({namespace:y,modelDefinition:v,items:S,done:w,startedAt:E,isFullSync:!g}),B.label=4;case 4:if(!w)return[3,2];B.label=5;case 5:return T(),[2]}})})}),c.set(y+"_"+v.name,k),[4,k];case 1:return x.sent(),[2]}})})});return Promise.all(f).then(function(){o.complete()}),function(){t=!1}});return d},e}();var Ot=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},mt=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},aa=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},$W=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},xAe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(aa(arguments[n]));return e},HW=cn().isNode,Xv=new q("DataStore"),Ol=Symbol("sync"),an;(function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"})(an||(an={}));var GW=function(){function e(n,r,t,i,a,s,c,d,o,l,f,m,p){m===void 0&&(m={}),this.schema=n,this.namespaceResolver=r,this.modelClasses=t,this.userModelClasses=i,this.storage=a,this.modelInstanceCreator=s,this.maxRecordsToSync=c,this.syncPageSize=d,this.syncPredicates=f,this.amplifyConfig=m,this.authModeStrategy=p,this.online=!1,this.modelSyncedStatus=new WeakMap;var v=this.modelClasses.MutationEvent;this.outbox=new BW(this.schema,v,s,Ol),this.modelMerger=new DW(this.outbox,Ol),this.syncQueriesProcessor=new qW(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),this.subscriptionsProcessor=new FW(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),this.mutationsProcessor=new UW(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,v,this.amplifyConfig,this.authModeStrategy,o,l),this.datastoreConnectivity=new RW}return e.prototype.getModelSyncedStatus=function(n){return this.modelSyncedStatus.get(n)},e.prototype.start=function(n){var r=this;return new xe(function(t){Xv.log("starting sync engine...");var i=[];return function(){return Ot(r,void 0,void 0,function(){var a,s,c,d=this;return mt(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.setupModels(n)];case 1:return o.sent(),[3,3];case 2:return a=o.sent(),t.error(a),[2];case 3:return s=new Promise(function(l){d.datastoreConnectivity.status().subscribe(function(f){var m=f.online;return Ot(d,void 0,void 0,function(){var p,v,h,y,g,w=this;return mt(this,function(b){switch(b.label){case 0:return m&&!this.online?(this.online=m,t.next({type:an.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),v=void 0,HW?(Xv.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]):[3,10];case 1:g=aa(this.subscriptionsProcessor.start(),2),p=g[0],v=g[1],b.label=2;case 2:return b.trys.push([2,4,,5]),[4,new Promise(function(E,S){var A=p.subscribe({next:function(I){I===Rl.CONNECTED&&E()},error:function(I){S(I);var P=w.disconnectionHandler();P(I)}});i.push(A)})];case 3:return b.sent(),[3,5];case 4:return h=b.sent(),t.error(h),[2];case 5:Xv.log("Realtime ready"),t.next({type:an.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),b.label=6;case 6:return b.trys.push([6,8,,9]),[4,new Promise(function(E,S){var A=w.syncQueriesObservable().subscribe({next:function(I){var P=I.type;P===an.SYNC_ENGINE_SYNC_QUERIES_READY&&E(),t.next(I)},complete:function(){E()},error:function(I){S(I)}});A&&i.push(A)})];case 7:return b.sent(),[3,9];case 8:return y=b.sent(),t.error(y),[2];case 9:return i.push(this.mutationsProcessor.start().subscribe(function(E){var S=E.modelDefinition,A=E.model,I=E.hasMore,P=w.userModelClasses[S.name],O=w.modelInstanceCreator(P,A);w.storage.runExclusive(function(k){return w.modelMerger.merge(k,O)}),t.next({type:an.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:P,element:O}}),t.next({type:an.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!I}})})),HW||i.push(v.subscribe(function(E){var S=aa(E,3),A=S[0],I=S[1],P=S[2],O=w.userModelClasses[I.name],k=w.modelInstanceCreator(O,P);w.storage.runExclusive(function(_){return w.modelMerger.merge(_,k)})})),[3,11];case 10:m||(this.online=m,t.next({type:an.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),i.forEach(function(E){return E.unsubscribe()}),i=[]),b.label=11;case 11:return l(),[2]}})})})}),this.storage.observe(null,null,Ol).filter(function(l){var f=l.model,m=d.getModelDefinition(f);return m.syncable===!0}).subscribe({next:function(l){var f=l.opType,m=l.model,p=l.element,v=l.condition;return Ot(d,void 0,void 0,function(){var h,y,g,w;return mt(this,function(b){switch(b.label){case 0:return h=this.schema.namespaces[this.namespaceResolver(m)],y=this.modelClasses.MutationEvent,g=p_(v),w=Gv(h.relationships,this.getModelDefinition(m),f,m,p,g,y,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,w)];case 1:return b.sent(),t.next({type:an.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:m,element:p}}),t.next({type:an.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,s];case 2:return b.sent(),this.online&&this.mutationsProcessor.resume(),[2]}})})}}),t.next({type:an.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return c=o.sent()===void 0,t.next({type:an.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:c}}),[4,s];case 5:return o.sent(),t.next({type:an.SYNC_ENGINE_READY}),[2]}})})}(),function(){i.forEach(function(a){return a.unsubscribe()})}})},e.prototype.getModelsMetadataWithNextFullSync=function(n){return Ot(this,void 0,void 0,function(){var r,t,i=this;return mt(this,function(a){switch(a.label){case 0:return t=Map.bind,[4,this.getModelsMetadata()];case 1:return r=new(t.apply(Map,[void 0,a.sent().map(function(s){var c=s.namespace,d=s.model,o=s.lastSync,l=s.lastFullSync,f=s.fullSyncInterval,m=s.lastSyncPredicate,p=l+f,v=!l||p<n?0:o;return[i.schema.namespaces[c].models[d],[c,v]]})])),[2,r]}})})},e.prototype.syncQueriesObservable=function(){var n=this;return this.online?new xe(function(r){var t,i;return function(){return Ot(n,void 0,void 0,function(){var a,s,c=this;return mt(this,function(d){switch(d.label){case 0:a=function(){var o,l,f,m,p,v,h,y,g;return mt(this,function(w){switch(w.label){case 0:return o=new WeakMap,[4,s.getModelsMetadataWithNextFullSync(Date.now())];case 1:return l=w.sent(),f=new Set(l.keys()),[4,new Promise(function(b){t=c.syncQueriesProcessor.start(l).subscribe({next:function(E){var S=E.namespace,A=E.modelDefinition,I=E.items,P=E.done,O=E.startedAt,k=E.isFullSync;return Ot(c,void 0,void 0,function(){var _,x,T,M,D,B,j=this;return mt(this,function(F){switch(F.label){case 0:return _=this.userModelClasses[A.name],o.has(_)||(o.set(_,{new:0,updated:0,deleted:0}),v=qE(),y=y===void 0?O:Math.max(y,O)),[4,this.storage.runExclusive(function(U){return Ot(j,void 0,void 0,function(){var z,H,L,Q,Y,le,re,De,sn,Ae,Be,Ve,pe,vn,ca;return mt(this,function(Xe){switch(Xe.label){case 0:return[4,this.outbox.getModelIds(U)];case 1:z=Xe.sent(),H=[],L=I.filter(function(pr){return z.has(pr.id)?(H.push(pr),!1):!0}),Q=[],Xe.label=2;case 2:Xe.trys.push([2,7,8,9]),Y=$W(H),le=Y.next(),Xe.label=3;case 3:return le.done?[3,6]:(re=le.value,[4,this.modelMerger.merge(U,re)]);case 4:De=Xe.sent(),De!==void 0&&Q.push([re,De]),Xe.label=5;case 5:return le=Y.next(),[3,3];case 6:return[3,9];case 7:return sn=Xe.sent(),vn={error:sn},[3,9];case 8:try{le&&!le.done&&(ca=Y.return)&&ca.call(Y)}finally{if(vn)throw vn.error}return[7];case 9:return Be=(Ae=Q.push).apply,Ve=[Q],[4,this.modelMerger.mergePage(U,_,L)];case 10:return Be.apply(Ae,Ve.concat([xAe.apply(void 0,[Xe.sent()])])),pe=o.get(_),Q.forEach(function(pr){var Dt=aa(pr,2),kt=Dt[1];switch(kt){case ve.INSERT:pe.new++;break;case ve.UPDATE:pe.updated++;break;case ve.DELETE:pe.deleted++;break;default:Le(kt)}}),[2]}})})})];case 1:return F.sent(),P?(x=A.name,[4,this.getModelMetadata(S,x)]):[3,4];case 2:return T=F.sent(),M=T.lastFullSync,D=T.fullSyncInterval,p=D,m=m===void 0?M:Math.max(m,k?O:M),T=this.modelClasses.ModelMetadata.copyOf(T,function(U){U.lastSync=O,U.lastFullSync=k?O:T.lastFullSync}),[4,this.storage.save(T,void 0,Ol)];case 3:F.sent(),B=o.get(_),this.modelSyncedStatus.set(_,!0),r.next({type:an.SYNC_ENGINE_MODEL_SYNCED,data:{model:_,isFullSync:k,isDeltaSync:!k,counts:B}}),f.delete(A),f.size===0&&(h=qE()-v,b(),r.next({type:an.SYNC_ENGINE_SYNC_QUERIES_READY}),t.unsubscribe()),F.label=4;case 4:return[2]}})})},error:function(E){r.error(E)}}),r.next({type:an.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(f).map(function(E){var S=E.name;return S})}})})];case 2:return w.sent(),g=m+p-(y+h),Xv.debug("Next fullSync in "+g/1e3+" seconds. ("+new Date(Date.now()+g)+")"),[4,new Promise(function(b){i=setTimeout(b,g)})];case 3:return w.sent(),[2]}})},s=this,d.label=1;case 1:return r.closed?[3,3]:[5,a()];case 2:return d.sent(),[3,1];case 3:return[2]}})})}(),function(){t&&t.unsubscribe(),i&&clearTimeout(i)}}):xe.of()},e.prototype.disconnectionHandler=function(){var n=this;return function(r){(In.CONNECTION_CLOSED===r||In.TIMEOUT_DISCONNECT===r)&&n.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.setupModels=function(n){return Ot(this,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h=this;return mt(this,function(y){switch(y.label){case 0:r=n.fullSyncInterval,t=this.modelClasses.ModelMetadata,i=[],Object.values(this.schema.namespaces).forEach(function(g){Object.values(g.models).filter(function(w){var b=w.syncable;return b}).forEach(function(w){if(i.push([g.name,w]),g.name===Ra){var b=h.userModelClasses[w.name];h.modelSyncedStatus.set(b,!1)}})}),s=i.map(function(g){var w=aa(g,2),b=w[0],E=w[1];return Ot(h,void 0,void 0,function(){var S,A,I,P,O,k,_,x,T;return mt(this,function(M){switch(M.label){case 0:return[4,this.getModelMetadata(b,E.name)];case 1:return S=M.sent(),A=fe.getPredicates(this.syncPredicates.get(E),!1),I=A?JSON.stringify(A):null,S!==void 0?[3,3]:[4,this.storage.save(this.modelInstanceCreator(t,{model:E.name,namespace:b,lastSync:null,fullSyncInterval:r,lastFullSync:null,lastSyncPredicate:I}),void 0,Ol)];case 2:return k=aa.apply(void 0,[M.sent(),1]),_=aa(k[0],1),a=_[0],[3,5];case 3:return P=S.lastSyncPredicate?S.lastSyncPredicate:null,O=P!==I,[4,this.storage.save(this.modelClasses.ModelMetadata.copyOf(S,function(D){D.fullSyncInterval=r,O&&(D.lastSync=null,D.lastFullSync=null,D.lastSyncPredicate=I)}))];case 4:x=aa.apply(void 0,[M.sent(),1]),T=aa(x[0],1),a=T[0],M.label=5;case 5:return[2,a]}})})}),c={},y.label=1;case 1:return y.trys.push([1,6,7,8]),[4,Promise.all(s)];case 2:d=$W.apply(void 0,[y.sent()]),o=d.next(),y.label=3;case 3:if(o.done)return[3,5];l=o.value,f=l.model,c[f]=l,y.label=4;case 4:return o=d.next(),[3,3];case 5:return[3,8];case 6:return m=y.sent(),p={error:m},[3,8];case 7:try{o&&!o.done&&(v=d.return)&&v.call(d)}finally{if(p)throw p.error}return[7];case 8:return[2,c]}})})},e.prototype.getModelsMetadata=function(){return Ot(this,void 0,void 0,function(){var n,r;return mt(this,function(t){switch(t.label){case 0:return n=this.modelClasses.ModelMetadata,[4,this.storage.query(n)];case 1:return r=t.sent(),[2,r]}})})},e.prototype.getModelMetadata=function(n,r){return Ot(this,void 0,void 0,function(){var t,i,a,s;return mt(this,function(c){switch(c.label){case 0:return t=this.modelClasses.ModelMetadata,i=fe.createFromExisting(this.schema.namespaces[Oa].models[t.name],function(d){return d.namespace("eq",n).model("eq",r)}),[4,this.storage.query(t,i,{page:0,limit:1})];case 1:return a=aa.apply(void 0,[c.sent(),1]),s=a[0],[2,s]}})})},e.prototype.getModelDefinition=function(n){var r=this.namespaceResolver(n),t=this.schema.namespaces[r].models[n.name];return t},e.getNamespace=function(){var n={name:Oa,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}};return n},e}();var Ti=function(){return Ti=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ti.apply(this,arguments)},Rr=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Or=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},CAe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r},Ai=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a};var AAe=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(Ai(arguments[n]));return e};hJ(!0);vJ();var We=new q("DataStore"),tZe=kv(Date.now()),PAe=Se.browserOrNode().isNode,VW="schemaVersion",Ml,E_=new WeakMap,IAe=new WeakMap,La=function(e){var n=E_.get(e);return Ml.namespaces[n].models[e.name]},Ci=function(e){return ra(e)&&E_.has(e)},b_=function(e){return E_.get(e)},XW,YW,QW,NAe;var RAe=new WeakSet;function Yv(e,n){return RAe.add(n),new e(n)}function KW(e){return typeof e=="string"}function JW(e){var n=e.localModel,r=e.modelConstructor,t=e.remoteModel,i=t._version;return Yv(r,Ti(Ti({},n),{_version:i}))}function WW(e){We.warn(e)}function OAe(e,n){var r;switch(e){case jE:r=QW[n];break;case Ra:r=YW[n];break;case Oa:r=XW[n];break;case Dv:r=NAe[n];break;default:Le(e);break}if(Ci(r))return r;var t="Model name is not valid for namespace. modelName: "+n+", namespace: "+e;throw We.error(t),new Error(t)}function MAe(e,n){return Rr(this,void 0,void 0,function(){var r,t,i=this;return Or(this,function(a){switch(a.label){case 0:return r=QW.Setting,t=Ml.namespaces[jE].models.Setting,[4,e.runExclusive(function(s){return Rr(i,void 0,void 0,function(){var c,d,o;return Or(this,function(l){switch(l.label){case 0:return[4,s.query(r,fe.createFromExisting(t,function(f){return f.key("eq",VW)}),{page:0,limit:1})];case 1:return c=Ai.apply(void 0,[l.sent(),1]),d=c[0],d!==void 0&&d.value!==void 0?(o=JSON.parse(d.value),o===n?[3,3]:[4,s.clear(!1)]):[3,4];case 2:l.sent(),l.label=3;case 3:return[3,6];case 4:return[4,s.save(Yv(r,{key:VW,value:JSON.stringify(n)}))];case 5:l.sent(),l.label=6;case 6:return[2]}})})})];case 1:return a.sent(),[2]}})})}var Ro;var ZW=function(){function e(){var n=this;this.amplifyConfig={},this.syncPredicates=new WeakMap,this.start=function(){return Rr(n,void 0,void 0,function(){var r,t,i,a=this;return Or(this,function(s){switch(s.label){case 0:return this.initialized!==void 0?[3,1]:(We.debug("Starting DataStore"),this.initialized=new Promise(function(c,d){a.initResolve=c,a.initReject=d}),[3,3]);case 1:return[4,this.initialized];case 2:return s.sent(),[2];case 3:return this.storage=new IW(Ml,b_,OAe,Yv,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return s.sent(),[4,MAe(this.storage,Ml.version)];case 5:return s.sent(),r=this.amplifyConfig.aws_appsync_graphqlEndpoint,r?(We.debug("GraphQL endpoint available",r),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=s.sent(),this.sync=new GW(Ml,b_,XW,YW,this.storage,Yv,this.maxRecordsToSync,this.syncPageSize,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),i=this.fullSyncInterval*1e3*60,Ro=this.sync.start({fullSyncInterval:i}).subscribe({next:function(c){var d=c.type,o=c.data,l=PAe?an.SYNC_ENGINE_SYNC_QUERIES_READY:an.SYNC_ENGINE_STORAGE_SUBSCRIBED;d===l&&a.initResolve(),ye.dispatch("datastore",{event:d,data:o})},error:function(c){We.warn("Sync error",c),a.initReject()}}),[3,8];case 7:We.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),s.label=8;case 8:return[4,this.initialized];case 9:return s.sent(),[2]}})})},this.query=function(r,t,i){return Rr(n,void 0,void 0,function(){var a,s,c,d,o;return Or(this,function(l){switch(l.label){case 0:return[4,this.start()];case 1:if(l.sent(),!Ci(r))throw a="Constructor is not for a valid model",We.error(a,{modelConstructor:r}),new Error(a);return typeof t=="string"&&i!==void 0&&We.warn("Pagination is ignored when querying by id"),s=La(r),KW(t)?c=fe.createForId(s,t):KE(t)?c=void 0:c=fe.createFromExisting(s,t),d=this.processPagination(s,i),We.debug("params ready",{modelConstructor:r,predicate:fe.getPredicates(c,!1),pagination:Ti(Ti({},d),{sort:ta.getPredicates(d&&d.sort,!1)})}),[4,this.storage.query(r,c,d)];case 2:return o=l.sent(),[2,KW(t)?o[0]:o]}})})},this.save=function(r,t){return Rr(n,void 0,void 0,function(){var i,a,s,c,d,o,l,f=this;return Or(this,function(m){switch(m.label){case 0:return[4,this.start()];case 1:if(m.sent(),i=IAe.get(r),a=r?r.constructor:void 0,!Ci(a))throw s="Object is not an instance of a valid model",We.error(s,{model:r}),new Error(s);return c=La(a),d=fe.createFromExisting(c,t),[4,this.storage.runExclusive(function(p){return Rr(f,void 0,void 0,function(){return Or(this,function(v){switch(v.label){case 0:return[4,p.save(r,d,void 0,i)];case 1:return v.sent(),[2,p.query(a,fe.createForId(c,r.id))]}})})})];case 2:return o=Ai.apply(void 0,[m.sent(),1]),l=o[0],[2,l]}})})},this.setConflictHandler=function(r){var t=r.DataStore,i=function(){return n.conflictHandler===JW};return t&&t.conflictHandler?t.conflictHandler:i()&&r.conflictHandler?r.conflictHandler:n.conflictHandler||JW},this.setErrorHandler=function(r){var t=r.DataStore,i=function(){return n.errorHandler===WW};return t&&t.errorHandler?t.errorHandler:i()&&r.errorHandler?r.errorHandler:n.errorHandler||WW},this.delete=function(r,t){return Rr(n,void 0,void 0,function(){var i,l,c,l,l,a,p,s,c,l,d,o,l,f,m,p;return Or(this,function(v){switch(v.label){case 0:return[4,this.start()];case 1:if(v.sent(),!r)throw l="Model or Model Constructor required",We.error(l,{modelOrConstructor:r}),new Error(l);if(!Ci(r))return[3,3];if(c=r,!t)throw l="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",We.error(l,{idOrCriteria:t}),new Error(l);if(typeof t=="string")i=fe.createForId(La(c),t);else if(i=fe.createFromExisting(La(c),t),!i||!fe.isValidPredicate(i))throw l="Criteria required. Do you want to delete all? Pass Predicates.ALL",We.error(l,{condition:i}),new Error(l);return[4,this.storage.delete(c,i)];case 2:return a=Ai.apply(void 0,[v.sent(),1]),p=a[0],[2,p];case 3:if(s=r,c=Object.getPrototypeOf(s||{}).constructor,!Ci(c))throw l="Object is not an instance of a valid model",We.error(l,{model:s}),new Error(l);if(d=La(c),o=fe.createForId(d,s.id),t){if(typeof t!="function")throw l="Invalid criteria",We.error(l,{idOrCriteria:t}),new Error(l);i=t(o)}else i=o;return[4,this.storage.delete(s,i)];case 4:return f=Ai.apply(void 0,[v.sent(),1]),m=Ai(f[0],1),p=m[0],[2,p]}})})},this.observe=function(r,t){var i,a=r&&Ci(r)?r:void 0;if(r&&a===void 0){var s=r,c=s&&Object.getPrototypeOf(s).constructor;if(Ci(c))return t&&We.warn("idOrCriteria is ignored when using a model instance",{model:s,idOrCriteria:t}),n.observe(c,s.id);var d="The model is not an instance of a PersistentModelConstructor";throw We.error(d,{model:s}),new Error(d)}if(t!==void 0&&a===void 0){var d="Cannot provide criteria without a modelConstructor";throw We.error(d,t),new Error(d)}if(a&&!Ci(a)){var d="Constructor is not for a valid model";throw We.error(d,{modelConstructor:a}),new Error(d)}return typeof t=="string"?i=fe.createForId(La(a),t):i=a&&fe.createFromExisting(La(a),t),new xe(function(o){var l;return function(){return Rr(n,void 0,void 0,function(){return Or(this,function(f){switch(f.label){case 0:return[4,this.start()];case 1:return f.sent(),l=this.storage.observe(a,i).filter(function(m){var p=m.model;return b_(p)===Ra}).subscribe(o),[2]}})})}(),function(){l&&l.unsubscribe()}})},this.observeQuery=function(r,t,i){return new xe(function(a){var s=new Map,c=new Map,d=[],o,l=function(){var w=v();h(w)},f=new QJ({callback:l,errorHandler:a.error,maxInterval:2e3}),m=(i||{}).sort,p=m?{sort:m}:void 0;(function(){return Rr(n,void 0,void 0,function(){var w,b=this;return Or(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),[4,this.query(r,t,p)];case 1:return E.sent().forEach(function(S){return s.set(S.id,S)}),o=this.observe(r,t).subscribe(function(S){var A=S.element,I=S.model,P=S.opType,O,k;P==="DELETE"?d.push(A.id):c.set(A.id,A);var _=(k=(O=b.sync)===null||O===void 0?void 0:O.getModelSyncedStatus(I))!==null&&k!==void 0?k:!1,x=c.size-d.length>=b.syncPageSize;(x||_)&&f.resolve(),f.start()}),l(),[3,3];case 2:return w=E.sent(),a.error(w),[3,3];case 3:return[2]}})})})();var v=function(){var w,b,E=(b=(w=n.sync)===null||w===void 0?void 0:w.getModelSyncedStatus(r))!==null&&b!==void 0?b:!1,S=AAe(Array.from(s.values()),Array.from(c.values()));return i?.sort&&y(S),s.clear(),S.forEach(function(A){return s.set(A.id,A)}),d.forEach(function(A){return s.delete(A)}),{items:Array.from(s.values()),isSynced:E}},h=function(w){a.next(w),c.clear(),d=[]},y=function(w){var b=La(r),E=n.processPagination(b,i),S=ta.getPredicates(E.sort);if(S.length){var A=Sc(S);w.sort(A)}},g=function(w){var b=w.payload,E,S=b.event,A=b.data;S===an.SYNC_ENGINE_MODEL_SYNCED&&((E=A?.model)===null||E===void 0?void 0:E.name)===r.name&&(l(),ye.remove("api",g))};return ye.listen("datastore",g),function(){o&&o.unsubscribe()}})},this.configure=function(r){r===void 0&&(r={});var t=r.DataStore,i=r.authModeStrategyType,a=r.conflictHandler,s=r.errorHandler,c=r.maxRecordsToSync,d=r.syncPageSize,o=r.fullSyncInterval,l=r.syncExpressions,f=r.authProviders,m=r.storageAdapter,p=CAe(r,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);n.amplifyConfig=Ti(Ti({},p),n.amplifyConfig),n.conflictHandler=n.setConflictHandler(r),n.errorHandler=n.setErrorHandler(r);var v=t&&t.authModeStrategyType||i||wi.DEFAULT;switch(v){case wi.MULTI_AUTH:n.authModeStrategy=VE;break;case wi.DEFAULT:n.authModeStrategy=Iv;break;default:n.authModeStrategy=Iv;break}n.amplifyConfig.authProviders=t&&t.authProviders||f,n.syncExpressions=t&&t.syncExpressions||n.syncExpressions||l,n.maxRecordsToSync=t&&t.maxRecordsToSync||c||1e4,n.amplifyConfig.maxRecordsToSync=n.maxRecordsToSync,n.syncPageSize=t&&t.syncPageSize||d||1e3,n.amplifyConfig.syncPageSize=n.syncPageSize,n.fullSyncInterval=t&&t.fullSyncInterval||n.fullSyncInterval||o||24*60,n.storageAdapter=t&&t.storageAdapter||n.storageAdapter||m||void 0,n.sessionId=n.retrieveSessionId()},this.clear=function(){return Rr(this,void 0,void 0,function(){return Or(this,function(t){switch(t.label){case 0:return this.storage===void 0?[2]:(Ro&&!Ro.closed&&Ro.unsubscribe(),[4,this.storage.clear()]);case 1:return t.sent(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[2]}})})},this.stop=function(){return Rr(this,void 0,void 0,function(){return Or(this,function(t){switch(t.label){case 0:return this.initialized===void 0?[3,2]:[4,this.start()];case 1:t.sent(),t.label=2;case 2:return Ro&&!Ro.closed&&Ro.unsubscribe(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.sync=void 0,[2]}})})}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.processPagination=function(n,r){var t,i=r||{},a=i.limit,s=i.page,c=i.sort;if(!(a===void 0&&s===void 0&&c===void 0)){if(s!==void 0&&a===void 0)throw new Error("Limit is required when requesting a page");if(s!==void 0){if(typeof s!="number")throw new Error("Page should be a number");if(s<0)throw new Error("Page can't be negative")}if(a!==void 0){if(typeof a!="number")throw new Error("Limit should be a number");if(a<0)throw new Error("Limit can't be negative")}return c&&(t=ta.createFromExisting(n,r.sort)),{limit:a,page:s,sort:t}}},e.prototype.processSyncExpressions=function(){return Rr(this,void 0,void 0,function(){var n,r=this;return Or(this,function(t){switch(t.label){case 0:return!this.syncExpressions||!this.syncExpressions.length?[2,new WeakMap]:[4,Promise.all(this.syncExpressions.map(function(i){return Rr(r,void 0,void 0,function(){var a,s,c,d,o,l;return Or(this,function(f){switch(f.label){case 0:return[4,i];case 1:return a=f.sent(),s=a.modelConstructor,c=a.conditionProducer,d=La(s),[4,this.unwrapPromise(c)];case 2:return o=f.sent(),KE(o)?[2,[d,null]]:(l=this.createFromCondition(d,o),[2,[d,l]])}})})}))];case 1:return n=t.sent(),[2,this.weakMapFromEntries(n)]}})})},e.prototype.createFromCondition=function(n,r){try{return fe.createFromExisting(n,r)}catch(t){throw We.error("Error creating Sync Predicate"),t}},e.prototype.unwrapPromise=function(n){return Rr(this,void 0,void 0,function(){var r,t;return Or(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n()];case 1:return r=i.sent(),[2,r];case 2:if(t=i.sent(),t instanceof TypeError)return[2,n];throw t;case 3:return[2]}})})},e.prototype.weakMapFromEntries=function(n){return n.reduce(function(r,t){var i=Ai(t,2),a=i[0],s=i[1];if(r.has(a)){var c=a.name;return We.warn(`You can only utilize one Sync Expression per model.
          Subsequent sync expressions for the `+c+" model will be ignored."),r}return s&&r.set(a,s),r},new WeakMap)},e.prototype.retrieveSessionId=function(){try{var n=sessionStorage.getItem("datastoreSessionId");if(n){var r=this.amplifyConfig.aws_appsync_graphqlEndpoint,t=r.split("/")[2],i=Ai(t.split("."),1),a=i[0];return n+"-"+a}}catch{return}},e}(),zc=new ZW;se.register(zc);var Dl=function(){return Dl=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dl.apply(this,arguments)},DAe=new q("AbstractInteractionsProvider"),e9=function(){function e(n){n===void 0&&(n={}),this._config=n}return e.prototype.configure=function(n){return n===void 0&&(n={}),this._config=Dl(Dl({},this._config),n),DAe.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"Interactions"},Object.defineProperty(e.prototype,"options",{get:function(){return Dl({},this._config)},enumerable:!0,configurable:!0}),e}();var n9={name:"@aws-sdk/client-lex-runtime-service",description:"AWS SDK for JavaScript Lex Runtime Service Client for Node.js, Browser and React Native",version:"3.6.1",scripts:{clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},main:"./dist/cjs/index.js",types:"./types/index.d.ts",module:"./dist/es/index.js",browser:{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},devDependencies:{"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"types/*":["types/ts3.4/*"]}},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-lex-runtime-service",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-lex-runtime-service"}};var a9=W(va());var Qv=W(hr());var r9="runtime.lex.{region}.amazonaws.com",zAe="runtime.lex.{region}.amazonaws.com.cn",LAe="runtime.lex.{region}.c2s.ic.gov",BAe="runtime.lex.{region}.sc2s.sgov.gov",UAe="runtime.lex.{region}.amazonaws.com",FAe=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),jAe=new Set(["cn-north-1","cn-northwest-1"]),qAe=new Set(["us-iso-east-1"]),$Ae=new Set(["us-isob-east-1"]),HAe=new Set(["us-gov-east-1","us-gov-west-1"]),t9=function(e,n){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"runtime.lex.ap-northeast-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"ap-southeast-1":r={hostname:"runtime.lex.ap-southeast-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"ap-southeast-2":r={hostname:"runtime.lex.ap-southeast-2.amazonaws.com",partition:"aws",signingService:"lex"};break;case"eu-central-1":r={hostname:"runtime.lex.eu-central-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"eu-west-1":r={hostname:"runtime.lex.eu-west-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"eu-west-2":r={hostname:"runtime.lex.eu-west-2.amazonaws.com",partition:"aws",signingService:"lex"};break;case"us-east-1":r={hostname:"runtime.lex.us-east-1.amazonaws.com",partition:"aws",signingService:"lex"};break;case"us-west-2":r={hostname:"runtime.lex.us-west-2.amazonaws.com",partition:"aws",signingService:"lex"};break;default:FAe.has(e)&&(r={hostname:r9.replace("{region}",e),partition:"aws",signingService:"lex"}),jAe.has(e)&&(r={hostname:zAe.replace("{region}",e),partition:"aws-cn"}),qAe.has(e)&&(r={hostname:LAe.replace("{region}",e),partition:"aws-iso"}),$Ae.has(e)&&(r={hostname:BAe.replace("{region}",e),partition:"aws-iso-b"}),HAe.has(e)&&(r={hostname:UAe.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:r9.replace("{region}",e),partition:"aws",signingService:"lex"})}return Promise.resolve(u({signingService:"lex"},r))};var __={apiVersion:"2016-11-28",disableHostPrefix:!1,logger:{},regionInfoProvider:t9,serviceId:"Lex Runtime Service",urlParser:qn};var i9=u(u({},__),{runtime:"browser",base64Decoder:gn,base64Encoder:kn,bodyLengthChecker:Fn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:jn({serviceId:__.serviceId,clientVersion:n9.version}),maxAttempts:un,region:Ln("Region is missing"),requestHandler:new Dn,sha256:a9.Sha256,streamCollector:zn,utf8Decoder:Qv.fromUtf8,utf8Encoder:Qv.toUtf8});var o9=function(e){J(n,e);function n(r){var t=this,i=u(u({},i9),r),a=Hn(i),s=$n(a),c=Jn(s),d=Un(c),o=d,l=Wn(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(gr(t.config)),t.middlewareStack.use(Bn(t.config)),t.middlewareStack.use(Gn(t.config)),t.middlewareStack.use(Vn(t.config)),t.middlewareStack.use(Kn(t.config)),t.middlewareStack.use(Xn(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(Yn);var s9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(s9||(s9={}));var c9;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.parameters&&{parameters:X})}})(c9||(c9={}));var d9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(d9||(d9={}));var l9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(l9||(l9={}));var u9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(u9||(u9={}));var f9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(f9||(f9={}));var m9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(m9||(m9={}));var p9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(p9||(p9={}));var v9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(v9||(v9={}));var h9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(h9||(h9={}));var y9;(function(e){e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"})(y9||(y9={}));var g9;(function(e){e.COMPOSITE="Composite",e.CUSTOM_PAYLOAD="CustomPayload",e.PLAIN_TEXT="PlainText",e.SSML="SSML"})(g9||(g9={}));var w9;(function(e){e.CLOSE="Close",e.CONFIRM_INTENT="ConfirmIntent",e.DELEGATE="Delegate",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot"})(w9||(w9={}));var Zv;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.slots&&{slots:X}),n.message&&{message:X})}})(Zv||(Zv={}));var b9;(function(e){e.CONFIRMED="Confirmed",e.DENIED="Denied",e.NONE="None"})(b9||(b9={}));var eh;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.slots&&{slots:X})}})(eh||(eh={}));var E9;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u({},n),n.recentIntentSummaryView&&{recentIntentSummaryView:n.recentIntentSummaryView.map(function(r){return eh.filterSensitiveLog(r)})}),n.sessionAttributes&&{sessionAttributes:X}),n.dialogAction&&{dialogAction:Zv.filterSensitiveLog(n.dialogAction)}),n.activeContexts&&{activeContexts:X})}})(E9||(E9={}));var _9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_9||(_9={}));var S9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(S9||(S9={}));var x9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(x9||(x9={}));var C9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(C9||(C9={}));var nh;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u({},n),n.sessionAttributes&&{sessionAttributes:X}),n.requestAttributes&&{requestAttributes:X}),n.activeContexts&&{activeContexts:X})}})(nh||(nh={}));var A9;(function(e){e.CONFIRM_INTENT="ConfirmIntent",e.ELICIT_INTENT="ElicitIntent",e.ELICIT_SLOT="ElicitSlot",e.FAILED="Failed",e.FULFILLED="Fulfilled",e.READY_FOR_FULFILLMENT="ReadyForFulfillment"})(A9||(A9={}));var rh;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.message&&{message:X}),n.activeContexts&&{activeContexts:X})}})(rh||(rh={}));var T9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(T9||(T9={}));var P9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(P9||(P9={}));var th;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u({},n),n.sessionAttributes&&{sessionAttributes:X}),n.requestAttributes&&{requestAttributes:X}),n.inputText&&{inputText:X}),n.activeContexts&&{activeContexts:X})}})(th||(th={}));var I9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(I9||(I9={}));var S_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.slots&&{slots:X})}})(S_||(S_={}));var N9;(function(e){e.GENERIC="application/vnd.amazonaws.card.generic"})(N9||(N9={}));var R9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(R9||(R9={}));var O9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(O9||(O9={}));var M9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(M9||(M9={}));var D9;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(D9||(D9={}));var ah;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u(u({},n),n.alternativeIntents&&{alternativeIntents:n.alternativeIntents.map(function(r){return S_.filterSensitiveLog(r)})}),n.slots&&{slots:X}),n.sessionAttributes&&{sessionAttributes:X}),n.message&&{message:X}),n.activeContexts&&{activeContexts:X})}})(ah||(ah={}));var k9;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u({},n),n.sessionAttributes&&{sessionAttributes:X}),n.dialogAction&&{dialogAction:Zv.filterSensitiveLog(n.dialogAction)}),n.recentIntentSummaryView&&{recentIntentSummaryView:n.recentIntentSummaryView.map(function(r){return eh.filterSensitiveLog(r)})}),n.activeContexts&&{activeContexts:X})}})(k9||(k9={}));var z9;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.message&&{message:X}),n.activeContexts&&{activeContexts:X})}})(z9||(z9={}));var B9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:if(r=u(u(u(u(u({"content-type":"application/octet-stream","x-amz-content-sha256":"UNSIGNED-PAYLOAD"},kl(e.sessionAttributes)&&{"x-amz-lex-session-attributes":Buffer.from(Et.fromObject(e.sessionAttributes)).toString("base64")}),kl(e.requestAttributes)&&{"x-amz-lex-request-attributes":Buffer.from(Et.fromObject(e.requestAttributes)).toString("base64")}),kl(e.contentType)&&{"content-type":e.contentType}),kl(e.accept)&&{accept:e.accept}),kl(e.activeContexts)&&{"x-amz-lex-active-contexts":Buffer.from(Et.fromObject(e.activeContexts)).toString("base64")}),t="/bot/{botName}/alias/{botAlias}/user/{userId}/content",e.botName!==void 0){if(i=e.botName,i.length<=0)throw new Error("Empty value provided for input HTTP label: botName.");t=t.replace("{botName}",be(i))}else throw new Error("No value provided for input HTTP label: botName.");if(e.botAlias!==void 0){if(i=e.botAlias,i.length<=0)throw new Error("Empty value provided for input HTTP label: botAlias.");t=t.replace("{botAlias}",be(i))}else throw new Error("No value provided for input HTTP label: botAlias.");if(e.userId!==void 0){if(i=e.userId,i.length<=0)throw new Error("Empty value provided for input HTTP label: userId.");t=t.replace("{userId}",be(i))}else throw new Error("No value provided for input HTTP label: userId.");return e.inputStream!==void 0&&(a=e.inputStream),[4,n.endpoint()];case 1:return s=f.sent(),c=s.hostname,d=s.protocol,o=d===void 0?"https":d,l=s.port,[2,new ae({protocol:o,hostname:c,port:l,method:"POST",headers:r,path:t,body:a})]}})})},U9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,i,i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:if(r={"content-type":"application/json"},t="/bot/{botName}/alias/{botAlias}/user/{userId}/text",e.botName!==void 0){if(i=e.botName,i.length<=0)throw new Error("Empty value provided for input HTTP label: botName.");t=t.replace("{botName}",be(i))}else throw new Error("No value provided for input HTTP label: botName.");if(e.botAlias!==void 0){if(i=e.botAlias,i.length<=0)throw new Error("Empty value provided for input HTTP label: botAlias.");t=t.replace("{botAlias}",be(i))}else throw new Error("No value provided for input HTTP label: botAlias.");if(e.userId!==void 0){if(i=e.userId,i.length<=0)throw new Error("Empty value provided for input HTTP label: userId.");t=t.replace("{userId}",be(i))}else throw new Error("No value provided for input HTTP label: userId.");return a=JSON.stringify(u(u(u(u({},e.activeContexts!==void 0&&e.activeContexts!==null&&{activeContexts:QAe(e.activeContexts,n)}),e.inputText!==void 0&&e.inputText!==null&&{inputText:e.inputText}),e.requestAttributes!==void 0&&e.requestAttributes!==null&&{requestAttributes:L9(e.requestAttributes,n)}),e.sessionAttributes!==void 0&&e.sessionAttributes!==null&&{sessionAttributes:L9(e.sessionAttributes,n)})),[4,n.endpoint()];case 1:return s=f.sent(),c=s.hostname,d=s.protocol,o=d===void 0?"https":d,l=s.port,[2,new ae({protocol:o,hostname:c,port:l,method:"POST",headers:r,path:t,body:a})]}})})};var F9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return e.statusCode!==200&&e.statusCode>=300?[2,GAe(e,n)]:(r={$metadata:he(e),activeContexts:void 0,alternativeIntents:void 0,audioStream:void 0,botVersion:void 0,contentType:void 0,dialogState:void 0,inputTranscript:void 0,intentName:void 0,message:void 0,messageFormat:void 0,nluIntentConfidence:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},e.headers["content-type"]!==void 0&&(r.contentType=e.headers["content-type"]),e.headers["x-amz-lex-intent-name"]!==void 0&&(r.intentName=e.headers["x-amz-lex-intent-name"]),e.headers["x-amz-lex-nlu-intent-confidence"]!==void 0&&(r.nluIntentConfidence=new Et(Buffer.from(e.headers["x-amz-lex-nlu-intent-confidence"],"base64").toString("ascii"))),e.headers["x-amz-lex-alternative-intents"]!==void 0&&(r.alternativeIntents=new Et(Buffer.from(e.headers["x-amz-lex-alternative-intents"],"base64").toString("ascii"))),e.headers["x-amz-lex-slots"]!==void 0&&(r.slots=new Et(Buffer.from(e.headers["x-amz-lex-slots"],"base64").toString("ascii"))),e.headers["x-amz-lex-session-attributes"]!==void 0&&(r.sessionAttributes=new Et(Buffer.from(e.headers["x-amz-lex-session-attributes"],"base64").toString("ascii"))),e.headers["x-amz-lex-sentiment"]!==void 0&&(r.sentimentResponse=e.headers["x-amz-lex-sentiment"]),e.headers["x-amz-lex-message"]!==void 0&&(r.message=e.headers["x-amz-lex-message"]),e.headers["x-amz-lex-message-format"]!==void 0&&(r.messageFormat=e.headers["x-amz-lex-message-format"]),e.headers["x-amz-lex-dialog-state"]!==void 0&&(r.dialogState=e.headers["x-amz-lex-dialog-state"]),e.headers["x-amz-lex-slot-to-elicit"]!==void 0&&(r.slotToElicit=e.headers["x-amz-lex-slot-to-elicit"]),e.headers["x-amz-lex-input-transcript"]!==void 0&&(r.inputTranscript=e.headers["x-amz-lex-input-transcript"]),e.headers["x-amz-lex-bot-version"]!==void 0&&(r.botVersion=e.headers["x-amz-lex-bot-version"]),e.headers["x-amz-lex-session-id"]!==void 0&&(r.sessionId=e.headers["x-amz-lex-session-id"]),e.headers["x-amz-lex-active-contexts"]!==void 0&&(r.activeContexts=new Et(Buffer.from(e.headers["x-amz-lex-active-contexts"],"base64").toString("ascii"))),t=e.body,r.audioStream=t,[2,Promise.resolve(r)])})})},GAe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E;return N(this,function(S){switch(S.label){case 0:return t=[u({},e)],E={},[4,C_(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(E.body=S.sent(),E)])),a="UnknownError",a=Y9(e,r.body),s=a,s){case"BadGatewayException":return[3,2];case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":return[3,4];case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":return[3,6];case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":return[3,8];case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":return[3,10];case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":return[3,12];case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":return[3,14];case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotAcceptableException":return[3,16];case"com.amazonaws.lexruntimeservice#NotAcceptableException":return[3,16];case"NotFoundException":return[3,18];case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,18];case"RequestTimeoutException":return[3,20];case"com.amazonaws.lexruntimeservice#RequestTimeoutException":return[3,20];case"UnsupportedMediaTypeException":return[3,22];case"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException":return[3,22]}return[3,24];case 2:return c=[{}],[4,q9(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 4:return d=[{}],[4,$9(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 6:return o=[{}],[4,H9(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 8:return l=[{}],[4,G9(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 10:return f=[{}],[4,V9(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 12:return m=[{}],[4,K9(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 14:return p=[{}],[4,J9(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 16:return v=[{}],[4,KAe(r,n)];case 17:return i=u.apply(void 0,[u.apply(void 0,v.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 18:return h=[{}],[4,W9(r,n)];case 19:return i=u.apply(void 0,[u.apply(void 0,h.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 20:return y=[{}],[4,JAe(r,n)];case 21:return i=u.apply(void 0,[u.apply(void 0,y.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 22:return g=[{}],[4,WAe(r,n)];case 23:return i=u.apply(void 0,[u.apply(void 0,g.concat([S.sent()])),{name:a,$metadata:he(e)}]),[3,25];case 24:w=r.body,a=w.code||w.Code||a,i=u(u({},w),{name:""+a,message:w.message||w.Message||a,$fault:"client",$metadata:he(e)}),S.label=25;case 25:return b=i.message||i.Message||a,i.message=b,delete i.Message,[2,Promise.reject(Object.assign(new Error(b),i))]}})})},j9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,VAe(e,n)]:(r={$metadata:he(e),activeContexts:void 0,alternativeIntents:void 0,botVersion:void 0,dialogState:void 0,intentName:void 0,message:void 0,messageFormat:void 0,nluIntentConfidence:void 0,responseCard:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},[4,C_(e.body,n)]);case 1:return t=i.sent(),t.activeContexts!==void 0&&t.activeContexts!==null&&(r.activeContexts=rTe(t.activeContexts,n)),t.alternativeIntents!==void 0&&t.alternativeIntents!==null&&(r.alternativeIntents=sTe(t.alternativeIntents,n)),t.botVersion!==void 0&&t.botVersion!==null&&(r.botVersion=t.botVersion),t.dialogState!==void 0&&t.dialogState!==null&&(r.dialogState=t.dialogState),t.intentName!==void 0&&t.intentName!==null&&(r.intentName=t.intentName),t.message!==void 0&&t.message!==null&&(r.message=t.message),t.messageFormat!==void 0&&t.messageFormat!==null&&(r.messageFormat=t.messageFormat),t.nluIntentConfidence!==void 0&&t.nluIntentConfidence!==null&&(r.nluIntentConfidence=X9(t.nluIntentConfidence,n)),t.responseCard!==void 0&&t.responseCard!==null&&(r.responseCard=lTe(t.responseCard,n)),t.sentimentResponse!==void 0&&t.sentimentResponse!==null&&(r.sentimentResponse=uTe(t.sentimentResponse,n)),t.sessionAttributes!==void 0&&t.sessionAttributes!==null&&(r.sessionAttributes=x_(t.sessionAttributes,n)),t.sessionId!==void 0&&t.sessionId!==null&&(r.sessionId=t.sessionId),t.slotToElicit!==void 0&&t.slotToElicit!==null&&(r.slotToElicit=t.slotToElicit),t.slots!==void 0&&t.slots!==null&&(r.slots=x_(t.slots,n)),[2,Promise.resolve(r)]}})})},VAe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v,h,y,g;return N(this,function(w){switch(w.label){case 0:return t=[u({},e)],g={},[4,C_(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(g.body=w.sent(),g)])),a="UnknownError",a=Y9(e,r.body),s=a,s){case"BadGatewayException":return[3,2];case"com.amazonaws.lexruntimeservice#BadGatewayException":return[3,2];case"BadRequestException":return[3,4];case"com.amazonaws.lexruntimeservice#BadRequestException":return[3,4];case"ConflictException":return[3,6];case"com.amazonaws.lexruntimeservice#ConflictException":return[3,6];case"DependencyFailedException":return[3,8];case"com.amazonaws.lexruntimeservice#DependencyFailedException":return[3,8];case"InternalFailureException":return[3,10];case"com.amazonaws.lexruntimeservice#InternalFailureException":return[3,10];case"LimitExceededException":return[3,12];case"com.amazonaws.lexruntimeservice#LimitExceededException":return[3,12];case"LoopDetectedException":return[3,14];case"com.amazonaws.lexruntimeservice#LoopDetectedException":return[3,14];case"NotFoundException":return[3,16];case"com.amazonaws.lexruntimeservice#NotFoundException":return[3,16]}return[3,18];case 2:return c=[{}],[4,q9(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 4:return d=[{}],[4,$9(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 6:return o=[{}],[4,H9(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 8:return l=[{}],[4,G9(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 10:return f=[{}],[4,V9(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 12:return m=[{}],[4,K9(r,n)];case 13:return i=u.apply(void 0,[u.apply(void 0,m.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 14:return p=[{}],[4,J9(r,n)];case 15:return i=u.apply(void 0,[u.apply(void 0,p.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 16:return v=[{}],[4,W9(r,n)];case 17:return i=u.apply(void 0,[u.apply(void 0,v.concat([w.sent()])),{name:a,$metadata:he(e)}]),[3,19];case 18:h=r.body,a=h.code||h.Code||a,i=u(u({},h),{name:""+a,message:h.message||h.Message||a,$fault:"client",$metadata:he(e)}),w.label=19;case 19:return y=i.message||i.Message||a,i.message=y,delete i.Message,[2,Promise.reject(Object.assign(new Error(y),i))]}})})};var q9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"BadGatewayException",$fault:"server",$metadata:he(e),Message:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),[2,r]})})},$9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"BadRequestException",$fault:"client",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},H9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"ConflictException",$fault:"client",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},G9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"DependencyFailedException",$fault:"client",$metadata:he(e),Message:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),[2,r]})})},V9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"InternalFailureException",$fault:"server",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},K9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"LimitExceededException",$fault:"client",$metadata:he(e),message:void 0,retryAfterSeconds:void 0},e.headers["retry-after"]!==void 0&&(r.retryAfterSeconds=e.headers["retry-after"]),t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},J9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"LoopDetectedException",$fault:"server",$metadata:he(e),Message:void 0},t=e.body,t.Message!==void 0&&t.Message!==null&&(r.Message=t.Message),[2,r]})})},KAe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"NotAcceptableException",$fault:"client",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},W9=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"NotFoundException",$fault:"client",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},JAe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"RequestTimeoutException",$fault:"client",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},WAe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"UnsupportedMediaTypeException",$fault:"client",$metadata:he(e),message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.message=t.message),[2,r]})})},XAe=function(e,n){return u(u(u({},e.name!==void 0&&e.name!==null&&{name:e.name}),e.parameters!==void 0&&e.parameters!==null&&{parameters:YAe(e.parameters,n)}),e.timeToLive!==void 0&&e.timeToLive!==null&&{timeToLive:ZAe(e.timeToLive,n)})},YAe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})},QAe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:XAe(r,n)})},ZAe=function(e,n){return u(u({},e.timeToLiveInSeconds!==void 0&&e.timeToLiveInSeconds!==null&&{timeToLiveInSeconds:e.timeToLiveInSeconds}),e.turnsToLive!==void 0&&e.turnsToLive!==null&&{turnsToLive:e.turnsToLive})};var L9=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})},eTe=function(e,n){return{name:e.name!==void 0&&e.name!==null?e.name:void 0,parameters:e.parameters!==void 0&&e.parameters!==null?nTe(e.parameters,n):void 0,timeToLive:e.timeToLive!==void 0&&e.timeToLive!==null?tTe(e.timeToLive,n):void 0}},nTe=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})},rTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:eTe(r,n)})},tTe=function(e,n){return{timeToLiveInSeconds:e.timeToLiveInSeconds!==void 0&&e.timeToLiveInSeconds!==null?e.timeToLiveInSeconds:void 0,turnsToLive:e.turnsToLive!==void 0&&e.turnsToLive!==null?e.turnsToLive:void 0}},aTe=function(e,n){return{text:e.text!==void 0&&e.text!==null?e.text:void 0,value:e.value!==void 0&&e.value!==null?e.value:void 0}};var iTe=function(e,n){return{attachmentLinkUrl:e.attachmentLinkUrl!==void 0&&e.attachmentLinkUrl!==null?e.attachmentLinkUrl:void 0,buttons:e.buttons!==void 0&&e.buttons!==null?cTe(e.buttons,n):void 0,imageUrl:e.imageUrl!==void 0&&e.imageUrl!==null?e.imageUrl:void 0,subTitle:e.subTitle!==void 0&&e.subTitle!==null?e.subTitle:void 0,title:e.title!==void 0&&e.title!==null?e.title:void 0}},oTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:iTe(r,n)})},X9=function(e,n){return{score:e.score!==void 0&&e.score!==null?e.score:void 0}},sTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:dTe(r,n)})};var cTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:aTe(r,n)})},dTe=function(e,n){return{intentName:e.intentName!==void 0&&e.intentName!==null?e.intentName:void 0,nluIntentConfidence:e.nluIntentConfidence!==void 0&&e.nluIntentConfidence!==null?X9(e.nluIntentConfidence,n):void 0,slots:e.slots!==void 0&&e.slots!==null?x_(e.slots,n):void 0}},lTe=function(e,n){return{contentType:e.contentType!==void 0&&e.contentType!==null?e.contentType:void 0,genericAttachments:e.genericAttachments!==void 0&&e.genericAttachments!==null?oTe(e.genericAttachments,n):void 0,version:e.version!==void 0&&e.version!==null?e.version:void 0}},uTe=function(e,n){return{sentimentLabel:e.sentimentLabel!==void 0&&e.sentimentLabel!==null?e.sentimentLabel:void 0,sentimentScore:e.sentimentScore!==void 0&&e.sentimentScore!==null?e.sentimentScore:void 0}},x_=function(e,n){return Object.entries(e).reduce(function(r,t){var i,a=de(t,2),s=a[0],c=a[1];return c===null?r:u(u({},r),(i={},i[s]=c,i))},{})},he=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},fTe=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},mTe=function(e,n){return fTe(e,n).then(function(r){return n.utf8Encoder(r)})},kl=function(e){return e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0)},C_=function(e,n){return mTe(e,n).then(function(r){return r.length?JSON.parse(r):{}})},Y9=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var Q9=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="LexRuntimeServiceClient",d="PostContentCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:nh.filterSensitiveLog,outputFilterSensitiveLog:rh.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return B9(r,t)},n.prototype.deserialize=function(r,t){return F9(r,t)},n}(ee);var Z9=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ne(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="LexRuntimeServiceClient",d="PostTextCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:th.filterSensitiveLog,outputFilterSensitiveLog:ah.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return U9(r,t)},n.prototype.deserialize=function(r,t){return j9(r,t)},n}(ee);var eX=function(e){if(e instanceof Blob||e instanceof ReadableStream)return new Response(e).arrayBuffer().then(function(n){return new Uint8Array(n)});throw new Error("Readable is not supported.")};var pTe=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),ih=function(){return ih=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ih.apply(this,arguments)},vTe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},hTe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},A_=new q("AWSLexProvider"),nX=function(e){pTe(n,e);function n(r){r===void 0&&(r={});var t=e.call(this,r)||this;return t._botsCompleteCallback={},t}return n.prototype.getProviderName=function(){return"AWSLexProvider"},n.prototype.reportBotStatus=function(r,t){var i=this;A_.debug("postContent state",r.dialogState),(r.dialogState==="ReadyForFulfillment"||r.dialogState==="Fulfilled")&&(typeof this._botsCompleteCallback[t]=="function"&&setTimeout(function(){return i._botsCompleteCallback[t](null,{slots:r.slots})},0),this._config&&typeof this._config[t].onComplete=="function"&&setTimeout(function(){return i._config[t].onComplete(null,{slots:r.slots})},0)),r.dialogState==="Failed"&&(typeof this._botsCompleteCallback[t]=="function"&&setTimeout(function(){return i._botsCompleteCallback[t]("Bot conversation failed")},0),this._config&&typeof this._config[t].onComplete=="function"&&setTimeout(function(){return i._config[t].onComplete("Bot conversation failed")},0))},n.prototype.sendMessage=function(r,t){return vTe(this,void 0,void 0,function(){var i,a,s,f,c,d,o,l,f,m,p;return hTe(this,function(v){switch(v.label){case 0:return this._config[r]?[4,ie.get()]:[2,Promise.reject("Bot "+r+" does not exist")];case 1:if(i=v.sent(),!i)return[2,Promise.reject("No credentials")];if(this.lexRuntimeServiceClient=new o9({region:this._config[r].region,credentials:i,customUserAgent:Ye()}),typeof t!="string")return[3,6];a={botAlias:this._config[r].alias,botName:r,inputText:t,userId:i.identityId},A_.debug("postText to lex",t),v.label=2;case 2:return v.trys.push([2,4,,5]),s=new Z9(a),[4,this.lexRuntimeServiceClient.send(s)];case 3:return f=v.sent(),this.reportBotStatus(f,r),[2,f];case 4:return c=v.sent(),[2,Promise.reject(c)];case 5:return[3,11];case 6:d=t.content,o=t.options.messageType,o==="voice"?a={botAlias:this._config[r].alias,botName:r,contentType:"audio/x-l16; sample-rate=16000",inputStream:d,userId:i.identityId,accept:"audio/mpeg"}:a={botAlias:this._config[r].alias,botName:r,contentType:"text/plain; charset=utf-8",inputStream:d,userId:i.identityId,accept:"audio/mpeg"},A_.debug("postContent to lex",t),v.label=7;case 7:return v.trys.push([7,10,,11]),l=new Q9(a),[4,this.lexRuntimeServiceClient.send(l)];case 8:return f=v.sent(),[4,eX(f.audioStream)];case 9:return m=v.sent(),this.reportBotStatus(f,r),[2,ih(ih({},f),{audioStream:m})];case 10:return p=v.sent(),[2,Promise.reject(p)];case 11:return[2]}})})},n.prototype.onComplete=function(r,t){if(!this._config[r])throw new ErrorEvent("Bot "+r+" does not exist");this._botsCompleteCallback[r]=t},n}(e9);var oh=function(){return oh=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oh.apply(this,arguments)},yTe=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},gTe=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},rX=new q("Interactions"),wTe=function(){function e(n){this._options=n,rX.debug("Interactions Options",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return"Interactions"},e.prototype.configure=function(n){var r=this,t=n?n.Interactions||n:{};rX.debug("configure Interactions",{opt:t}),this._options=oh(oh({bots:{}},t),t.Interactions);var i=this._options.aws_bots_config,a=this._options.bots;return!Object.keys(a).length&&i&&Array.isArray(i)&&i.forEach(function(s){r._options.bots[s.name]=s}),!this._pluggables.AWSLexProvider&&a&&Object.keys(a).map(function(s){return a[s]}).find(function(s){return!s.providerName||s.providerName==="AWSLexProvider"})&&(this._pluggables.AWSLexProvider=new nX),Object.keys(this._pluggables).map(function(s){r._pluggables[s].configure(r._options.bots)}),this._options},e.prototype.addPluggable=function(n){if(n&&n.getCategory()==="Interactions"){if(this._pluggables[n.getProviderName()])throw new Error("Bot "+n.getProviderName()+" already plugged");n.configure(this._options.bots),this._pluggables[n.getProviderName()]=n;return}},e.prototype.send=function(n,r){return yTe(this,void 0,void 0,function(){var t;return gTe(this,function(i){switch(i.label){case 0:if(!this._options.bots||!this._options.bots[n])throw new Error("Bot "+n+" does not exist");if(t=this._options.bots[n].providerName||"AWSLexProvider",!this._pluggables[t])throw new Error("Bot "+t+" does not have valid pluggin did you try addPluggable first?");return[4,this._pluggables[t].sendMessage(n,r)];case 1:return[2,i.sent()]}})})},e.prototype.onComplete=function(n,r){if(!this._options.bots||!this._options.bots[n])throw new Error("Bot "+n+" does not exist");var t=this._options.bots[n].providerName||"AWSLexProvider";if(!this._pluggables[t])throw new Error("Bot "+t+" does not have valid pluggin did you try addPluggable first?");this._pluggables[t].onComplete(n,r)},e}();var sh=new wTe(null);se.register(sh);Ue(Ie,W(tX()));var Ll=function(){return Ll=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ll.apply(this,arguments)},bTe=new q("AbstractXRProvider"),aX=function(){function e(n){n===void 0&&(n={}),this._config=n}return e.prototype.configure=function(n){return n===void 0&&(n={}),this._config=Ll(Ll({},n),this._config),bTe.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"XR"},Object.defineProperty(e.prototype,"options",{get:function(){return Ll({},this._config)},enumerable:!0,configurable:!0}),e}();var Oo=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),Lc=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Error);var P_=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Lc);var ch=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Lc);var iX=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Lc);var I_=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Lc);var Mo=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Lc);var Xr=function(e){Oo(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Lc);var ETe=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])},e(n,r)};return function(n,r){e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),dh=function(){return dh=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dh.apply(this,arguments)},oX=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},sX=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},_Te=function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},STe="sumerian",sr=new q("SumerianProvider"),cX=function(e){ETe(n,e);function n(r){return r===void 0&&(r={}),e.call(this,r)||this}return n.prototype.getProviderName=function(){return"SumerianProvider"},n.prototype.loadScript=function(r){return oX(this,void 0,void 0,function(){return sX(this,function(t){return[2,new Promise(function(i,a){var s=document.createElement("script");s.src=r,s.addEventListener("load",function(c){i()}),s.addEventListener("error",function(c){a(new Error("Failed to load script: "+r))}),document.head.appendChild(s)})]})})},n.prototype.loadScene=function(r,t,i){return oX(this,void 0,void 0,function(){var l,l,a,l,s,l,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k,_,x,T,M,D,B,j;return sX(this,function(F){switch(F.label){case 0:if(!r)throw l="No scene name passed into loadScene",sr.error(l),new Mo(l);if(!t)throw l="No dom element id passed into loadScene",sr.error(l),new I_(l);if(a=document.getElementById(t),!a)throw l="DOM element id, "+t+" not found",sr.error(l),new I_(l);if(s=this.getScene(r),!s.sceneConfig)throw l="No scene config configured for scene: "+r,sr.error(l),new Mo(l);if(c=s.sceneConfig.url,d=s.sceneConfig.sceneId,s.sceneConfig.hasOwnProperty("region"))o=s.sceneConfig.region;else if(this.options.hasOwnProperty("region"))o=this.options.region;else throw l="No region configured for scene: "+r,sr.error(l),new Mo(l);f={region:o,customUserAgent:Ji.userAgent+"-SumerianScene"},m={headers:{"X-Amz-User-Agent":Ji.userAgent}},p=c,F.label=1;case 1:return F.trys.push([1,3,,4]),[4,ie.get()];case 2:return v=F.sent(),f.credentials=v,h={secret_key:v.secretAccessKey,access_key:v.accessKeyId,session_token:v.sessionToken},y={region:o,service:STe},g=yt.sign({method:"GET",url:c},h,y),m.headers=dh(dh({},m.headers),g.headers),p=g.url,[3,4];case 3:return w=F.sent(),sr.debug("No credentials available, the request will be unsigned"),[3,4];case 4:return[4,fetch(p,m)];case 5:return b=F.sent(),[4,b.json()];case 6:if(E=F.sent(),b.status===403)throw E.message?(sr.error("Failure to authenticate user: "+E.message),new Mo("Failure to authenticate user: "+E.message)):(sr.error("Failure to authenticate user"),new Mo("Failure to authenticate user"));return S=E.bundleData[d],[4,fetch(S.url,{headers:S.headers})];case 7:return A=F.sent(),[4,A.json()];case 8:I=F.sent(),F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.loadScript(I[d].bootstrapperUrl)];case 10:return F.sent(),[3,12];case 11:throw P=F.sent(),sr.error(P),new Mo(P);case 12:return O=i.progressCallback?i.progressCallback:void 0,k=s.publishParamOverrides?s.publishParamOverrides:void 0,_={element:a,sceneId:d,sceneBundle:I,apiResponse:E,progressCallback:O,publishParamOverrides:k,awsSDKConfigOverride:f},[4,window.SumerianBootstrapper.loadScene(_)];case 13:x=F.sent(),s.sceneController=x,s.isLoaded=!0;try{for(T=_Te(x.sceneLoadWarnings),M=T.next();!M.done;M=T.next())D=M.value,sr.warn("loadScene warning: "+D)}catch(U){B={error:U}}finally{try{M&&!M.done&&(j=T.return)&&j.call(T)}finally{if(B)throw B.error}}return[2]}})})},n.prototype.isSceneLoaded=function(r){var t=this.getScene(r);return t.isLoaded||!1},n.prototype.getScene=function(r){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw sr.error(t),new P_(t)}if(!r){var t="No scene name was passed";throw sr.error(t),new ch(t)}if(!this.options.scenes[r]){var t="Scene '"+r+"' is not configured";throw sr.error(t),new ch(t)}return this.options.scenes[r]},n.prototype.getSceneController=function(r){if(!this.options.scenes){var t="No scenes were defined in the configuration";throw sr.error(t),new P_(t)}var i=this.options.scenes[r];if(!i){var t="Scene '"+r+"' is not configured";throw sr.error(t),new ch(t)}var a=i.sceneController;if(!a){var t="Scene controller for '"+r+"' has not been loaded";throw sr.error(t),new iX(t)}return a},n.prototype.isVRCapable=function(r){var t=this.getSceneController(r);return t.vrCapable},n.prototype.isVRPresentationActive=function(r){var t=this.getSceneController(r);return t.vrPresentationActive},n.prototype.start=function(r){var t=this.getSceneController(r);t.start()},n.prototype.enterVR=function(r){var t=this.getSceneController(r);t.enterVR()},n.prototype.exitVR=function(r){var t=this.getSceneController(r);t.exitVR()},n.prototype.isMuted=function(r){var t=this.getSceneController(r);return t.muted},n.prototype.setMuted=function(r,t){var i=this.getSceneController(r);i.muted=t},n.prototype.onSceneEvent=function(r,t,i){var a=this.getSceneController(r);a.on(t,i)},n.prototype.enableAudio=function(r){var t=this.getSceneController(r);t.enableAudio()},n}(aX);var dX=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},lX=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},xTe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},uX=new q("XR"),CTe="SumerianProvider",ATe=function(){function e(n){this._options=n,uX.debug("XR Options",this._options),this._defaultProvider=CTe,this._pluggables={},this.addPluggable(new cX)}return e.prototype.configure=function(n){var r=this,t=n?n.XR||n:{};return uX.debug("configure XR",{opt:t}),this._options=Object.assign({},this._options,t),Object.entries(this._pluggables).map(function(i){var a=xTe(i,2),s=a[0],c=a[1];s===r._defaultProvider&&!t[r._defaultProvider]?c.configure(r._options):c.configure(r._options[s])}),this._options},e.prototype.addPluggable=function(n){return dX(this,void 0,void 0,function(){var r;return lX(this,function(t){return n&&n.getCategory()==="XR"?(this._pluggables[n.getProviderName()]=n,r=n.configure(this._options),[2,r]):[2]})})},e.prototype.loadScene=function(n,r,t,i){return t===void 0&&(t={}),i===void 0&&(i=this._defaultProvider),dX(this,void 0,void 0,function(){return lX(this,function(a){switch(a.label){case 0:if(!this._pluggables[i])throw new Xr("Provider '"+i+"' not configured");return[4,this._pluggables[i].loadScene(n,r,t)];case 1:return[2,a.sent()]}})})},e.prototype.isSceneLoaded=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].isSceneLoaded(n)},e.prototype.getSceneController=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].getSceneController(n)},e.prototype.isVRCapable=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].isVRCapable(n)},e.prototype.isVRPresentationActive=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].isVRPresentationActive(n)},e.prototype.start=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].start(n)},e.prototype.enterVR=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].enterVR(n)},e.prototype.exitVR=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].exitVR(n)},e.prototype.isMuted=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].isMuted(n)},e.prototype.setMuted=function(n,r,t){if(t===void 0&&(t=this._defaultProvider),!this._pluggables[t])throw new Xr("Provider '"+t+"' not configured");return this._pluggables[t].setMuted(n,r)},e.prototype.onSceneEvent=function(n,r,t,i){if(i===void 0&&(i=this._defaultProvider),!this._pluggables[i])throw new Xr("Provider '"+i+"' not configured");return this._pluggables[i].onSceneEvent(n,r,t)},e.prototype.enableAudio=function(n,r){if(r===void 0&&(r=this._defaultProvider),!this._pluggables[r])throw new Xr("Provider '"+r+"' not configured");return this._pluggables[r].enableAudio(n)},e}();var lh=new ATe(null);se.register(lh);var uh=function(){return uh=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uh.apply(this,arguments)},TTe=function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),i,a=[],s;try{for(;(n===void 0||n-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(s)throw s.error}}return a},fX=function(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(TTe(arguments[n]));return e},mX=new q("Predictions"),PTe=function(){function e(n){this._options=n,this._convertPluggables=[],this._identifyPluggables=[],this._interpretPluggables=[]}return e.prototype.getModuleName=function(){return"Predictions"},e.prototype.addPluggable=function(n){if(this.getPluggable(n.getProviderName()))throw new Error("Pluggable with name "+n.getProviderName()+" has already been added.");var r=!1;this.implementsConvertPluggable(n)&&(this._convertPluggables.push(n),r=!0),this.implementsIdentifyPluggable(n)&&(this._identifyPluggables.push(n),r=!0),this.implementsInterpretPluggable(n)&&(this._interpretPluggables.push(n),r=!0),r&&this.configurePluggable(n)},e.prototype.getPluggable=function(n){var r=this.getAllProviders().find(function(t){return t.getProviderName()===n});return r===void 0?(mX.debug("No plugin found with providerName=>",n),null):r},e.prototype.removePluggable=function(n){this._convertPluggables=this._convertPluggables.filter(function(r){return r.getProviderName()!==n}),this._identifyPluggables=this._identifyPluggables.filter(function(r){return r.getProviderName()!==n}),this._interpretPluggables=this._interpretPluggables.filter(function(r){return r.getProviderName()!==n})},e.prototype.configure=function(n){var r=this,t=n?n.predictions||n:{};t=uh(uh({},t),n),this._options=Object.assign({},this._options,t),mX.debug("configure Predictions",this._options),this.getAllProviders().forEach(function(i){return r.configurePluggable(i)})},e.prototype.interpret=function(n,r){var t=this.getPluggableToExecute(this._interpretPluggables,r);return t.interpret(n)},e.prototype.convert=function(n,r){var t=this.getPluggableToExecute(this._convertPluggables,r);return t.convert(n)},e.prototype.identify=function(n,r){var t=this.getPluggableToExecute(this._identifyPluggables,r);return t.identify(n)},e.prototype.getPluggableToExecute=function(n,r){if(r&&r.providerName)return fX(n).find(function(t){return t.getProviderName()===r.providerName});if(n.length===1)return n[0];throw new Error("More than one or no providers are configured, Either specify a provider name or configure exactly one provider")},e.prototype.getAllProviders=function(){return fX(this._convertPluggables,this._identifyPluggables,this._interpretPluggables)},e.prototype.configurePluggable=function(n){var r=Object.assign({},this._options.predictions,this._options[n.getCategory().toLowerCase()]);n.configure(r)},e.prototype.implementsConvertPluggable=function(n){return n&&typeof n.convert=="function"},e.prototype.implementsIdentifyPluggable=function(n){return n&&typeof n.identify=="function"},e.prototype.implementsInterpretPluggable=function(n){return n&&typeof n.interpret=="function"},e}();var fh=new PTe({});se.register(fh);var mh=function(){return mh=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mh.apply(this,arguments)},ITe=[zr,ie],NTe=[Ia,zr,zc];function pX(e){e===void 0&&(e={});var n=e.modules,r=n===void 0?NTe:n,t=e.req,i=se.configure(),a=new Zl,s=new Cd({req:t});return ITe.forEach(function(c){r.includes(c)||a.register(new c.constructor)}),r.forEach(function(c){a.register(new c.constructor)}),a.configure(mh(mh({},i),{storage:s})),a}var ax=W(TX());var PX=function(e,n){return function(r,t){return function(i){return R(void 0,void 0,void 0,function(){var a,s;return N(this,function(c){switch(c.label){case 0:return[4,r(i)];case 1:return a=c.sent().response,[4,n(a,e)];case 2:return s=c.sent(),[2,{response:a,output:s}]}})})}}};var IX=function(e,n){return function(r,t){return function(i){return R(void 0,void 0,void 0,function(){var a;return N(this,function(s){switch(s.label){case 0:return[4,n(i.input,e)];case 1:return a=s.sent(),[2,r(u(u({},i),{request:a}))]}})})}}};var kTe={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},zTe={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ph(e,n,r){return{applyToStack:function(t){t.add(PX(e,r),kTe),t.add(IX(e,n),zTe)}}}var Bc=function(){var e=[],n=[],r=new Set,t=function(l){return l.sort(function(f,m){return NX[m.step]-NX[f.step]||RX[m.priority||"normal"]-RX[f.priority||"normal"]})},i=function(l){var f=!1,m=function(p){return p.name&&p.name===l?(f=!0,r.delete(l),!1):!0};return e=e.filter(m),n=n.filter(m),f},a=function(l){var f=!1,m=function(p){return p.middleware===l?(f=!0,p.name&&r.delete(p.name),!1):!0};return e=e.filter(m),n=n.filter(m),f},s=function(l){return e.forEach(function(f){l.add(f.middleware,u({},f))}),n.forEach(function(f){l.addRelativeTo(f.middleware,u({},f))}),l},c=function(l){var f=[];return l.before.forEach(function(m){m.before.length===0&&m.after.length===0?f.push(m):f.push.apply(f,ln([],de(c(m))))}),f.push(l),l.after.reverse().forEach(function(m){m.before.length===0&&m.after.length===0?f.push(m):f.push.apply(f,ln([],de(c(m))))}),f},d=function(){var l=[],f=[],m={};e.forEach(function(v){var h=u(u({},v),{before:[],after:[]});h.name&&(m[h.name]=h),l.push(h)}),n.forEach(function(v){var h=u(u({},v),{before:[],after:[]});h.name&&(m[h.name]=h),f.push(h)}),f.forEach(function(v){if(v.toMiddleware){var h=m[v.toMiddleware];if(h===void 0)throw new Error(v.toMiddleware+" is not found when adding "+(v.name||"anonymous")+" middleware "+v.relation+" "+v.toMiddleware);v.relation==="after"&&h.after.push(v),v.relation==="before"&&h.before.push(v)}});var p=t(l).map(c).reduce(function(v,h){return v.push.apply(v,ln([],de(h))),v},[]);return p.map(function(v){return v.middleware})},o={add:function(l,f){f===void 0&&(f={});var m=f.name,p=f.override,v=u({step:"initialize",priority:"normal",middleware:l},f);if(m){if(r.has(m)){if(!p)throw new Error("Duplicate middleware name '"+m+"'");var h=e.findIndex(function(g){return g.name===m}),y=e[h];if(y.step!==v.step||y.priority!==v.priority)throw new Error('"'+m+'" middleware with '+y.priority+" priority in "+y.step+" step cannot be "+("overridden by same-name middleware with "+v.priority+" priority in "+v.step+" step."));e.splice(h,1)}r.add(m)}e.push(v)},addRelativeTo:function(l,f){var m=f.name,p=f.override,v=u({middleware:l},f);if(m){if(r.has(m)){if(!p)throw new Error("Duplicate middleware name '"+m+"'");var h=n.findIndex(function(g){return g.name===m}),y=n[h];if(y.toMiddleware!==v.toMiddleware||y.relation!==v.relation)throw new Error('"'+m+'" middleware '+y.relation+' "'+y.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+v.relation+' "'+v.toMiddleware+'" middleware.'));n.splice(h,1)}r.add(m)}n.push(v)},clone:function(){return s(Bc())},use:function(l){l.applyToStack(o)},remove:function(l){return typeof l=="string"?i(l):a(l)},removeByTag:function(l){var f=!1,m=function(p){var v=p.tags,h=p.name;return v&&v.includes(l)?(h&&r.delete(h),f=!0,!1):!0};return e=e.filter(m),n=n.filter(m),f},concat:function(l){var f=s(Bc());return f.use(l),f},applyToStack:s,resolve:function(l,f){var m,p;try{for(var v=je(d().reverse()),h=v.next();!h.done;h=v.next()){var y=h.value;l=y(l,f)}}catch(g){m={error:g}}finally{try{h&&!h.done&&(p=v.return)&&p.call(v)}finally{if(m)throw m.error}}return l}};return o},NX={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},RX={high:3,normal:2,low:1};var OX=function(){function e(n){this.middlewareStack=Bc(),this.config=n}return e.prototype.send=function(n,r,t){var i=typeof r!="function"?r:void 0,a=typeof r=="function"?r:t,s=n.resolveMiddleware(this.middlewareStack,this.config,i);if(a)s(n).then(function(c){return a(null,c.output)},function(c){return a(c)}).catch(function(){});else return s(n).then(function(c){return c.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}();var vh=function(){function e(){this.middlewareStack=Bc()}return e}();var Ne="***SensitiveInformation***";var LTe=function(e){if(e!=null){if(typeof e=="number")return e;throw new TypeError("Expected number, got "+typeof e)}},fnn=Math.ceil(Math.pow(2,127)*(2-Math.pow(2,-23)));var BTe=function(e){if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got "+typeof e)}};var k_=function(e){return UTe(e,32)};var UTe=function(e,n){var r=BTe(e);if(r!==void 0&&FTe(r,n)!==r)throw new TypeError("Expected "+n+"-bit integer, got "+e);return r},FTe=function(e,n){switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},z_=function(e,n){if(e==null)throw n?new TypeError("Expected a non-null value for "+n):new TypeError("Expected a non-null value");return e},L_=function(e){if(e!=null){if(typeof e=="object"&&!Array.isArray(e))return e;throw new TypeError("Expected object, got "+typeof e)}},Ge=function(e){if(e!=null){if(typeof e=="string")return e;throw new TypeError("Expected string, got "+typeof e)}};var B_=function(e){return typeof e=="string"?jTe(e):LTe(e)};var jTe=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: "+e)}};var wnn=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var bnn=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Enn=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),_nn=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/);var Snn=50*365*24*60*60*1e3;function U_(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}var hh=function(){var e=Object.getPrototypeOf(this).constructor,n=Function.bind.apply(String,ln([null],de(arguments))),r=new n;return Object.setPrototypeOf(r,e.prototype),r};hh.prototype=Object.create(String.prototype,{constructor:{value:hh,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(hh,String);var Nnn=function(e){J(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},n.prototype.toJSON=function(){return e.prototype.toString.call(this)},n.fromObject=function(r){return r instanceof n?r:r instanceof String||typeof r=="string"?new n(r):new n(JSON.stringify(r))},n}(hh);var F_=function(e){if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}};var MX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MX||(MX={}));var DX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DX||(DX={}));var kX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kX||(kX={}));var zX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zX||(zX={}));var LX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LX||(LX={}));var BX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BX||(BX={}));var UX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UX||(UX={}));var FX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FX||(FX={}));var jX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jX||(jX={}));var qX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qX||(qX={}));var $X;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($X||($X={}));var HX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HX||(HX={}));var GX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GX||(GX={}));var VX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VX||(VX={}));var KX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KX||(KX={}));var JX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JX||(JX={}));var WX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WX||(WX={}));var yh;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Position&&{Position:Ne})}})(yh||(yh={}));var XX;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.DevicePositionUpdates&&{DevicePositionUpdates:n.DevicePositionUpdates.map(function(r){return yh.filterSensitiveLog(r)})})}})(XX||(XX={}));var YX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(YX||(YX={}));var QX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QX||(QX={}));var ZX;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZX||(ZX={}));var gh;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Position&&{Position:Ne})}})(gh||(gh={}));var eY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(eY||(eY={}));var nY;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.DevicePositions&&{DevicePositions:n.DevicePositions.map(function(r){return gh.filterSensitiveLog(r)})})}})(nY||(nY={}));var Uc;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Polygon&&{Polygon:n.Polygon.map(function(r){return Ne})})}})(Uc||(Uc={}));var j_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Geometry&&{Geometry:Uc.filterSensitiveLog(n.Geometry)})}})(j_||(j_={}));var rY;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Entries&&{Entries:n.Entries.map(function(r){return j_.filterSensitiveLog(r)})})}})(rY||(rY={}));var tY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tY||(tY={}));var aY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aY||(aY={}));var iY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iY||(iY={}));var oY;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Updates&&{Updates:n.Updates.map(function(r){return yh.filterSensitiveLog(r)})})}})(oY||(oY={}));var sY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(sY||(sY={}));var cY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(cY||(cY={}));var dY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dY||(dY={}));var lY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lY||(lY={}));var uY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uY||(uY={}));var fY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fY||(fY={}));var mY;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u({},n),n.DeparturePosition&&{DeparturePosition:Ne}),n.DestinationPosition&&{DestinationPosition:Ne}),n.WaypointPositions&&{WaypointPositions:Ne})}})(mY||(mY={}));var q_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.LineString&&{LineString:Ne})}})(q_||(q_={}));var $_;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.StartPosition&&{StartPosition:Ne}),n.EndPosition&&{EndPosition:Ne})}})($_||($_={}));var H_;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u({},n),n.StartPosition&&{StartPosition:Ne}),n.EndPosition&&{EndPosition:Ne}),n.Geometry&&{Geometry:q_.filterSensitiveLog(n.Geometry)}),n.Steps&&{Steps:n.Steps.map(function(r){return $_.filterSensitiveLog(r)})})}})(H_||(H_={}));var G_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.RouteBBox&&{RouteBBox:Ne})}})(G_||(G_={}));var pY;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.Legs&&{Legs:n.Legs.map(function(r){return H_.filterSensitiveLog(r)})}),n.Summary&&{Summary:G_.filterSensitiveLog(n.Summary)})}})(pY||(pY={}));var vY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(vY||(vY={}));var hY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hY||(hY={}));var yY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yY||(yY={}));var gY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gY||(gY={}));var wY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wY||(wY={}));var bY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bY||(bY={}));var EY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EY||(EY={}));var _Y;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_Y||(_Y={}));var SY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SY||(SY={}));var xY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xY||(xY={}));var CY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(CY||(CY={}));var AY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AY||(AY={}));var TY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TY||(TY={}));var PY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PY||(PY={}));var IY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IY||(IY={}));var NY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NY||(NY={}));var RY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RY||(RY={}));var OY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OY||(OY={}));var MY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MY||(MY={}));var DY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DY||(DY={}));var kY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kY||(kY={}));var zY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zY||(zY={}));var LY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LY||(LY={}));var BY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BY||(BY={}));var UY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UY||(UY={}));var FY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FY||(FY={}));var jY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jY||(jY={}));var qY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qY||(qY={}));var $Y;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($Y||($Y={}));var HY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HY||(HY={}));var GY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GY||(GY={}));var VY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VY||(VY={}));var KY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KY||(KY={}));var JY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(JY||(JY={}));var WY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(WY||(WY={}));var XY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(XY||(XY={}));var YY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(YY||(YY={}));var QY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(QY||(QY={}));var ZY;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(ZY||(ZY={}));var eQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(eQ||(eQ={}));var nQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(nQ||(nQ={}));var rQ;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Geometry&&{Geometry:Uc.filterSensitiveLog(n.Geometry)})}})(rQ||(rQ={}));var tQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(tQ||(tQ={}));var aQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(aQ||(aQ={}));var iQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(iQ||(iQ={}));var oQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(oQ||(oQ={}));var V_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Geometry&&{Geometry:Uc.filterSensitiveLog(n.Geometry)})}})(V_||(V_={}));var sQ;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Entries&&{Entries:n.Entries.map(function(r){return V_.filterSensitiveLog(r)})})}})(sQ||(sQ={}));var cQ;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Geometry&&{Geometry:Uc.filterSensitiveLog(n.Geometry)})}})(cQ||(cQ={}));var dQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(dQ||(dQ={}));var lQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(lQ||(lQ={}));var uQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(uQ||(uQ={}));var fQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(fQ||(fQ={}));var mQ;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Position&&{Position:Ne})}})(mQ||(mQ={}));var pQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(pQ||(pQ={}));var vQ;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.DevicePositions&&{DevicePositions:n.DevicePositions.map(function(r){return gh.filterSensitiveLog(r)})})}})(vQ||(vQ={}));var hQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(hQ||(hQ={}));var yQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(yQ||(yQ={}));var gQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(gQ||(gQ={}));var wQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(wQ||(wQ={}));var bQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(bQ||(bQ={}));var EQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(EQ||(EQ={}));var _Q;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(_Q||(_Q={}));var SQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(SQ||(SQ={}));var xQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(xQ||(xQ={}));var K_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Position&&{Position:Ne})}})(K_||(K_={}));var CQ;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Entries&&{Entries:n.Entries.map(function(r){return K_.filterSensitiveLog(r)})})}})(CQ||(CQ={}));var AQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(AQ||(AQ={}));var TQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(TQ||(TQ={}));var PQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(PQ||(PQ={}));var IQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(IQ||(IQ={}));var NQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(NQ||(NQ={}));var RQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(RQ||(RQ={}));var OQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(OQ||(OQ={}));var MQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(MQ||(MQ={}));var DQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(DQ||(DQ={}));var kQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(kQ||(kQ={}));var zQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(zQ||(zQ={}));var LQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(LQ||(LQ={}));var BQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(BQ||(BQ={}));var UQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(UQ||(UQ={}));var FQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(FQ||(FQ={}));var jQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(jQ||(jQ={}));var wh;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Position&&{Position:Ne})}})(wh||(wh={}));var J_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Point&&{Point:Ne})}})(J_||(J_={}));var bh;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Geometry&&{Geometry:J_.filterSensitiveLog(n.Geometry)})}})(bh||(bh={}));var W_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Place&&{Place:bh.filterSensitiveLog(n.Place)})}})(W_||(W_={}));var X_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Position&&{Position:Ne})}})(X_||(X_={}));var Eh;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.Summary&&{Summary:X_.filterSensitiveLog(n.Summary)}),n.Results&&{Results:n.Results.map(function(r){return W_.filterSensitiveLog(r)})})}})(Eh||(Eh={}));var _h;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u({},n),n.Text&&{Text:Ne}),n.BiasPosition&&{BiasPosition:Ne}),n.FilterBBox&&{FilterBBox:Ne})}})(_h||(_h={}));var Y_;(function(e){e.filterSensitiveLog=function(n){return u(u({},n),n.Place&&{Place:bh.filterSensitiveLog(n.Place)})}})(Y_||(Y_={}));var Q_;(function(e){e.filterSensitiveLog=function(n){return u(u(u(u(u({},n),n.Text&&{Text:Ne}),n.BiasPosition&&{BiasPosition:Ne}),n.FilterBBox&&{FilterBBox:Ne}),n.ResultBBox&&{ResultBBox:Ne})}})(Q_||(Q_={}));var Sh;(function(e){e.filterSensitiveLog=function(n){return u(u(u({},n),n.Summary&&{Summary:Q_.filterSensitiveLog(n.Summary)}),n.Results&&{Results:n.Results.map(function(r){return Y_.filterSensitiveLog(r)})})}})(Sh||(Sh={}));var qQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(qQ||(qQ={}));var $Q;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})($Q||($Q={}));var HQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(HQ||(HQ={}));var GQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(GQ||(GQ={}));var VQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(VQ||(VQ={}));var KQ;(function(e){e.filterSensitiveLog=function(n){return u({},n)}})(KQ||(KQ={}));var mr=function(){function e(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.substr(-1)!==":"?n.protocol+":":n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?"/"+n.path:n.path:"/"}return e.isInstance=function(n){if(!n)return!1;var r=n;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var n=new e(u(u({},this),{headers:u({},this.headers)}));return n.query&&(n.query=qTe(n.query)),n},e}();function qTe(e){return Object.keys(e).reduce(function(n,r){var t,i=e[r];return u(u({},n),(t={},t[r]=Array.isArray(i)?ln([],de(i)):i,t))},{})}var Z_=function(){function e(n){this.statusCode=n.statusCode,this.headers=n.headers||{},this.body=n.body}return e.isInstance=function(n){if(!n)return!1;var r=n;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}();function eS(e){var n=/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/;return n.test(e)}var WQ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:return[4,n.endpoint()];case 1:if(r=p.sent(),t=r.hostname,i=r.protocol,a=i===void 0?"https":i,s=r.port,c=r.path,d={"content-type":"application/json"},o=""+(c?.endsWith("/")?c.slice(0,-1):c||"")+"/places/v0/indexes/{IndexName}/search/position",e.IndexName!==void 0){if(l=e.IndexName,l.length<=0)throw new Error("Empty value provided for input HTTP label: IndexName.");o=o.replace("{IndexName}",U_(l))}else throw new Error("No value provided for input HTTP label: IndexName.");return f=JSON.stringify(u(u({},e.MaxResults!==void 0&&e.MaxResults!==null&&{MaxResults:e.MaxResults}),e.Position!==void 0&&e.Position!==null&&{Position:aZ(e.Position,n)})),[4,n.endpoint()];case 2:if(m=p.sent().hostname,n.disableHostPrefix!==!0&&(m="places."+m,!eS(m)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new mr({protocol:a,hostname:m,port:s,method:"POST",headers:d,path:o,body:f})]}})})},XQ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:return[4,n.endpoint()];case 1:if(r=p.sent(),t=r.hostname,i=r.protocol,a=i===void 0?"https":i,s=r.port,c=r.path,d={"content-type":"application/json"},o=""+(c?.endsWith("/")?c.slice(0,-1):c||"")+"/places/v0/indexes/{IndexName}/search/text",e.IndexName!==void 0){if(l=e.IndexName,l.length<=0)throw new Error("Empty value provided for input HTTP label: IndexName.");o=o.replace("{IndexName}",U_(l))}else throw new Error("No value provided for input HTTP label: IndexName.");return f=JSON.stringify(u(u(u(u(u({},e.BiasPosition!==void 0&&e.BiasPosition!==null&&{BiasPosition:aZ(e.BiasPosition,n)}),e.FilterBBox!==void 0&&e.FilterBBox!==null&&{FilterBBox:GTe(e.FilterBBox,n)}),e.FilterCountries!==void 0&&e.FilterCountries!==null&&{FilterCountries:VTe(e.FilterCountries,n)}),e.MaxResults!==void 0&&e.MaxResults!==null&&{MaxResults:e.MaxResults}),e.Text!==void 0&&e.Text!==null&&{Text:e.Text})),[4,n.endpoint()];case 2:if(m=p.sent().hostname,n.disableHostPrefix!==!0&&(m="places."+m,!eS(m)))throw new Error("ValidationError: prefixed hostname must be hostname compatible.");return[2,new mr({protocol:a,hostname:m,port:s,method:"POST",headers:d,path:o,body:f})]}})})};var YQ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a;return N(this,function(s){switch(s.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,$Te(e,n)]:(r={$metadata:pn(e),Results:void 0,Summary:void 0},i=z_,a=L_,[4,xh(e.body,n)]);case 1:return t=i.apply(void 0,[a.apply(void 0,[s.sent()]),"body"]),t.Results!==void 0&&t.Results!==null&&(r.Results=XTe(t.Results,n)),t.Summary!==void 0&&t.Summary!==null&&(r.Summary=ZTe(t.Summary,n)),[2,Promise.resolve(r)]}})})},$Te=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v;return N(this,function(h){switch(h.label){case 0:return t=[u({},e)],v={},[4,xh(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(v.body=h.sent(),v)])),a="UnknownError",a=oZ(e,r.body),s=a,s){case"AccessDeniedException":return[3,2];case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":return[3,4];case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":return[3,6];case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":return[3,8];case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":return[3,10];case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ZQ(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 4:return d=[{}],[4,eZ(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 6:return o=[{}],[4,nZ(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 8:return l=[{}],[4,rZ(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 10:return f=[{}],[4,tZ(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 12:m=r.body,a=m.code||m.Code||a,i=u(u({},m),{name:""+a,message:m.message||m.Message||a,$fault:"client",$metadata:pn(e)}),h.label=13;case 13:return p=i.message||i.Message||a,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}})})},QQ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a;return N(this,function(s){switch(s.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,HTe(e,n)]:(r={$metadata:pn(e),Results:void 0,Summary:void 0},i=z_,a=L_,[4,xh(e.body,n)]);case 1:return t=i.apply(void 0,[a.apply(void 0,[s.sent()]),"body"]),t.Results!==void 0&&t.Results!==null&&(r.Results=QTe(t.Results,n)),t.Summary!==void 0&&t.Summary!==null&&(r.Summary=e3e(t.Summary,n)),[2,Promise.resolve(r)]}})})},HTe=function(e,n){return R(void 0,void 0,void 0,function(){var r,t,i,a,s,c,d,o,l,f,m,p,v;return N(this,function(h){switch(h.label){case 0:return t=[u({},e)],v={},[4,xh(e.body,n)];case 1:switch(r=u.apply(void 0,t.concat([(v.body=h.sent(),v)])),a="UnknownError",a=oZ(e,r.body),s=a,s){case"AccessDeniedException":return[3,2];case"com.amazonaws.location#AccessDeniedException":return[3,2];case"InternalServerException":return[3,4];case"com.amazonaws.location#InternalServerException":return[3,4];case"ResourceNotFoundException":return[3,6];case"com.amazonaws.location#ResourceNotFoundException":return[3,6];case"ThrottlingException":return[3,8];case"com.amazonaws.location#ThrottlingException":return[3,8];case"ValidationException":return[3,10];case"com.amazonaws.location#ValidationException":return[3,10]}return[3,12];case 2:return c=[{}],[4,ZQ(r,n)];case 3:return i=u.apply(void 0,[u.apply(void 0,c.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 4:return d=[{}],[4,eZ(r,n)];case 5:return i=u.apply(void 0,[u.apply(void 0,d.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 6:return o=[{}],[4,nZ(r,n)];case 7:return i=u.apply(void 0,[u.apply(void 0,o.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 8:return l=[{}],[4,rZ(r,n)];case 9:return i=u.apply(void 0,[u.apply(void 0,l.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 10:return f=[{}],[4,tZ(r,n)];case 11:return i=u.apply(void 0,[u.apply(void 0,f.concat([h.sent()])),{name:a,$metadata:pn(e)}]),[3,13];case 12:m=r.body,a=m.code||m.Code||a,i=u(u({},m),{name:""+a,message:m.message||m.Message||a,$fault:"client",$metadata:pn(e)}),h.label=13;case 13:return p=i.message||i.Message||a,i.message=p,delete i.Message,[2,Promise.reject(Object.assign(new Error(p),i))]}})})};var ZQ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"AccessDeniedException",$fault:"client",$metadata:pn(e),Message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.Message=Ge(t.message)),[2,r]})})};var eZ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"InternalServerException",$fault:"server",$retryable:{},$metadata:pn(e),Message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.Message=Ge(t.message)),[2,r]})})},nZ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"ResourceNotFoundException",$fault:"client",$metadata:pn(e),Message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.Message=Ge(t.message)),[2,r]})})};var rZ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"ThrottlingException",$fault:"client",$retryable:{},$metadata:pn(e),Message:void 0},t=e.body,t.message!==void 0&&t.message!==null&&(r.Message=Ge(t.message)),[2,r]})})},tZ=function(e,n){return R(void 0,void 0,void 0,function(){var r,t;return N(this,function(i){return r={name:"ValidationException",$fault:"client",$metadata:pn(e),FieldList:void 0,Message:void 0,Reason:void 0},t=e.body,t.fieldList!==void 0&&t.fieldList!==null&&(r.FieldList=r3e(t.fieldList,n)),t.message!==void 0&&t.message!==null&&(r.Message=Ge(t.message)),t.reason!==void 0&&t.reason!==null&&(r.Reason=Ge(t.reason)),[2,r]})})};var GTe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:F_(r)})};var VTe=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:r})};var aZ=function(e,n){return e.filter(function(r){return r!=null}).map(function(r){return r===null?null:F_(r)})};var JQ=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:B_(r)})};var KTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:Ge(r)})};var iZ=function(e,n){return{AddressNumber:Ge(e.AddressNumber),Country:Ge(e.Country),Geometry:e.Geometry!==void 0&&e.Geometry!==null?JTe(e.Geometry,n):void 0,Label:Ge(e.Label),Municipality:Ge(e.Municipality),Neighborhood:Ge(e.Neighborhood),PostalCode:Ge(e.PostalCode),Region:Ge(e.Region),Street:Ge(e.Street),SubRegion:Ge(e.SubRegion)}},JTe=function(e,n){return{Point:e.Point!==void 0&&e.Point!==null?nS(e.Point,n):void 0}},nS=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:B_(r)})},WTe=function(e,n){return{Place:e.Place!==void 0&&e.Place!==null?iZ(e.Place,n):void 0}},XTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:WTe(r,n)})},YTe=function(e,n){return{Place:e.Place!==void 0&&e.Place!==null?iZ(e.Place,n):void 0}},QTe=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:YTe(r,n)})},ZTe=function(e,n){return{DataSource:Ge(e.DataSource),MaxResults:k_(e.MaxResults),Position:e.Position!==void 0&&e.Position!==null?nS(e.Position,n):void 0}},e3e=function(e,n){return{BiasPosition:e.BiasPosition!==void 0&&e.BiasPosition!==null?nS(e.BiasPosition,n):void 0,DataSource:Ge(e.DataSource),FilterBBox:e.FilterBBox!==void 0&&e.FilterBBox!==null?JQ(e.FilterBBox,n):void 0,FilterCountries:e.FilterCountries!==void 0&&e.FilterCountries!==null?KTe(e.FilterCountries,n):void 0,MaxResults:k_(e.MaxResults),ResultBBox:e.ResultBBox!==void 0&&e.ResultBBox!==null?JQ(e.ResultBBox,n):void 0,Text:Ge(e.Text)}};var n3e=function(e,n){return{Message:Ge(e.message),Name:Ge(e.name)}},r3e=function(e,n){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:n3e(r,n)})},pn=function(e){var n;return{httpStatusCode:e.statusCode,requestId:(n=e.headers["x-amzn-requestid"])!==null&&n!==void 0?n:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},t3e=function(e,n){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array)},a3e=function(e,n){return t3e(e,n).then(function(r){return n.utf8Encoder(r)})};var xh=function(e,n){return a3e(e,n).then(function(r){return r.length?JSON.parse(r):{}})},oZ=function(e,n){var r=function(a,s){return Object.keys(a).find(function(c){return c.toLowerCase()===s.toLowerCase()})},t=function(a){var s=a;return s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},i=r(e.headers,"x-amzn-errortype");return i!==void 0?t(e.headers[i]):n.code!==void 0?t(n.code):n.__type!==void 0?t(n.__type):""};var sZ=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ph(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="LocationClient",d="SearchPlaceIndexForPositionCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:wh.filterSensitiveLog,outputFilterSensitiveLog:Eh.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return WQ(r,t)},n.prototype.deserialize=function(r,t){return YQ(r,t)},n}(vh);var cZ=function(e){J(n,e);function n(r){var t=e.call(this)||this;return t.input=r,t}return n.prototype.resolveMiddleware=function(r,t,i){this.middlewareStack.use(ph(t,this.serialize,this.deserialize));var a=r.concat(this.middlewareStack),s=t.logger,c="LocationClient",d="SearchPlaceIndexForTextCommand",o={logger:s,clientName:c,commandName:d,inputFilterSensitiveLog:_h.filterSensitiveLog,outputFilterSensitiveLog:Sh.filterSensitiveLog},l=t.requestHandler;return a.resolve(function(f){return l.handle(f.request,i||{})},o)},n.prototype.serialize=function(r,t){return XQ(r,t)},n.prototype.deserialize=function(r,t){return QQ(r,t)},n}(vh);var Ch;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ch||(Ch={}));var dZ=!1;var lZ=!1;var rS=function(e){if(typeof e=="boolean"){var n=Promise.resolve(e);return function(){return n}}return e};var tS=function(e){var n=e.endpoint,r=e.urlParser;if(typeof n=="string"){var t=Promise.resolve(r(n));return function(){return t}}else if(typeof n=="object"){var i=Promise.resolve(n);return function(){return i}}return n};var uZ=function(e){return R(void 0,void 0,void 0,function(){var n,r,t,i,a,s,c,d;return N(this,function(o){switch(o.label){case 0:return n=e.tls,r=n===void 0?!0:n,[4,e.region()];case 1:if(t=o.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(t))throw new Error("Invalid region in client config");return[4,e.useDualstackEndpoint()];case 2:return a=o.sent(),[4,e.useFipsEndpoint()];case 3:return s=o.sent(),[4,e.regionInfoProvider(t,{useDualstackEndpoint:a,useFipsEndpoint:s})];case 4:if(c=((d=o.sent())!==null&&d!==void 0?d:{}).hostname,!c)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+c)]}})})};var fZ=function(e){var n,r=rS(e.useDualstackEndpoint),t=e.endpoint,i=e.useFipsEndpoint;return u(u({},e),{tls:(n=e.tls)!==null&&n!==void 0?n:!0,endpoint:t?tS(u(u({},e),{endpoint:t})):function(){return uZ(u(u({},e),{useDualstackEndpoint:r,useFipsEndpoint:i}))},isCustomEndpoint:!!t,useDualstackEndpoint:r})};var Ah=function(e){return typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"))};var aS=function(e){return Ah(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e};var mZ=function(e){var n=e.region,r=e.useFipsEndpoint;if(!n)throw new Error("Region is missing");return u(u({},e),{region:function(){return R(void 0,void 0,void 0,function(){var t;return N(this,function(i){switch(i.label){case 0:return typeof n=="string"?[2,aS(n)]:[4,n()];case 1:return t=i.sent(),[2,aS(t)]}})})},useFipsEndpoint:function(){return R(void 0,void 0,void 0,function(){var t,i;return N(this,function(a){switch(a.label){case 0:return typeof n!="string"?[3,1]:(i=n,[3,3]);case 1:return[4,n()];case 2:i=a.sent(),a.label=3;case 3:return t=i,Ah(t)?[2,!0]:[2,typeof r=="boolean"?Promise.resolve(r):r()]}})})}})};var iS=function(e,n){var r;e===void 0&&(e=[]);var t=n.useFipsEndpoint,i=n.useDualstackEndpoint;return(r=e.find(function(a){var s=a.tags;return t===s.includes("fips")&&i===s.includes("dualstack")}))===null||r===void 0?void 0:r.hostname};var pZ=function(e,n){var r=n.regionHostname,t=n.partitionHostname;return r||(t?t.replace("{region}",e):void 0)};var vZ=function(e,n){var r,t=n.partitionHash;return(r=Object.keys(t||{}).find(function(i){return t[i].regions.includes(e)}))!==null&&r!==void 0?r:"aws"};var hZ=function(e,n){var r=n.signingRegion,t=n.regionRegex,i=n.useFipsEndpoint;if(r)return r;if(i){var a=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=e.match(a);if(s)return s[0].slice(1,-1)}};var yZ=function(e,n){var r,t,i,a,s,c,d=n.useFipsEndpoint,o=d===void 0?!1:d,l=n.useDualstackEndpoint,f=l===void 0?!1:l,m=n.signingService,p=n.regionHash,v=n.partitionHash,h=vZ(e,{partitionHash:v}),y=e in p?e:(t=(r=v[h])===null||r===void 0?void 0:r.endpoint)!==null&&t!==void 0?t:e,g={useFipsEndpoint:o,useDualstackEndpoint:f},w=iS((i=p[y])===null||i===void 0?void 0:i.variants,g),b=iS((a=v[h])===null||a===void 0?void 0:a.variants,g),E=pZ(y,{regionHostname:w,partitionHostname:b});if(E===void 0)throw new Error("Endpoint resolution failed for: "+{resolvedRegion:y,useFipsEndpoint:o,useDualstackEndpoint:f});var S=hZ(E,{signingRegion:(s=p[y])===null||s===void 0?void 0:s.signingRegion,regionRegex:v[h].regionRegex,useFipsEndpoint:o});return u(u({partition:h,signingService:m,hostname:E},S&&{signingRegion:S}),((c=p[y])===null||c===void 0?void 0:c.signingService)&&{signingService:p[y].signingService})};var gZ="content-length";function o3e(e){var n=this;return function(r){return function(t){return R(n,void 0,void 0,function(){var i,a,s,c,d;return N(this,function(o){return i=t.request,mr.isInstance(i)&&(a=i.body,s=i.headers,a&&Object.keys(s).map(function(l){return l.toLowerCase()}).indexOf(gZ)===-1&&(c=e(a),c!==void 0&&(i.headers=u(u({},i.headers),(d={},d[gZ]=String(c),d))))),[2,r(u(u({},t),{request:i}))]})})}}}var s3e={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},wZ=function(e){return{applyToStack:function(n){n.add(o3e(e.bodyLengthChecker),s3e)}}};var c3e=function(e){return function(n){return function(r){return R(void 0,void 0,void 0,function(){var t,i,a;return N(this,function(s){return mr.isInstance(r.request)?(t=r.request,i=(e.requestHandler.metadata||{}).handlerProtocol,a=i===void 0?"":i,a.indexOf("h2")>=0&&!t.headers[":authority"]?(delete t.headers.host,t.headers[":authority"]=""):t.headers.host||(t.headers.host=t.hostname),[2,n(r)]):[2,n(r)]})})}}},d3e={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},bZ=function(e){return{applyToStack:function(n){n.add(c3e(e),d3e)}}};var l3e=function(){return function(e,n){return function(r){return R(void 0,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:return t=n.clientName,i=n.commandName,a=n.inputFilterSensitiveLog,s=n.logger,c=n.outputFilterSensitiveLog,[4,e(r)];case 1:return d=m.sent(),s?(typeof s.info=="function"&&(o=d.output,l=o.$metadata,f=os(o,["$metadata"]),s.info({clientName:t,commandName:i,input:a(r.input),output:c(f),metadata:l})),[2,d]):[2,d]}})})}}},u3e={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},EZ=function(e){return{applyToStack:function(n){n.add(l3e(),u3e)}}};var Ba;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ba||(Ba={}));var Fc=3,oS=Ba.STANDARD;var _Z=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],SZ=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],xZ=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],CZ=[500,502,503,504];var AZ=function(e){return e.$retryable!==void 0},TZ=function(e){return _Z.includes(e.name)},jc=function(e){var n,r;return((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)===429||SZ.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},PZ=function(e){var n;return xZ.includes(e.name)||CZ.includes(((n=e.$metadata)===null||n===void 0?void 0:n.httpStatusCode)||0)};var IZ=function(){function e(n){var r,t,i,a,s;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(r=n?.beta)!==null&&r!==void 0?r:.7,this.minCapacity=(t=n?.minCapacity)!==null&&t!==void 0?t:1,this.minFillRate=(i=n?.minFillRate)!==null&&i!==void 0?i:.5,this.scaleConstant=(a=n?.scaleConstant)!==null&&a!==void 0?a:.4,this.smooth=(s=n?.smooth)!==null&&s!==void 0?s:.8;var c=this.getCurrentTimeInSeconds();this.lastThrottleTime=c,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return e.prototype.getCurrentTimeInSeconds=function(){return Date.now()/1e3},e.prototype.getSendToken=function(){return R(this,void 0,void 0,function(){return N(this,function(n){return[2,this.acquireTokenBucket(1)]})})},e.prototype.acquireTokenBucket=function(n){return R(this,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return this.enabled?(this.refillTokenBucket(),n>this.currentCapacity?(r=(n-this.currentCapacity)/this.fillRate*1e3,[4,new Promise(function(i){return setTimeout(i,r)})]):[3,2]):[2];case 1:t.sent(),t.label=2;case 2:return this.currentCapacity=this.currentCapacity-n,[2]}})})},e.prototype.refillTokenBucket=function(){var n=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=n;return}var r=(n-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=n},e.prototype.updateClientSendingRate=function(n){var r;if(this.updateMeasuredRate(),jc(n)){var t=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=t,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(t),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());var i=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(i)},e.prototype.calculateTimeWindow=function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))},e.prototype.cubicThrottle=function(n){return this.getPrecise(n*this.beta)},e.prototype.cubicSuccess=function(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)},e.prototype.enableTokenBucket=function(){this.enabled=!0},e.prototype.updateTokenBucketRate=function(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)},e.prototype.updateMeasuredRate=function(){var n=this.getCurrentTimeInSeconds(),r=Math.floor(n*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){var t=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(t*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}},e.prototype.getPrecise=function(n){return parseFloat(n.toFixed(8))},e}();var Th,f3e=new Uint8Array(16);function sS(){if(!Th&&(Th=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Th))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Th(f3e)}var NZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function m3e(e){return typeof e=="string"&&NZ.test(e)}var RZ=m3e;var Rn=[];for(Ph=0;Ph<256;++Ph)Rn.push((Ph+256).toString(16).substr(1));var Ph;function p3e(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Rn[e[n+0]]+Rn[e[n+1]]+Rn[e[n+2]]+Rn[e[n+3]]+"-"+Rn[e[n+4]]+Rn[e[n+5]]+"-"+Rn[e[n+6]]+Rn[e[n+7]]+"-"+Rn[e[n+8]]+Rn[e[n+9]]+"-"+Rn[e[n+10]]+Rn[e[n+11]]+Rn[e[n+12]]+Rn[e[n+13]]+Rn[e[n+14]]+Rn[e[n+15]]).toLowerCase();if(!RZ(r))throw TypeError("Stringified UUID is invalid");return r}var OZ=p3e;function v3e(e,n,r){e=e||{};var t=e.random||(e.rng||sS)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){r=r||0;for(var i=0;i<16;++i)n[r+i]=t[i];return n}return OZ(t)}var cS=v3e;var MZ=100,DZ=20*1e3,kZ=500,zZ=500,LZ=5,BZ=10,UZ=1,dS="amz-sdk-invocation-id",lS="amz-sdk-request";var FZ=function(e,n){var r,t,i,a=e,s=(r=n?.noRetryIncrement)!==null&&r!==void 0?r:UZ,c=(t=n?.retryCost)!==null&&t!==void 0?t:LZ,d=(i=n?.timeoutRetryCost)!==null&&i!==void 0?i:BZ,o=e,l=function(v){return v.name==="TimeoutError"?d:c},f=function(v){return l(v)<=o},m=function(v){if(!f(v))throw new Error("No retry token available");var h=l(v);return o-=h,h},p=function(v){o+=v??s,o=Math.min(o,a)};return Object.freeze({hasRetryTokens:f,retrieveRetryTokens:m,releaseRetryTokens:p})};var jZ=function(e,n){return Math.floor(Math.min(DZ,Math.random()*Math.pow(2,n)*e))};var qZ=function(e){return e?AZ(e)||TZ(e)||jc(e)||PZ(e):!1};var Ih=function(){function e(n,r){var t,i,a;this.maxAttemptsProvider=n,this.mode=Ba.STANDARD,this.retryDecider=(t=r?.retryDecider)!==null&&t!==void 0?t:qZ,this.delayDecider=(i=r?.delayDecider)!==null&&i!==void 0?i:jZ,this.retryQuota=(a=r?.retryQuota)!==null&&a!==void 0?a:FZ(zZ)}return e.prototype.shouldRetry=function(n,r,t){return r<t&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)},e.prototype.getMaxAttempts=function(){return R(this,void 0,void 0,function(){var n,r;return N(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return n=t.sent(),[3,3];case 2:return r=t.sent(),n=Fc,[3,3];case 3:return[2,n]}})})},e.prototype.retry=function(n,r,t){return R(this,void 0,void 0,function(){var i,a,s,c,d,o,l,f;return N(this,function(m){switch(m.label){case 0:return a=0,s=0,[4,this.getMaxAttempts()];case 1:c=m.sent(),d=r.request,mr.isInstance(d)&&(d.headers[dS]=cS()),o=function(){var p,v,h,y,g,w;return N(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,7]),mr.isInstance(d)&&(d.headers[lS]="attempt="+(a+1)+"; max="+c),t?.beforeRequest?[4,t.beforeRequest()]:[3,2];case 1:b.sent(),b.label=2;case 2:return[4,n(r)];case 3:return p=b.sent(),v=p.response,h=p.output,t?.afterRequest&&t.afterRequest(v),l.retryQuota.releaseRetryTokens(i),h.$metadata.attempts=a+1,h.$metadata.totalRetryDelay=s,[2,{value:{response:v,output:h}}];case 4:return y=b.sent(),g=h3e(y),a++,l.shouldRetry(g,a,c)?(i=l.retryQuota.retrieveRetryTokens(g),w=l.delayDecider(jc(g)?kZ:MZ,a),s+=w,[4,new Promise(function(E){return setTimeout(E,w)})]):[3,6];case 5:return b.sent(),[2,"continue"];case 6:throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=a,g.$metadata.totalRetryDelay=s,g;case 7:return[2]}})},l=this,m.label=2;case 2:return[5,o()];case 3:return f=m.sent(),typeof f=="object"?[2,f.value]:[3,2];case 4:return[2]}})})},e}();var h3e=function(e){return e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error("AWS SDK error wrapper for "+e)};var $Z=function(e){J(n,e);function n(r,t){var i=this,a=t??{},s=a.rateLimiter,c=os(a,["rateLimiter"]);return i=e.call(this,r,c)||this,i.rateLimiter=s??new IZ,i.mode=Ba.ADAPTIVE,i}return n.prototype.retry=function(r,t){return R(this,void 0,void 0,function(){var i=this;return N(this,function(a){return[2,e.prototype.retry.call(this,r,t,{beforeRequest:function(){return R(i,void 0,void 0,function(){return N(this,function(s){return[2,this.rateLimiter.getSendToken()]})})},afterRequest:function(s){i.rateLimiter.updateClientSendingRate(s)}})]})})},n}(Ih);var HZ=function(e){var n=g3e(e.maxAttempts);return u(u({},e),{maxAttempts:n,retryStrategy:function(){return R(void 0,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return e.retryStrategy?[2,e.retryStrategy]:[4,y3e(e.retryMode)];case 1:return r=t.sent(),r===Ba.ADAPTIVE?[2,new $Z(n)]:[2,new Ih(n)]}})})}})},y3e=function(e){return R(void 0,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return typeof e=="string"?[2,e]:[4,e()];case 1:return[2,n.sent()]}})})},g3e=function(e){if(e===void 0&&(e=Fc),typeof e=="number"){var n=Promise.resolve(e);return function(){return n}}return e};var w3e=function(e){return function(n,r){return function(t){return R(void 0,void 0,void 0,function(){var i;return N(this,function(a){switch(a.label){case 0:return[4,e.retryStrategy()];case 1:return i=a.sent(),i?.mode&&(r.userAgent=ln(ln([],de(r.userAgent||[])),[["cfg/retry-mode",i.mode]])),[2,i.retry(n,t)]}})})}}},b3e={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},GZ=function(e){return{applyToStack:function(n){n.add(w3e(e),b3e)}}};var E3e=function(e){J(n,e);function n(r,t){t===void 0&&(t=!0);var i=e.call(this,r)||this;return i.tryNextLink=t,i}return n.from=function(r,t){return t===void 0&&(t=!0),Object.defineProperty(r,"tryNextLink",{value:t,configurable:!1,enumerable:!1,writable:!1}),r},n}(Error);var Uan=function(e){J(n,e);function n(r,t){t===void 0&&(t=!0);var i=e.call(this,r)||this;return i.tryNextLink=t,i.name="CredentialsProviderError",i}return n.from=function(r,t){return t===void 0&&(t=!0),Object.defineProperty(r,"tryNextLink",{value:t,configurable:!1,enumerable:!1,writable:!1}),r},n}(Error);var VZ=function(e,n,r){var t,i,a,s=function(){return R(void 0,void 0,void 0,function(){return N(this,function(d){switch(d.label){case 0:i||(i=e()),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,i];case 2:return t=d.sent(),a=!0,[3,4];case 3:return i=void 0,[7];case 4:return[2,t]}})})};if(n===void 0)return function(){return R(void 0,void 0,void 0,function(){return N(this,function(d){switch(d.label){case 0:return a?[3,2]:[4,s()];case 1:t=d.sent(),d.label=2;case 2:return[2,t]}})})};var c=!1;return function(){return R(void 0,void 0,void 0,function(){return N(this,function(d){switch(d.label){case 0:return a?[3,2]:[4,s()];case 1:t=d.sent(),d.label=2;case 2:return c?[2,t]:r&&!r(t)?(c=!0,[2,t]):n(t)?[4,s()]:[3,4];case 3:return d.sent(),[2,t];case 4:return[2,t]}})})}};var KZ={},_3e={};for(qc=0;qc<256;qc++)$c=qc.toString(16).toLowerCase(),$c.length===1&&($c="0"+$c),KZ[qc]=$c,_3e[$c]=qc;var $c,qc;function Ua(e){for(var n="",r=0;r<e.byteLength;r++)n+=KZ[e[r]];return n}var JZ="X-Amz-Algorithm",WZ="X-Amz-Credential",uS="X-Amz-Date",XZ="X-Amz-SignedHeaders",YZ="X-Amz-Expires",fS="X-Amz-Signature",mS="X-Amz-Security-Token";var pS="authorization",vS=uS.toLowerCase(),S3e="date",QZ=[pS,vS,S3e],ZZ=fS.toLowerCase(),Bl="x-amz-content-sha256",eee=mS.toLowerCase();var nee={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},ree=/^proxy-/,tee=/^sec-/;var Nh="AWS4-HMAC-SHA256";var aee="AWS4-HMAC-SHA256-PAYLOAD",iee="UNSIGNED-PAYLOAD",oee=50,hS="aws4_request",see=60*60*24*7;var Rh={},yS=[],Oh=function(e,n,r){return e+"/"+n+"/"+r+"/"+hS},dee=function(e,n,r,t,i){return R(void 0,void 0,void 0,function(){var a,s,c,d,o,l,f,m,p;return N(this,function(v){switch(v.label){case 0:return[4,cee(e,n.secretAccessKey,n.accessKeyId)];case 1:if(a=v.sent(),s=r+":"+t+":"+i+":"+Ua(a)+":"+n.sessionToken,s in Rh)return[2,Rh[s]];for(yS.push(s);yS.length>oee;)delete Rh[yS.shift()];c="AWS4"+n.secretAccessKey,v.label=2;case 2:v.trys.push([2,7,8,9]),d=je([r,t,i,hS]),o=d.next(),v.label=3;case 3:return o.done?[3,6]:(l=o.value,[4,cee(e,c,l)]);case 4:c=v.sent(),v.label=5;case 5:return o=d.next(),[3,3];case 6:return[3,9];case 7:return f=v.sent(),m={error:f},[3,9];case 8:try{o&&!o.done&&(p=d.return)&&p.call(d)}finally{if(m)throw m.error}return[7];case 9:return[2,Rh[s]=c]}})})};var cee=function(e,n,r){var t=new e(n);return t.update(r),t.digest()};var Mh=function(e,n,r){var t,i,a=e.headers,s={};try{for(var c=je(Object.keys(a).sort()),d=c.next();!d.done;d=c.next()){var o=d.value,l=o.toLowerCase();(l in nee||n?.has(l)||ree.test(l)||tee.test(l))&&(!r||r&&!r.has(l))||(s[l]=a[o].trim().replace(/\s+/g," "))}}catch(f){t={error:f}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}return s};var ia=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,x3e)},x3e=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};var gS=function(e){var n,r,t=e.query,i=t===void 0?{}:t,a=[],s={},c=function(f){if(f.toLowerCase()===ZZ)return"continue";a.push(f);var m=i[f];typeof m=="string"?s[f]=ia(f)+"="+ia(m):Array.isArray(m)&&(s[f]=m.slice(0).sort().reduce(function(p,v){return p.concat([ia(f)+"="+ia(v)])},[]).join("&"))};try{for(var d=je(Object.keys(i).sort()),o=d.next();!o.done;o=d.next()){var l=o.value;c(l)}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return a.map(function(f){return s[f]}).filter(function(f){return f}).join("&")};var lee=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};var Ul=function(e,n){var r=e.headers,t=e.body;return R(void 0,void 0,void 0,function(){var i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:try{for(i=je(Object.keys(r)),a=i.next();!a.done;a=i.next())if(s=a.value,s.toLowerCase()===Bl)return[2,r[s]]}catch(m){o={error:m}}finally{try{a&&!a.done&&(l=i.return)&&l.call(i)}finally{if(o)throw o.error}}return t!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof t=="string"||ArrayBuffer.isView(t)||lee(t)?(c=new n,c.update(t),d=Ua,[4,c.digest()]):[3,3];case 2:return[2,d.apply(void 0,[f.sent()])];case 3:return[2,iee]}})})};var uee=function(e,n){var r,t;e=e.toLowerCase();try{for(var i=je(Object.keys(n)),a=i.next();!a.done;a=i.next()){var s=a.value;if(e===s.toLowerCase())return!0}}catch(c){r={error:c}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return!1};var Dh=function(e){var n=e.headers,r=e.query,t=os(e,["headers","query"]);return u(u({},t),{headers:u({},n),query:r?C3e(r):void 0})},C3e=function(e){return Object.keys(e).reduce(function(n,r){var t,i=e[r];return u(u({},n),(t={},t[r]=Array.isArray(i)?ln([],de(i)):i,t))},{})};var wS=function(e,n){var r,t,i;n===void 0&&(n={});var a=typeof e.clone=="function"?e.clone():Dh(e),s=a.headers,c=a.query,d=c===void 0?{}:c;try{for(var o=je(Object.keys(s)),l=o.next();!l.done;l=o.next()){var f=l.value,m=f.toLowerCase();m.substr(0,6)==="x-amz-"&&!(!((i=n.unhoistableHeaders)===null||i===void 0)&&i.has(m))&&(d[f]=s[f],delete s[f])}}catch(p){r={error:p}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return u(u({},e),{headers:s,query:d})};var bS=function(e){if(typeof e=="string"){var n=Promise.resolve(e);return function(){return n}}else return e},ES=function(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}else return e};var kh=function(e){var n,r;e=typeof e.clone=="function"?e.clone():Dh(e);try{for(var t=je(Object.keys(e.headers)),i=t.next();!i.done;i=t.next()){var a=i.value;QZ.indexOf(a.toLowerCase())>-1&&delete e.headers[a]}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=t.return)&&r.call(t)}finally{if(n)throw n.error}}return e};var fee=function(e){return A3e(e).toISOString().replace(/\.\d{3}Z$/,"Z")},A3e=function(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e};var pee=function(){function e(n){var r=n.applyChecksum,t=n.credentials,i=n.region,a=n.service,s=n.sha256,c=n.uriEscapePath,d=c===void 0?!0:c;this.service=a,this.sha256=s,this.uriEscapePath=d,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=bS(i),this.credentialProvider=ES(t)}return e.prototype.presign=function(n,r){return r===void 0&&(r={}),R(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f,m,p,v,h,y,g,w,b,E,S,A,I,P,O,k;return N(this,function(_){switch(_.label){case 0:return t=r.signingDate,i=t===void 0?new Date:t,a=r.expiresIn,s=a===void 0?3600:a,c=r.unsignableHeaders,d=r.unhoistableHeaders,o=r.signableHeaders,l=r.signingRegion,f=r.signingService,[4,this.credentialProvider()];case 1:return m=_.sent(),l==null?[3,2]:(v=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:v=_.sent(),_.label=4;case 4:return p=v,h=zh(i),y=h.longDate,g=h.shortDate,s>see?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(w=Oh(g,p,f??this.service),b=wS(kh(n),{unhoistableHeaders:d}),m.sessionToken&&(b.query[mS]=m.sessionToken),b.query[JZ]=Nh,b.query[WZ]=m.accessKeyId+"/"+w,b.query[uS]=y,b.query[YZ]=s.toString(10),E=Mh(b,c,o),b.query[XZ]=mee(E),S=b.query,A=fS,I=this.getSignature,P=[y,w,this.getSigningKey(m,p,g,f)],O=this.createCanonicalRequest,k=[b,E],[4,Ul(n,this.sha256)]);case 5:return[4,I.apply(this,P.concat([O.apply(this,k.concat([_.sent()]))]))];case 6:return S[A]=_.sent(),[2,b]}})})},e.prototype.sign=function(n,r){return R(this,void 0,void 0,function(){return N(this,function(t){return typeof n=="string"?[2,this.signString(n,r)]:n.headers&&n.payload?[2,this.signEvent(n,r)]:[2,this.signRequest(n,r)]})})},e.prototype.signEvent=function(n,r){var t=n.headers,i=n.payload,a=r.signingDate,s=a===void 0?new Date:a,c=r.priorSignature,d=r.signingRegion,o=r.signingService;return R(this,void 0,void 0,function(){var l,f,m,p,v,h,y,g,w,b,E;return N(this,function(S){switch(S.label){case 0:return d==null?[3,1]:(f=d,[3,3]);case 1:return[4,this.regionProvider()];case 2:f=S.sent(),S.label=3;case 3:return l=f,m=zh(s),p=m.shortDate,v=m.longDate,h=Oh(p,l,o??this.service),[4,Ul({headers:{},body:i},this.sha256)];case 4:return y=S.sent(),g=new this.sha256,g.update(t),b=Ua,[4,g.digest()];case 5:return w=b.apply(void 0,[S.sent()]),E=[aee,v,h,c,w,y].join(`
`),[2,this.signString(E,{signingDate:s,signingRegion:l,signingService:o})]}})})},e.prototype.signString=function(n,r){var t=r===void 0?{}:r,i=t.signingDate,a=i===void 0?new Date:i,s=t.signingRegion,c=t.signingService;return R(this,void 0,void 0,function(){var d,o,l,f,m,p,v,h;return N(this,function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return d=y.sent(),s==null?[3,2]:(l=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:l=y.sent(),y.label=4;case 4:return o=l,f=zh(a).shortDate,v=(p=this.sha256).bind,[4,this.getSigningKey(d,o,f,c)];case 5:return m=new(v.apply(p,[void 0,y.sent()])),m.update(n),h=Ua,[4,m.digest()];case 6:return[2,h.apply(void 0,[y.sent()])]}})})},e.prototype.signRequest=function(n,r){var t=r===void 0?{}:r,i=t.signingDate,a=i===void 0?new Date:i,s=t.signableHeaders,c=t.unsignableHeaders,d=t.signingRegion,o=t.signingService;return R(this,void 0,void 0,function(){var l,f,m,p,v,h,y,g,w,b,E;return N(this,function(S){switch(S.label){case 0:return[4,this.credentialProvider()];case 1:return l=S.sent(),d==null?[3,2]:(m=d,[3,4]);case 2:return[4,this.regionProvider()];case 3:m=S.sent(),S.label=4;case 4:return f=m,p=kh(n),v=zh(a),h=v.longDate,y=v.shortDate,g=Oh(y,f,o??this.service),p.headers[vS]=h,l.sessionToken&&(p.headers[eee]=l.sessionToken),[4,Ul(p,this.sha256)];case 5:return w=S.sent(),!uee(Bl,p.headers)&&this.applyChecksum&&(p.headers[Bl]=w),b=Mh(p,c,s),[4,this.getSignature(h,g,this.getSigningKey(l,f,y,o),this.createCanonicalRequest(p,b,w))];case 6:return E=S.sent(),p.headers[pS]=Nh+" "+("Credential="+l.accessKeyId+"/"+g+", ")+("SignedHeaders="+mee(b)+", ")+("Signature="+E),[2,p]}})})},e.prototype.createCanonicalRequest=function(n,r,t){var i=Object.keys(r).sort();return n.method+`
`+this.getCanonicalPath(n)+`
`+gS(n)+`
`+i.map(function(a){return a+":"+r[a]}).join(`
`)+`

`+i.join(";")+`
`+t},e.prototype.createStringToSign=function(n,r,t){return R(this,void 0,void 0,function(){var i,a;return N(this,function(s){switch(s.label){case 0:return i=new this.sha256,i.update(t),[4,i.digest()];case 1:return a=s.sent(),[2,Nh+`
`+n+`
`+r+`
`+Ua(a)]}})})},e.prototype.getCanonicalPath=function(n){var r=n.path;if(this.uriEscapePath){var t=encodeURIComponent(r.replace(/^\//,""));return"/"+t.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(n,r,t,i){return R(this,void 0,void 0,function(){var a,s,c,d,o;return N(this,function(l){switch(l.label){case 0:return[4,this.createStringToSign(n,r,i)];case 1:return a=l.sent(),d=(c=this.sha256).bind,[4,t];case 2:return s=new(d.apply(c,[void 0,l.sent()])),s.update(a),o=Ua,[4,s.digest()];case 3:return[2,o.apply(void 0,[l.sent()])]}})})},e.prototype.getSigningKey=function(n,r,t,i){return dee(this.sha256,n,t,r,i||this.service)},e}();var zh=function(e){var n=fee(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},mee=function(e){return Object.keys(e).sort().join(";")};var T3e=3e5,vee=function(e){var n=e.credentials?P3e(e.credentials):e.credentialDefaultProvider(e),r=e.signingEscapePath,t=r===void 0?!0:r,i=e.systemClockOffset,a=i===void 0?e.systemClockOffset||0:i,s=e.sha256,c;return e.signer?c=_S(e.signer):c=function(){return _S(e.region)().then(function(d){return R(void 0,void 0,void 0,function(){var o,l,f,m;return N(this,function(p){switch(p.label){case 0:return l=(o=e).regionInfoProvider,f=[d],m={},[4,e.useFipsEndpoint()];case 1:return m.useFipsEndpoint=p.sent(),[4,e.useDualstackEndpoint()];case 2:return[4,l.apply(o,f.concat([(m.useDualstackEndpoint=p.sent(),m)]))];case 3:return[2,[p.sent()||{},d]]}})})}).then(function(d){var o=de(d,2),l=o[0],f=o[1],m=l.signingRegion,p=l.signingService;e.signingRegion=e.signingRegion||m||f,e.signingName=e.signingName||p||e.serviceId;var v=u(u({},e),{credentials:n,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:t}),h=e.signerConstructor||pee;return new h(v)})},u(u({},e),{systemClockOffset:a,signingEscapePath:t,credentials:n,signer:c})};var _S=function(e){if(typeof e=="object"){var n=Promise.resolve(e);return function(){return n}}return e},P3e=function(e){return typeof e=="function"?VZ(e,function(n){return n.expiration!==void 0&&n.expiration.getTime()-Date.now()<T3e},function(n){return n.expiration!==void 0}):_S(e)};var Lh=function(e){return new Date(Date.now()+e)};var hee=function(e,n){return Math.abs(Lh(n).getTime()-e)>=3e5};var SS=function(e,n){var r=Date.parse(e);return hee(r,n)?r-Date.now():n};var I3e=function(e){return function(n,r){return function(t){return R(this,void 0,void 0,function(){var i,a,s,c,d,o,l;return N(this,function(f){switch(f.label){case 0:return mr.isInstance(t.request)?[4,e.signer()]:[2,n(t)];case 1:return i=f.sent(),s=n,c=[u({},t)],l={},[4,i.sign(t.request,{signingDate:Lh(e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 2:return[4,s.apply(void 0,[u.apply(void 0,c.concat([(l.request=f.sent(),l)]))]).catch(function(m){throw m.ServerTime&&(e.systemClockOffset=SS(m.ServerTime,e.systemClockOffset)),m})];case 3:return a=f.sent(),d=a.response.headers,o=d&&(d.date||d.Date),o&&(e.systemClockOffset=SS(o,e.systemClockOffset)),[2,a]}})})}}},N3e={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},yee=function(e){return{applyToStack:function(n){n.addRelativeTo(I3e(e),N3e)}}};function gee(e){return u(u({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var xS="user-agent",Bh="x-amz-user-agent",CS=" ",wee=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var R3e=function(e){return function(n,r){return function(t){return R(void 0,void 0,void 0,function(){var i,a,s,c,d,o,l,f,m;return N(this,function(p){switch(p.label){case 0:return i=t.request,mr.isInstance(i)?(a=i.headers,s=((f=r?.userAgent)===null||f===void 0?void 0:f.map(AS))||[],[4,e.defaultUserAgentProvider()]):[2,n(t)];case 1:return c=p.sent().map(AS),d=((m=e?.customUserAgent)===null||m===void 0?void 0:m.map(AS))||[],o=ln(ln(ln([],de(c)),de(s)),de(d)).join(CS),l=ln(ln([],de(c.filter(function(v){return v.startsWith("aws-sdk-")}))),de(d)).join(CS),e.runtime!=="browser"?(l&&(a[Bh]=a[Bh]?a[xS]+" "+l:l),a[xS]=o):a[Bh]=o,[2,n(u(u({},t),{request:i}))]}})})}}},AS=function(e){var n=de(e,2),r=n[0],t=n[1],i=r.indexOf("/"),a=r.substring(0,i),s=r.substring(i+1);return a==="api"&&(s=s.toLowerCase()),[a,s,t].filter(function(c){return c&&c.length>0}).map(function(c){return c?.replace(wee,"_")}).join("/")},O3e={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},bee=function(e){return{applyToStack:function(n){n.add(R3e(e),O3e)}}};var Eee={name:"@aws-sdk/client-location",description:"AWS SDK for JavaScript Location Client for Node.js, Browser and React Native",version:"3.41.0",scripts:{build:"yarn build:cjs && yarn build:es && yarn build:types","build:cjs":"tsc -p tsconfig.json","build:docs":"yarn clean:docs && typedoc ./","build:es":"tsc -p tsconfig.es.json","build:types":"tsc -p tsconfig.types.json",clean:"yarn clean:dist && yarn clean:docs","clean:dist":"rimraf ./dist","clean:docs":"rimraf ./docs","downlevel-dts":"downlevel-dts dist-types dist-types/ts3.4",test:"jest --coverage --passWithNoTests"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"2.0.0","@aws-crypto/sha256-js":"2.0.0","@aws-sdk/client-sts":"3.41.0","@aws-sdk/config-resolver":"3.40.0","@aws-sdk/credential-provider-node":"3.41.0","@aws-sdk/fetch-http-handler":"3.40.0","@aws-sdk/hash-node":"3.40.0","@aws-sdk/invalid-dependency":"3.40.0","@aws-sdk/middleware-content-length":"3.40.0","@aws-sdk/middleware-host-header":"3.40.0","@aws-sdk/middleware-logger":"3.40.0","@aws-sdk/middleware-retry":"3.40.0","@aws-sdk/middleware-serde":"3.40.0","@aws-sdk/middleware-signing":"3.40.0","@aws-sdk/middleware-stack":"3.40.0","@aws-sdk/middleware-user-agent":"3.40.0","@aws-sdk/node-config-provider":"3.40.0","@aws-sdk/node-http-handler":"3.40.0","@aws-sdk/protocol-http":"3.40.0","@aws-sdk/smithy-client":"3.41.0","@aws-sdk/types":"3.40.0","@aws-sdk/url-parser":"3.40.0","@aws-sdk/util-base64-browser":"3.37.0","@aws-sdk/util-base64-node":"3.37.0","@aws-sdk/util-body-length-browser":"3.37.0","@aws-sdk/util-body-length-node":"3.37.0","@aws-sdk/util-user-agent-browser":"3.40.0","@aws-sdk/util-user-agent-node":"3.40.0","@aws-sdk/util-utf8-browser":"3.37.0","@aws-sdk/util-utf8-node":"3.37.0",tslib:"^2.3.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.38.0","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0","ts-jest":"^26.4.1",typedoc:"^0.19.2",typescript:"~4.3.5"},engines:{node:">=10.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-location",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-location"}};var Ene=W(sne());function cne(e){var n,r,t=[];try{for(var i=je(Object.keys(e).sort()),a=i.next();!a.done;a=i.next()){var s=a.value,c=e[s];if(s=ia(s),Array.isArray(c))for(var d=0,o=c.length;d<o;d++)t.push(s+"="+ia(c[d]));else{var l=s;(c||typeof c=="string")&&(l+="="+ia(c)),t.push(l)}}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t.join("&")}function dne(e){return e===void 0&&(e=0),new Promise(function(n,r){e&&setTimeout(function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",r(t)},e)})}var lne=function(){function e(n){var r=n===void 0?{}:n,t=r.requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(n,r){var t=r===void 0?{}:r,i=t.abortSignal,a=this.requestTimeout;if(i?.aborted){var s=new Error("Request aborted");return s.name="AbortError",Promise.reject(s)}var c=n.path;if(n.query){var d=cne(n.query);d&&(c+="?"+d)}var o=n.port,l=n.method,f=n.protocol+"//"+n.hostname+(o?":"+o:"")+c,m=l==="GET"||l==="HEAD"?void 0:n.body,p={body:m,headers:new Headers(n.headers),method:l};typeof AbortController<"u"&&(p.signal=i);var v=new Request(f,p),h=[fetch(v).then(function(y){var g,w,b=y.headers,E={};try{for(var S=je(b.entries()),A=S.next();!A.done;A=S.next()){var I=A.value;E[I[0]]=I[1]}}catch(O){g={error:O}}finally{try{A&&!A.done&&(w=S.return)&&w.call(S)}finally{if(g)throw g.error}}var P=y.body!==void 0;return P?{response:new Z_({headers:E,statusCode:y.status,body:y.body})}:y.blob().then(function(O){return{response:new Z_({headers:E,statusCode:y.status,body:O})}})}),dne(a)];return i&&h.push(new Promise(function(y,g){i.onabort=function(){var w=new Error("Request aborted");w.name="AbortError",g(w)}})),Promise.race(h)},e}();var Pi={},Jc=new Array(64);for(on=0,zo=65,Vl=90;on+zo<=Vl;on++)Mt=String.fromCharCode(on+zo),Pi[Mt]=on,Jc[on]=Mt;var Mt,on,zo,Vl;for(on=0,zo=97,Vl=122;on+zo<=Vl;on++)Mt=String.fromCharCode(on+zo),Lo=on+26,Pi[Mt]=Lo,Jc[Lo]=Mt;var Mt,Lo,on,zo,Vl;for(on=0;on<10;on++)Pi[on.toString(10)]=on+52,Mt=on.toString(10),Lo=on+52,Pi[Mt]=Lo,Jc[Lo]=Mt;var Mt,Lo,on;Pi["+"]=62;Jc[62]="+";Pi["/"]=63;Jc[63]="/";var Kc=6,Gl=8,HIe=63;function ey(e){var n=e.length/4*3;e.substr(-2)==="=="?n-=2:e.substr(-1)==="="&&n--;for(var r=new ArrayBuffer(n),t=new DataView(r),i=0;i<e.length;i+=4){for(var a=0,s=0,c=i,d=i+3;c<=d;c++)if(e[c]!=="="){if(!(e[c]in Pi))throw new TypeError("Invalid character "+e[c]+" in base64 string.");a|=Pi[e[c]]<<(d-c)*Kc,s+=Kc}else a>>=Kc;var o=i/4*3;a>>=s%Gl;for(var l=Math.floor(s/Gl),f=0;f<l;f++){var m=(l-f-1)*Gl;t.setUint8(o+f,(a&255<<m)>>m)}}return new Uint8Array(r)}function une(e){for(var n="",r=0;r<e.length;r+=3){for(var t=0,i=0,a=r,s=Math.min(r+3,e.length);a<s;a++)t|=e[a]<<(s-a-1)*Gl,i+=Gl;var c=Math.ceil(i/Kc);t<<=c*Kc-i;for(var d=1;d<=c;d++){var o=(c-d)*Kc;n+=Jc[(t&HIe<<o)>>o]}n+="==".slice(0,4-c)}return n}var fne=function(e){return typeof Blob=="function"&&e instanceof Blob?GIe(e):VIe(e)};function GIe(e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(t){switch(t.label){case 0:return[4,KIe(e)];case 1:return n=t.sent(),r=ey(n),[2,new Uint8Array(r)]}})})}function VIe(e){return R(this,void 0,void 0,function(){var n,r,t,i,a,s,c;return N(this,function(d){switch(d.label){case 0:n=new Uint8Array(0),r=e.getReader(),t=!1,d.label=1;case 1:return t?[3,3]:[4,r.read()];case 2:return i=d.sent(),a=i.done,s=i.value,s&&(c=n,n=new Uint8Array(c.length+s.length),n.set(c),n.set(s,c.length)),t=a,[3,1];case 3:return[2,n]}})})}function KIe(e){return new Promise(function(n,r){var t=new FileReader;t.onloadend=function(){var i;if(t.readyState!==2)return r(new Error("Reader aborted too early"));var a=(i=t.result)!==null&&i!==void 0?i:"",s=a.indexOf(","),c=s>-1?s+1:a.length;n(a.substring(c))},t.onabort=function(){return r(new Error("Read aborted"))},t.onerror=function(){return r(t.error)},t.readAsDataURL(e)})}var mne=function(e){return function(){return Promise.reject(e)}};function pne(e){if(typeof e=="string"){for(var n=e.length,r=n-1;r>=0;r--){var t=e.charCodeAt(r);t>127&&t<=2047?n++:t>2047&&t<=65535&&(n+=2)}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}var vne=W(Gg()),hne=function(e){var n=e.serviceId,r=e.clientVersion;return function(){return R(void 0,void 0,void 0,function(){var t,i,a,s,c,d,o,l,f;return N(this,function(m){return t=typeof window<"u"&&(!((a=window?.navigator)===null||a===void 0)&&a.userAgent)?vne.default.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+(((s=t?.os)===null||s===void 0?void 0:s.name)||"other"),(c=t?.os)===null||c===void 0?void 0:c.version],["lang/js"],["md/browser",((o=(d=t?.browser)===null||d===void 0?void 0:d.name)!==null&&o!==void 0?o:"unknown")+"_"+((f=(l=t?.browser)===null||l===void 0?void 0:l.version)!==null&&f!==void 0?f:"unknown")]],n&&i.push(["api/"+n,r]),[2,i]})})}};var ny=W(Fh());function yne(e){var n,r,t={};if(e=e.replace(/^\?/,""),e)try{for(var i=je(e.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value,c=de(s.split("="),2),d=c[0],o=c[1],l=o===void 0?null:o;d=decodeURIComponent(d),l&&(l=decodeURIComponent(l)),d in t?Array.isArray(t[d])?t[d].push(l):t[d]=[t[d],l]:t[d]=l}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t}var gne=function(e){var n=new URL(e),r=n.hostname,t=n.pathname,i=n.port,a=n.protocol,s=n.search,c;return s&&(c=yne(s)),{hostname:r,port:i?parseInt(i):void 0,protocol:a,path:t,query:c}};var JIe={},WIe={aws:{regions:["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"],regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]},"aws-cn":{regions:["cn-north-1","cn-northwest-1"],regionRegex:"^cn\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com.cn",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com.cn",tags:["fips"]},{hostname:"geo-fips.{region}.api.amazonwebservices.com.cn",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.amazonwebservices.com.cn",tags:["dualstack"]}]},"aws-iso":{regions:["us-iso-east-1","us-iso-west-1"],regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.c2s.ic.gov",tags:[]},{hostname:"geo-fips.{region}.c2s.ic.gov",tags:["fips"]}]},"aws-iso-b":{regions:["us-isob-east-1"],regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.sc2s.sgov.gov",tags:[]},{hostname:"geo-fips.{region}.sc2s.sgov.gov",tags:["fips"]}]},"aws-us-gov":{regions:["us-gov-east-1","us-gov-west-1"],regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",variants:[{hostname:"geo.{region}.amazonaws.com",tags:[]},{hostname:"geo-fips.{region}.amazonaws.com",tags:["fips"]},{hostname:"geo-fips.{region}.api.aws",tags:["dualstack","fips"]},{hostname:"geo.{region}.api.aws",tags:["dualstack"]}]}},wne=function(e,n){return R(void 0,void 0,void 0,function(){return N(this,function(r){return[2,yZ(e,u(u({},n),{signingService:"geo",regionHash:JIe,partitionHash:WIe}))]})})};var bne=function(e){var n,r,t,i,a;return{apiVersion:"2020-11-19",disableHostPrefix:(n=e?.disableHostPrefix)!==null&&n!==void 0?n:!1,logger:(r=e?.logger)!==null&&r!==void 0?r:{},regionInfoProvider:(t=e?.regionInfoProvider)!==null&&t!==void 0?t:wne,serviceId:(i=e?.serviceId)!==null&&i!==void 0?i:"Location",urlParser:(a=e?.urlParser)!==null&&a!==void 0?a:gne}};var _ne=function(e){var n,r,t,i,a,s,c,d,o,l,f,m,p,v,h,y=bne(e);return u(u(u({},y),e),{runtime:"browser",base64Decoder:(n=e?.base64Decoder)!==null&&n!==void 0?n:ey,base64Encoder:(r=e?.base64Encoder)!==null&&r!==void 0?r:une,bodyLengthChecker:(t=e?.bodyLengthChecker)!==null&&t!==void 0?t:pne,credentialDefaultProvider:(i=e?.credentialDefaultProvider)!==null&&i!==void 0?i:function(g){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:(a=e?.defaultUserAgentProvider)!==null&&a!==void 0?a:hne({serviceId:y.serviceId,clientVersion:Eee.version}),maxAttempts:(s=e?.maxAttempts)!==null&&s!==void 0?s:Fc,region:(c=e?.region)!==null&&c!==void 0?c:mne("Region is missing"),requestHandler:(d=e?.requestHandler)!==null&&d!==void 0?d:new lne,retryMode:(o=e?.retryMode)!==null&&o!==void 0?o:function(){return Promise.resolve(oS)},sha256:(l=e?.sha256)!==null&&l!==void 0?l:Ene.Sha256,streamCollector:(f=e?.streamCollector)!==null&&f!==void 0?f:fne,useDualstackEndpoint:(m=e?.useDualstackEndpoint)!==null&&m!==void 0?m:function(){return Promise.resolve(dZ)},useFipsEndpoint:(p=e?.useFipsEndpoint)!==null&&p!==void 0?p:function(){return Promise.resolve(lZ)},utf8Decoder:(v=e?.utf8Decoder)!==null&&v!==void 0?v:ny.fromUtf8,utf8Encoder:(h=e?.utf8Encoder)!==null&&h!==void 0?h:ny.toUtf8})};var nx=function(e){J(n,e);function n(r){var t=this,i=_ne(r),a=mZ(i),s=fZ(a),c=HZ(s),d=c,o=vee(d),l=gee(o);return t=e.call(this,l)||this,t.config=l,t.middlewareStack.use(GZ(t.config)),t.middlewareStack.use(wZ(t.config)),t.middlewareStack.use(bZ(t.config)),t.middlewareStack.use(EZ(t.config)),t.middlewareStack.use(yee(t.config)),t.middlewareStack.use(bee(t.config)),t}return n.prototype.destroy=function(){e.prototype.destroy.call(this)},n}(OX);var rx=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},tx=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},ja=new q("AmazonLocationServiceProvider"),Sne=function(){function e(n){this._config=n||{},ja.debug("Geo Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(n){return ja.debug("configure Amazon Location Service Provider",n),n?(this._config=Object.assign({},this._config,n),this._config):this._config},e.prototype.getAvailableMaps=function(){this._verifyMapResources();var n=[],r=this._config.maps.items,t=this._config.region;for(var i in r){var a=r[i].style;n.push({mapName:i,style:a,region:t})}return n},e.prototype.getDefaultMap=function(){this._verifyMapResources();var n=this._config.maps.default,r=this._config.maps.items[n].style,t=this._config.region;return{mapName:n,style:r,region:t}},e.prototype.searchByText=function(n,r){return rx(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l;return tx(this,function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(t=f.sent(),!t)throw new Error("No credentials");this._verifySearchIndex(r?.searchIndexName),i={Text:n,IndexName:this._config.search_indices.default},r&&(i.FilterCountries=r.countries,i.MaxResults=r.maxResults,r.searchIndexName&&(i.IndexName=r.searchIndexName),r.biasPosition?i.BiasPosition=r.biasPosition:r.searchAreaConstraints&&(i.FilterBBox=r.searchAreaConstraints)),a=new nx({credentials:this._config.credentials,region:this._config.region,customUserAgent:Ye()}),s=new cZ(i),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.send(s)];case 3:return c=f.sent(),[3,5];case 4:throw d=f.sent(),ja.debug(d),d;case 5:return o=c.Results.map(function(m){return m.Place}),l=(0,ax.default)(o,{deep:!0}),[2,l]}})})},e.prototype.searchByCoordinates=function(n,r){return rx(this,void 0,void 0,function(){var t,i,a,s,c,d,o,l;return tx(this,function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(t=f.sent(),!t)throw new Error("No credentials");this._verifySearchIndex(r?.searchIndexName),i={Position:n,IndexName:this._config.search_indices.default},r&&(r.searchIndexName&&(i.IndexName=r.searchIndexName),i.MaxResults=r.maxResults),a=new nx({credentials:this._config.credentials,region:this._config.region,customUserAgent:Ye()}),s=new sZ(i),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.send(s)];case 3:return c=f.sent(),[3,5];case 4:throw d=f.sent(),ja.debug(d),d;case 5:return o=c.Results.map(function(m){return m.Place}),l=(0,ax.default)(o[0],{deep:!0}),[2,l]}})})},e.prototype._ensureCredentials=function(){return rx(this,void 0,void 0,function(){var n,r,t;return tx(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,ie.get()];case 1:return n=i.sent(),n?(r=ie.shear(n),ja.debug("Set credentials for storage. Credentials are:",r),this._config.credentials=r,[2,!0]):[2,!1];case 2:return t=i.sent(),ja.warn("Ensure credentials error. Credentials are:",t),[2,!1];case 3:return[2]}})})},e.prototype._verifyMapResources=function(){if(!this._config.maps){var n="No map resources found in amplify config, run 'amplify add geo' to create them and ensure to run `amplify push` after";throw ja.warn(n),new Error(n)}if(!this._config.maps.default){var n="No default map resource found in amplify config, run 'amplify add geo' to create one and ensure to run `amplify push` after";throw ja.warn(n),new Error(n)}},e.prototype._verifySearchIndex=function(n){if((!this._config.search_indices||!this._config.search_indices.default)&&!n){var r="No Search Index found, please run `amplify add geo` to add one and ensure to run `amplify push` after.";throw ja.warn(r),new Error(r)}},e.CATEGORY="Geo",e.PROVIDER_NAME="AmazonLocationService",e}();var xne=function(e,n,r,t){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(l){try{o(t.next(l))}catch(f){s(f)}}function d(l){try{o(t.throw(l))}catch(f){s(f)}}function o(l){l.done?a(l.value):i(l.value).then(c,d)}o((t=t.apply(e,n||[])).next())})},Cne=function(e,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(l){return d([o,l])}}function d(o){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,i&&(a=o[0]&2?i.return:o[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[o[0]&2,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++,i=o[1],o=[0];continue;case 7:o=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1],a=o;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(o);break}a[2]&&r.ops.pop(),r.trys.pop();continue}o=n.call(e,r)}catch(l){o=[6,l],i=0}finally{t=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Kl=new q("Geo"),ry="AmazonLocationService",XIe=function(){function e(){this._config={},this._pluggables=[],Kl.debug("Geo Options",this._config)}return e.prototype.getModuleName=function(){return e.MODULE},e.prototype.addPluggable=function(n){if(n&&n.getCategory()==="Geo"){this._pluggables.push(n);var r=n.configure(this._config[n.getProviderName()]);return r}},e.prototype.getPluggable=function(n){var r=this._pluggables.find(function(t){return t.getProviderName()===n});if(r===void 0)throw Kl.debug("No plugin found with providerName",n),new Error("No plugin found in Geo for the provider");return r},e.prototype.removePluggable=function(n){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==n})},e.prototype.configure=function(n){var r=this;if(Kl.debug("configure Geo"),!n)return this._config;var t=sd(n);return this._config=Object.assign({},this._config,t.Geo,n),this._pluggables.forEach(function(i){i.configure(r._config[i.getProviderName()])}),this._pluggables.length===0&&this.addPluggable(new Sne),this._config},e.prototype.getAvailableMaps=function(n){n===void 0&&(n=ry);var r=this.getPluggable(n);return r.getAvailableMaps()},e.prototype.getDefaultMap=function(n){n===void 0&&(n=ry);var r=this.getPluggable(n);return r.getDefaultMap()},e.prototype.searchByText=function(n,r){return xne(this,void 0,void 0,function(){var t,i,a,s;return Cne(this,function(c){switch(c.label){case 0:t=(r||{}).providerName,i=t===void 0?ry:t,a=this.getPluggable(i),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.searchByText(n,r)];case 2:return[2,c.sent()];case 3:throw s=c.sent(),Kl.debug(s),s;case 4:return[2]}})})},e.prototype.searchByCoordinates=function(n,r){return xne(this,void 0,void 0,function(){var t,i,a,s;return Cne(this,function(c){switch(c.label){case 0:t=(r||{}).providerName,i=t===void 0?ry:t,a=this.getPluggable(i),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.searchByCoordinates(n,r)];case 2:return[2,c.sent()];case 3:throw s=c.sent(),Kl.debug(s),s;case 4:return[2]}})})},e.MODULE="Geo",e}();var ty=new XIe;se.register(ty);se.Auth=zr;se.Cache=fn;se.ServiceWorker=Es;var YIe=se;export{se as Amplify,zr as Auth};
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   *)

js-cookie/src/js.cookie.js:
  (*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@aws-amplify/core/lib-esm/Util/Mutex.js:
  (*!
   * The MIT License (MIT)
   *
   * Copyright (c) 2016 Christian Speckner <cnspeckn@googlemail.com>
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   * THE SOFTWARE.
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

amazon-cognito-identity-js/es/AuthenticationDetails.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/AuthenticationHelper.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoJwtToken.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoIdToken.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoRefreshToken.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoUserSession.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/DateHelper.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoUserAttribute.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/StorageHelper.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoUser.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/CognitoUserPool.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

amazon-cognito-identity-js/es/index.js:
  (*!
   * Copyright 2016 Amazon.com,
   * Inc. or its affiliates. All Rights Reserved.
   *
   * Licensed under the Amazon Software License (the "License").
   * You may not use this file except in compliance with the
   * License. A copy of the License is located at
   *
   *     http://aws.amazon.com/asl/
   *
   * or in the "license" file accompanying this file. This file is
   * distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
   * CONDITIONS OF ANY KIND, express or implied. See the License
   * for the specific language governing permissions and
   * limitations under the License.
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
