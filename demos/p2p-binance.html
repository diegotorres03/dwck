<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>P2P Bot</title>

  <script src="../node_modules/dexie/dist/dexie.js"></script>
  <script type="module" src="../lib/app-layout/app-layout.js"></script>
  <script type="module" src="../lib/app-modal/app-modal.js"></script>
  <script type="module" src="../lib/app-router/app-router.js"></script>
  <script type="module" src="../lib/header-card/header-card.js"></script>
  <script type="module" src="../lib/http-request/http-request.js"></script>
  <script type="module" src="../lib/ui-data/ui-data-sync.js"></script>
  <script type="module" src="../lib/simple-card/simple-card.js"></script>
  <script type="module" src="../lib/note-card/note-card.js"></script>
  <script type="module" src="../lib/kanban-board/kanban-board.js"></script>
  <script type="module" src="../lib/data-store/data-store.js"></script>

  <link rel="stylesheet" href="../lib/themes/dark-theme.css">
  <link rel="stylesheet" href="../lib/style-tools.css">
  <!-- Quill -->
  <script src="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.bubble.css" rel="stylesheet">

</head>

<body>

  <!-- <ui-data-repeat >

    <template>
      <header-card>
        <h4 slot="header">otra cosa</h4>
        
        <section>
          <b>Publisher:</b><span name="publisher">Carras</span><br>
          <b>Amout:</b><span>$1'000.000</span>
          <b>Tasa:</b><span>$3'800.000</span>
          <b>medio de pago:</b><span>Nequi, Bancolombia</span>
        </section>
        
      </header-card>
    </template>
    
  </ui-data-repeat> -->


  <http-request trigger="#refresh-open-orders" on="click" url="http://localhost:3000/open-orders"
    target="#open-order-list"></http-request>

  <app-layout >

    <header>
      <h3>P2P Bot</h3>
    </header>

    <nav>
      <a href="#">Dashboard</a><br>
      <a href="#open-orders">Open Orders</a><br>
      <a href="#history">History</a><br>
      <!-- <button id="refresh-open-orders">refresh</button> -->
    </nav>

    <main>

      <app-router>

        <app-route>
          estas es la ruta por defecto
          Dashboard
        </app-route>

        <app-route hash="open-orders">
          <h2>open orders</h2>

          <ui-data-sync trigger="#risk-profile-form" on="change">
            <h4 name="value"></h4>
          </ui-data-sync>


          <hr>
          <section id="open-order-list"></section>

          <hr>
          <simple-card editable>
            <p>Este es el listado de ordenes representado en un tablero kanban</p>
            <p>La idea es usar este espacio para crear, y manejar ordenes, en una interface drag and drop donde se ven
              todos los anuncios</p>
          </simple-card>

          <button id="create-order-btn">Crear anuncio</button>

          <app-modal id="create-order-modal" trigger="#create-order-btn">
            <section>
              <b>Aca se crea la orden</b>
              <br>
              <label for="activo">Activo</label>
              <input list="lista-de-activos" type="text" id="activo" name="activo">
              <datalist id="lista-de-activos">
                <option value="USDT">USDT</option>
                <option value="BUSD">BUSD</option>
                <option value="BTC">BTC</option>
                <option value="LTC">LTC</option>
                <option value="BNB">BNB</option>
              </datalist>
              <br>
              <label for="fiat">Fiat</label>
              <input list="lista-de-fiats" type="text" name="fiat" id="fiat" name="fiat" value="COP">
              <datalist id="lista-de-fiats">
                <option value="COP">COP</option>
                <option value="USD">USD</option>
              </datalist>

              <br>

              <b>Tipo de Precio:</b>
              <br>
              <input type="radio" name="tipo-de-precio" id="precio-fijo" value="fijo">
              <label for="precio-fijo">Precio Fijo</label>
              <input type="radio" name="tipo-de-precio" id="precio-flexible" value="flexible" disabled>
              <label for="precio-flexible">Precio Flexible</label>


              <br>

              <b>Direccion:</b>
              <br>
              <input type="radio" name="direccion-orden" id="compra" value="compra">
              <label for="compra">Compra</label>
              <input type="radio" name="direccion-orden" id="venta" value="venta">
              <label for="venta">Venta</label>
              
              <br>

              <label for="precio">Precio</label>
              <input type="number" name="precio" id="precio">

            </section>
          </app-modal>


          <data-store id="order-store">
            <data-set id="order-templates" trigger="#create-order-modal" on="accepted" visible></data-set>

          </data-store>

          <ui-data-repeat trigger="#order-templates" on="updated" target="#templates">
            <template>
              <simple-card>
                <h3><span name="activo"></span> - <span name="fiat"></span> </h3>
                <i name="precio"></i>
              </simple-card>
            </template>
          </ui-data-repeat>

          <app-modal trigger="#order-board" on="done">All Done carajo</app-modal>

          <kanban-board id="order-board" title="Bots">
            <kanban-column id="templates" title="Plantillas">
              <note-card editable>
                Order 1
              </note-card>
            </kanban-column>
            <kanban-column id="running" title="En Proceso"></kanban-column>
            <kanban-column id="paused" title="Pausadas"></kanban-column>
            <kanban-column id="done" title="Listas"></kanban-column>
          </kanban-board>


          <http-request trigger="#order-board" on="running" url="http://localhost:3000/orders/run" method="post"
            target="#open-order-list"></http-request>

          <http-request trigger="#order-board" on="paused" url="http://localhost:3000/orders/pause" method="post"
            target="#open-order-list"></http-request>

          <http-request trigger="#order-board" on="done" url="http://localhost:3000/orders/stop" method="post"
            target="#open-order-list"></http-request>

        </app-route>

        <app-route hash="history">
          history
        </app-route>

      </app-router>

    </main>

    <footer>
      <a href="mailto:info@SmartClick.com">info@SmartClick.com</a>
    </footer>

  </app-layout>



</body>

</html>